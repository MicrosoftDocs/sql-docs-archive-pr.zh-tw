---
title: TCP/IP 屬性 (IP 位址] 索引標籤) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- ports [SQL Server], listening on
- listening [SQL Server], on ports
ms.assetid: 4c17ed45-9da7-4bec-bce6-970109fe7365
author: stevestein
ms.author: sstein
ms.openlocfilehash: af157a5826d98b31cb98a2a9e203f847ed37df10
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87585739"
---
# <a name="tcp-ip-properties-ip-addresses-tab"></a><span data-ttu-id="ce824-102">TCP/IP 屬性 (IP 位址] 索引標籤) </span><span class="sxs-lookup"><span data-stu-id="ce824-102">TCP-IP Properties (IP Addresses Tab)</span></span>
  <span data-ttu-id="ce824-103">您可以使用 **[TCP/IP 屬性 (IP 位址索引標籤)]** 對話方塊，設定特定 IP 位址的 TCP/IP 通訊協定選項。</span><span class="sxs-lookup"><span data-stu-id="ce824-103">Use the **TCP/IP Properties (IP Addresses Tab)** dialog box to configure the TCP/IP protocol options for a specific IP address.</span></span> <span data-ttu-id="ce824-104">您只能透過選取 **[IPAll]** ，一次設定所有位址的 **[TCP 動態通訊埠]** 和 **[TCP 通訊埠]** 。</span><span class="sxs-lookup"><span data-stu-id="ce824-104">Only **TCP Dynamic Ports** and **TCP Port** can be configured for all addresses at once by selecting **IP All**.</span></span>  
  
 <span data-ttu-id="ce824-105">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 重新開機時，變更就會生效。</span><span class="sxs-lookup"><span data-stu-id="ce824-105">Changes take effect when [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is restarted.</span></span> <span data-ttu-id="ce824-106">如需有關啟動與停止 SQL Server Browser 服務的詳細資訊，請參閱線上叢書中的＜如何：啟動與停止 SQL Server Browser 服務＞。</span><span class="sxs-lookup"><span data-stu-id="ce824-106">For information about starting and stopping the SQL Server Browser service, see How to: Start and Stop the SQL Server Browser Service in Books Online.</span></span>  
  
## <a name="static-vs-dynamic-ports"></a><span data-ttu-id="ce824-107">靜態與動態通訊埠</span><span class="sxs-lookup"><span data-stu-id="ce824-107">Static vs. Dynamic Ports</span></span>  
 <span data-ttu-id="ce824-108">預設的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體使用通訊埠 1433 接聽內送連接。</span><span class="sxs-lookup"><span data-stu-id="ce824-108">The default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] listens for incoming connections on port 1433.</span></span> <span data-ttu-id="ce824-109">為了安全上的理由或因為用戶端應用程式的需求，可以變更此通訊埠。</span><span class="sxs-lookup"><span data-stu-id="ce824-109">The port can be changed for security reasons or because of a client application requirement.</span></span> <span data-ttu-id="ce824-110">根據預設，具名執行個體 (包括 SQL Server Express) 設定為接聽動態通訊埠。</span><span class="sxs-lookup"><span data-stu-id="ce824-110">By default, named instances (including SQL Server Express) are configured to listen on dynamic ports.</span></span> <span data-ttu-id="ce824-111">若要設定靜態通訊埠，請將 **[TCP 動態通訊埠]** 方塊保留空白，並於 **[TCP 通訊埠]** 方塊中提供可用的通訊埠編號。</span><span class="sxs-lookup"><span data-stu-id="ce824-111">To configure a static port, leave the **TCP Dynamic Ports** box blank and provide an available port number in the **TCP Port** box.</span></span> <span data-ttu-id="ce824-112">如需有關在防火牆中開啟通訊埠的詳細資訊，請參閱線上叢書中的＜將 Windows 防火牆設定成允許 SQL Server 存取＞。</span><span class="sxs-lookup"><span data-stu-id="ce824-112">For more information about opening ports in the firewall, see Configuring the Windows Firewall to Allow SQL Server Access in Books Online.</span></span>  
  
## <a name="dynamic-ports"></a><span data-ttu-id="ce824-113">動態通訊埠</span><span class="sxs-lookup"><span data-stu-id="ce824-113">Dynamic Ports</span></span>  
 <span data-ttu-id="ce824-114">當 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的執行個體設為接聽動態通訊埠，就會在啟動時檢查作業系統是否有可用的通訊埠，並為該通訊埠開啟一個端點。</span><span class="sxs-lookup"><span data-stu-id="ce824-114">At startup, when an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is configured to listen on dynamic ports, it checks with the operating system for an available port, and opens an endpoint for that port.</span></span> <span data-ttu-id="ce824-115">內送連接必須指定要連接的通訊埠編號。</span><span class="sxs-lookup"><span data-stu-id="ce824-115">Incoming connections must specify that port number to connect.</span></span> <span data-ttu-id="ce824-116">因為 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 每次啟動時通訊埠編號都會變更，所以 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 會提供 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務以監視通訊埠，並將內送連接導向該執行個體目前的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="ce824-116">Since the port number can change each time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] starts, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] provides the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser Service, to monitor the ports, and direct incoming connections to the current port for that instance.</span></span> <span data-ttu-id="ce824-117">使用動態通訊埠時，透過防火牆連接 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 將變得非常複雜，因為 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 重新啟動時通訊埠編號可能會變更，因此需要變更防火牆設定。</span><span class="sxs-lookup"><span data-stu-id="ce824-117">Using dynamic ports complicates connecting [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through a firewall because the port number may change when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is restarted, requiring changes to the firewall settings.</span></span> <span data-ttu-id="ce824-118">若要避免透過防火牆連接時發生問題，請將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 設定為使用靜態通訊埠。</span><span class="sxs-lookup"><span data-stu-id="ce824-118">To avoid connection problems through a firewall, configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use a static port.</span></span>  
  
## <a name="options"></a><span data-ttu-id="ce824-119">選項。</span><span class="sxs-lookup"><span data-stu-id="ce824-119">Options</span></span>  
 <span data-ttu-id="ce824-120">**使用中**</span><span class="sxs-lookup"><span data-stu-id="ce824-120">**Active**</span></span>  
 <span data-ttu-id="ce824-121">指出電腦上的 IP 位址為使用中狀態。</span><span class="sxs-lookup"><span data-stu-id="ce824-121">Indicates that the IP address is active on the computer.</span></span> <span data-ttu-id="ce824-122">不適用於 **[IPAll]** 。</span><span class="sxs-lookup"><span data-stu-id="ce824-122">Not available for **IPAll**.</span></span>  
  
 <span data-ttu-id="ce824-123">**已啟用**</span><span class="sxs-lookup"><span data-stu-id="ce824-123">**Enabled**</span></span>  
 <span data-ttu-id="ce824-124">如果 **[TCP/IP 屬性 (通訊協定索引標籤)]** 上的 **[全部接聽]** 屬性設為 **[否]** ，此屬性便會指出 SQL Server 是否正在接聽該 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="ce824-124">If the **Listen All** property on the **TCP/IP Properties (Protocol Tab)** is set to **No**, this property indicates whether SQL Server is listening on the IP address.</span></span> <span data-ttu-id="ce824-125">如果 **[TCP/IP 屬性 (通訊協定索引標籤)]** 上的 **[全部接聽]** 屬性設為 **[是]** ，則會忽略此屬性。</span><span class="sxs-lookup"><span data-stu-id="ce824-125">If the **Listen All** property on the **TCP/IP Properties (Protocol Tab)** is set to **Yes**, the property is disregarded.</span></span> <span data-ttu-id="ce824-126">不適用於 **[IPAll]** 。</span><span class="sxs-lookup"><span data-stu-id="ce824-126">Not available for **IPAll**.</span></span>  
  
 <span data-ttu-id="ce824-127">**IP 位址**</span><span class="sxs-lookup"><span data-stu-id="ce824-127">**IP Address**</span></span>  
 <span data-ttu-id="ce824-128">檢視或變更此連線使用的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="ce824-128">View or change the IP address used by this connection.</span></span> <span data-ttu-id="ce824-129">列出電腦使用的 IP 位址以及 IP 回送位址 127.0.0.1。</span><span class="sxs-lookup"><span data-stu-id="ce824-129">Lists the IP address used by the computer, and the IP loopback address, 127.0.0.1.</span></span> <span data-ttu-id="ce824-130">不適用於 **[IPAll]** 。</span><span class="sxs-lookup"><span data-stu-id="ce824-130">Not available for **IPAll**.</span></span> <span data-ttu-id="ce824-131">IP 位址可以採用 IPv4 或 IPv6 其中一種格式。</span><span class="sxs-lookup"><span data-stu-id="ce824-131">The IP address can be in either IPv4 or IPv6 format.</span></span>  
  
 <span data-ttu-id="ce824-132">**[IPAll]**</span><span class="sxs-lookup"><span data-stu-id="ce824-132">**TCP Dynamic Ports**</span></span>  
 <span data-ttu-id="ce824-133">如果未啟用動態通訊埠，就會空白。</span><span class="sxs-lookup"><span data-stu-id="ce824-133">Blank, if dynamic ports are not enabled.</span></span> <span data-ttu-id="ce824-134">若要使用動態通訊埠，請設為 0。</span><span class="sxs-lookup"><span data-stu-id="ce824-134">To use dynamic ports, set to 0.</span></span>  
  
 <span data-ttu-id="ce824-135">若為 **[IPAll]** ，則顯示使用之動態通訊埠的通訊埠編號。</span><span class="sxs-lookup"><span data-stu-id="ce824-135">For **IPAll**, displays the port number of the dynamic port used.</span></span>  
  
 <span data-ttu-id="ce824-136">**[TCP 動態通訊埠]**</span><span class="sxs-lookup"><span data-stu-id="ce824-136">**TCP Port**</span></span>  
 <span data-ttu-id="ce824-137">檢視或變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 接聽的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="ce824-137">View or change the port on which [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] listens.</span></span> <span data-ttu-id="ce824-138">根據預設， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 的預設執行個體會接聽通訊埠 1433。</span><span class="sxs-lookup"><span data-stu-id="ce824-138">By default, the default instance of [!INCLUDE[ssDE](../../includes/ssde-md.md)] listens on port 1433.</span></span>  
  
 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] <span data-ttu-id="ce824-139">可以在同一個 IP 位址接聽多個通訊埠，方法是使用逗號隔開通訊埠 (例如，1433,1500,1501)。</span><span class="sxs-lookup"><span data-stu-id="ce824-139">can listen on multiple ports on the same IP address, list the ports, separated by commas, in the format 1433,1500,1501.</span></span> <span data-ttu-id="ce824-140">此欄位最長不可超過 2047 個字元。</span><span class="sxs-lookup"><span data-stu-id="ce824-140">This field is limited to 2047 characters.</span></span>  
  
 <span data-ttu-id="ce824-141">若要設定單一 IP 位址接聽多個通訊埠，還必須在 [TCP/IP 屬性] 對話方塊的 [通訊協定] 索引標籤上，將 [全部接聽] 參數設為 [否]。</span><span class="sxs-lookup"><span data-stu-id="ce824-141">To configure a single IP address to listen on multiple ports, the **Listen All** parameter must also be set to **No**, on the **Protocols Tab** of the **TCP/IP Properties** dialog box.</span></span> <span data-ttu-id="ce824-142">如需詳細資訊，請參閱 SQL Server 線上叢書的＜如何：設定 Database Engine 以在＜ [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online＞接聽多個 TCP 通訊埠的。</span><span class="sxs-lookup"><span data-stu-id="ce824-142">For more information, see "How to: Configure the Database Engine to Listen on Multiple TCP Ports" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="adding-or-removing-ip-addresses"></a><span data-ttu-id="ce824-143">新增或移除 IP 位址</span><span class="sxs-lookup"><span data-stu-id="ce824-143">Adding or Removing IP Addresses</span></span>  
 <span data-ttu-id="ce824-144">「[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員」顯示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝後可用的 IP 位址。</span><span class="sxs-lookup"><span data-stu-id="ce824-144">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager displays the IP addresses that were available at the time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] was installed.</span></span> <span data-ttu-id="ce824-145">加入或移除網路卡時、動態指派的 IP 位址過期時、重新設定網路結構時，或是電腦的實際位置有變化時 (例如，膝上型電腦在不同的大樓連接到網路)，可用的 IP 位址都會有變動。</span><span class="sxs-lookup"><span data-stu-id="ce824-145">The available IP addresses can change when network cards are added or removed, when a dynamically assigned IP address expires, when the network structure is reconfigured, or when the computer changes its physical location such as a laptop computer connecting to the network in a different building.</span></span> <span data-ttu-id="ce824-146">若要變更 IP 位址，請編輯 **[IP 位址]** 方塊，然後重新啟動 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="ce824-146">To change an IP address, edit the **IP Address** box, and then restart [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ce824-147">另請參閱</span><span class="sxs-lookup"><span data-stu-id="ce824-147">See Also</span></span>  
 <span data-ttu-id="ce824-148">[選擇網路通訊協定](../../../2014/tools/configuration-manager/choosing-a-network-protocol.md) </span><span class="sxs-lookup"><span data-stu-id="ce824-148">[Choosing a Network Protocol](../../../2014/tools/configuration-manager/choosing-a-network-protocol.md) </span></span>  
 <span data-ttu-id="ce824-149">[使用 TCP IP 建立有效的連接字串](../../../2014/tools/configuration-manager/creating-a-valid-connection-string-using-tcp-ip.md) </span><span class="sxs-lookup"><span data-stu-id="ce824-149">[Creating a Valid Connection String Using TCP IP](../../../2014/tools/configuration-manager/creating-a-valid-connection-string-using-tcp-ip.md) </span></span>  
 [<span data-ttu-id="ce824-150">SQL Server Browser 服務</span><span class="sxs-lookup"><span data-stu-id="ce824-150">SQL Server Browser Service</span></span>](../../../2014/tools/configuration-manager/sql-server-browser-service.md)  
  
  
