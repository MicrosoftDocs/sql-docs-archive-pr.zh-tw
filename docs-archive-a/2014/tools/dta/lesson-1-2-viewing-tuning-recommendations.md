---
title: 查看微調建議 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- Database Engine [SQL Server], tutorials
ms.assetid: e4e690c9-434f-4b01-b4de-0b905323ddd6
author: stevestein
ms.author: sstein
ms.openlocfilehash: 6d938767d874edd8f14bdaa91c0cf52023478f53
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87703622"
---
# <a name="viewing-tuning-recommendations"></a><span data-ttu-id="09790-102">檢視微調建議</span><span class="sxs-lookup"><span data-stu-id="09790-102">Viewing Tuning Recommendations</span></span>
  <span data-ttu-id="09790-103"> 這項工作使用您先前在[微調工作負載](lesson-1-1-tuning-a-workload.md)中所建立的微調工作階段。</span><span class="sxs-lookup"><span data-stu-id="09790-103">This task uses the tuning session that you created in [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span> <span data-ttu-id="09790-104">[!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)]使用 myscript.sql 腳本微調資料庫之後 [!INCLUDE[tsql](../../includes/tsql-md.md)] ， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 微調建議程式會在 [**建議**] 索引標籤上顯示其結果。下列工作會介紹微調**建議**程式圖形化使用者介面 (GUI) 的 [建議] 索引標籤 [!INCLUDE[ssDE](../../includes/ssde-md.md)] ，並引導您探索它針對微調會話結果所提供的資訊。</span><span class="sxs-lookup"><span data-stu-id="09790-104">After you have tuned the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database by using the MyScript.sql [!INCLUDE[tsql](../../includes/tsql-md.md)] script, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor displays its results on the **Recommendations** tab. The following task introduces the **Recommendations** tab of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor graphical user interface (GUI) and guides you to explore the information it provides about the tuning session results.</span></span>  
  
### <a name="view-tuning-recommendations"></a><span data-ttu-id="09790-105">檢視微調建議</span><span class="sxs-lookup"><span data-stu-id="09790-105">View tuning recommendations</span></span>  
  
1.  <span data-ttu-id="09790-106">啟動 [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor。</span><span class="sxs-lookup"><span data-stu-id="09790-106">Start [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span> <span data-ttu-id="09790-107">請參閱 [啟動 Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md)。</span><span class="sxs-lookup"><span data-stu-id="09790-107">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span> <span data-ttu-id="09790-108">請確定您連接 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 微調工作負載 [練習所用的相同](lesson-1-1-tuning-a-workload.md)執行個體。</span><span class="sxs-lookup"><span data-stu-id="09790-108">Make sure that you connect to the same [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that you used in the practice [Tuning a Workload](lesson-1-1-tuning-a-workload.md).</span></span>  
  
2.  <span data-ttu-id="09790-109">在 [工作階段監視器]\*\*\*\* 窗格中，按兩下 [MySession]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="09790-109">Double-click **MySession** in the **Session Monitor** pane.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)]<span data-ttu-id="09790-110">微調顧問會從先前的微調會話載入會話資訊，並顯示 [**建議**] 索引標籤。請注意， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 因為您已接受所有微調選項預設值，而且在 [**微調選項**] 索引標籤上**未選取任何分割**，所以微調建議程式不會進行**分割**</span><span class="sxs-lookup"><span data-stu-id="09790-110">Tuning Advisor loads the session information from your previous tuning session and displays the **Recommendations** tab. Note that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor made no **Partition Recommendations** because you accepted all the tuning option defaults and **No partitioning** was selected on the **Tuning Options** tab.</span></span>  
  
3.  <span data-ttu-id="09790-111">在 [建議]\*\*\*\* 索引標籤上，利用索引標籤頁面底端的捲軸來檢視所有 [索引建議]\*\*\*\* 資料行。</span><span class="sxs-lookup"><span data-stu-id="09790-111">On the **Recommendations** tab, use the scroll bar at the bottom of the tabbed page to view all of the **Index Recommendations** columns.</span></span> <span data-ttu-id="09790-112">每個資料列都代表一個 [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor 建議要卸除或建立的資料庫物件 (索引或索引檢視表)。</span><span class="sxs-lookup"><span data-stu-id="09790-112">Each row represents a database object (indexes or indexed views) that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor recommends be dropped or created.</span></span> <span data-ttu-id="09790-113">捲到最右側資料行，按一下 [定義]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="09790-113">Scroll to the right-most column and click a **Definition**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="09790-114">Tuning Advisor 會顯示一個 [SQL 指令碼預覽]\*\*\*\* 視窗，供您檢視在這個資料列上建立或卸除資料庫物件的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 指令碼。</span><span class="sxs-lookup"><span data-stu-id="09790-114">Tuning Advisor displays a **SQL Script Preview** window where you can view the [!INCLUDE[tsql](../../includes/tsql-md.md)] script that creates or drops the database object on that row.</span></span> <span data-ttu-id="09790-115">按一下 [關閉]\*\*\*\* 來關閉預覽視窗。</span><span class="sxs-lookup"><span data-stu-id="09790-115">Click **Close** to close the preview window.</span></span>  
  
     <span data-ttu-id="09790-116">如果您在尋找包含連結的 [定義]\*\*\*\* 時遇到困難，請按一下索引標籤式頁面底端的 [顯示現有的物件]\*\*\*\* 核取方塊加以清除，以減少顯示的資料列數。</span><span class="sxs-lookup"><span data-stu-id="09790-116">If you are having difficulty locating a **Definition** that contains a link, click to clear the **Show existing objects** check box at the bottom of the tabbed page, which will decrease the number of rows displayed.</span></span> <span data-ttu-id="09790-117">當您清除這個核取方塊時， [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor 只會顯示它已產生建議的物件。</span><span class="sxs-lookup"><span data-stu-id="09790-117">When you clear this checkbox, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor shows you only the objects for which it has generated a recommendation.</span></span> <span data-ttu-id="09790-118">選取 [顯示現有的物件]\*\*\*\* 核取方塊，以檢視 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 資料庫目前已存在的所有資料庫物件。</span><span class="sxs-lookup"><span data-stu-id="09790-118">Select the **Show existing objects** check box to view all the database objects that currently exist in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="09790-119">請利用索引標籤頁面右側的捲軸來檢視所有物件。</span><span class="sxs-lookup"><span data-stu-id="09790-119">Use the scroll bar at the right side of the tabbed page to view all of the objects.</span></span>  
  
4.  <span data-ttu-id="09790-120">在 [索引建議]\*\*\*\* 窗格中，以滑鼠右鍵按一下方格。</span><span class="sxs-lookup"><span data-stu-id="09790-120">Right-click the grid in the **Index Recommendations** pane.</span></span> <span data-ttu-id="09790-121">這個右鍵功能表可讓您選取和取消選取各項建議。</span><span class="sxs-lookup"><span data-stu-id="09790-121">This right-click menu enables you to select and deselect recommendations.</span></span> <span data-ttu-id="09790-122">您也可以利用它來變更方格文字的字型。</span><span class="sxs-lookup"><span data-stu-id="09790-122">It also enables you to change the font for the grid text.</span></span>  
  
5.  <span data-ttu-id="09790-123">在 [動作]\*\*\*\* 功能表上，按一下 [儲存建議]\*\*\*\*，將所有建議儲存在單一 [!INCLUDE[tsql](../../includes/tsql-md.md)] 指令碼中。</span><span class="sxs-lookup"><span data-stu-id="09790-123">On the **Actions** menu, click **Save Recommendations** to save all of the recommendations into one [!INCLUDE[tsql](../../includes/tsql-md.md)] script.</span></span> <span data-ttu-id="09790-124">將指令碼命名為 `MySessionRecommendations.sql`。</span><span class="sxs-lookup"><span data-stu-id="09790-124">Name the script `MySessionRecommendations.sql`.</span></span>  
  
     <span data-ttu-id="09790-125">在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 的查詢編輯器中，開啟 MySessionRecommendations.sql 指令碼來檢視它。</span><span class="sxs-lookup"><span data-stu-id="09790-125">Open the MySessionRecommendations.sql script in the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to view it.</span></span> <span data-ttu-id="09790-126">您可能會在查詢編輯器中執行這份指令碼，將建議套用在 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 範例資料庫上，但請勿執行這個動作。</span><span class="sxs-lookup"><span data-stu-id="09790-126">You could apply the recommendations to the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database by executing the script in the Query Editor, but do not do this.</span></span> <span data-ttu-id="09790-127">請在查詢編輯器中關閉這份指令碼，不要執行它。</span><span class="sxs-lookup"><span data-stu-id="09790-127">Close the script in Query Editor without running it.</span></span>  
  
     <span data-ttu-id="09790-128">或者，您也可以在 [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor 的 [動作]\*\*\*\* 功能表上，按一下 [套用建議]\*\*\*\* 來套用建議，但現在請先不要在這個練習中套用這些建議。</span><span class="sxs-lookup"><span data-stu-id="09790-128">As an alternative, you could also apply the recommendations by clicking **Apply Recommendations** on the **Actions** menu of [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor, but do not apply these recommendations now in this practice.</span></span>  
  
6.  <span data-ttu-id="09790-129">如果 [建議]\*\*\*\* 索引標籤中存在多個建議，請清除某些在 [索引建議]\*\*\*\* 方格中列出資料庫物件的資料列。</span><span class="sxs-lookup"><span data-stu-id="09790-129">If more than one recommendation exists on the **Recommendations** tab, clear some of the rows that list database objects in the **Index Recommendations** grid.</span></span>  
  
7.  <span data-ttu-id="09790-130">在 **[動作]** 功能表上，按一下 **[評估建議]** 。</span><span class="sxs-lookup"><span data-stu-id="09790-130">On the **Actions** menu, click **Evaluate Recommendations**.</span></span> [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="09790-131">Tuning Advisor 就會建立一個新的微調工作階段，供您評估 MySession 的部分原始建議。</span><span class="sxs-lookup"><span data-stu-id="09790-131">Tuning Advisor creates a new tuning session where you can evaluate a subset of the original recommendations from MySession.</span></span>  
  
8.  <span data-ttu-id="09790-132">輸入 `EvaluateMySession` 作為新的**會話名稱**，然後按一下工具列上的 [**開始分析**] 按鈕。</span><span class="sxs-lookup"><span data-stu-id="09790-132">Type `EvaluateMySession` for your new **Session name**, and click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="09790-133">您可以針對這個新的微調工作階段，重複步驟 2 和 3 來檢視它的建議。</span><span class="sxs-lookup"><span data-stu-id="09790-133">You can repeat Steps 2 and 3 for this new tuning session to view its recommendations.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="09790-134">總結</span><span class="sxs-lookup"><span data-stu-id="09790-134">Summary</span></span>  
 <span data-ttu-id="09790-135">您已檢視 MySession 微調工作階段的 [建議]\*\*\*\* 索引標籤內容，且已在新的 EvaluateMySession 微調工作階段中評估了它的部分建議。</span><span class="sxs-lookup"><span data-stu-id="09790-135">You have viewed the contents of the **Recommendations** tab for the MySession tuning session and evaluated a subset of its recommendations in the new EvaluateMySession tuning session.</span></span>  
  
 <span data-ttu-id="09790-136">如果您在執行工作階段之後，覺得必須變更微調選項，您可能需要評估部分微調建議。</span><span class="sxs-lookup"><span data-stu-id="09790-136">Evaluating a subset of tuning recommendations may be necessary if you find you must change tuning options after you run a session.</span></span> <span data-ttu-id="09790-137">例如，如果您要求 [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor 在指定工作階段的微調選項時考慮索引檢視表，但在產生建議之後，又決定不用索引檢視表。</span><span class="sxs-lookup"><span data-stu-id="09790-137">For example, if you ask [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor to consider indexed views when you specify tuning options for a session, but after the recommendation is generated you decide against using indexed views.</span></span> <span data-ttu-id="09790-138">接著，您可以使用 [**動作**] 功能表上的 [**評估建議**] 選項，讓 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 微調 Advisor 重新評估會話，而不考慮索引視圖。</span><span class="sxs-lookup"><span data-stu-id="09790-138">You can then use the **Evaluate Recommendations** option on the **Actions** menu to have [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor re-evaluate the session without considering indexed views.</span></span> <span data-ttu-id="09790-139">當您使用 [評估建議]\*\*\*\* 選項時，會以假設的方式，將先前產生的建議套用在目前的實體設計上，以達成第二個微調工作階段的實體設計。</span><span class="sxs-lookup"><span data-stu-id="09790-139">When you use the **Evaluate Recommendations** option the previously generated recommendations are hypothetically applied to the current physical design to arrive at the physical design for the second tuning session.</span></span>  
  
 <span data-ttu-id="09790-140">您可以在 [報表]\*\*\*\* 索引標籤中，檢視其他微調結果資訊。這個課程的下一項工作會描述這個索引標籤。</span><span class="sxs-lookup"><span data-stu-id="09790-140">More tuning result information can be viewed in the **Reports** tab, which is described in the next task of this lesson.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="09790-141">本課程的下一項工作</span><span class="sxs-lookup"><span data-stu-id="09790-141">Next Task in Lesson</span></span>  
 [<span data-ttu-id="09790-142">檢視微調報表</span><span class="sxs-lookup"><span data-stu-id="09790-142">Viewing Tuning Reports</span></span>](lesson-1-3-viewing-tuning-reports.md)  
  
  
