---
title: 設定 Distributed Replay |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: tools-other
ms.topic: conceptual
ms.assetid: aee11dde-daad-439b-b594-9f4aeac94335
author: stevestein
ms.author: sstein
ms.openlocfilehash: 97aadd2fdf78f286fbfd8bb720307a145b4704be
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87595331"
---
# <a name="configure-distributed-replay"></a><span data-ttu-id="53d2a-102">設定 Distributed Replay</span><span class="sxs-lookup"><span data-stu-id="53d2a-102">Configure Distributed Replay</span></span>
  <span data-ttu-id="53d2a-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay 組態詳細資料指定於 Distributed Replay Controller、用戶端，以及安裝了管理工具的 XML 檔案中。</span><span class="sxs-lookup"><span data-stu-id="53d2a-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay configuration details are specified in XML files on the Distributed Replay controller, clients, and where the administration tool is installed.</span></span> <span data-ttu-id="53d2a-104">這些檔案包括下列各項：</span><span class="sxs-lookup"><span data-stu-id="53d2a-104">These files include the following:</span></span>  
  
-   [<span data-ttu-id="53d2a-105">控制器組態檔</span><span class="sxs-lookup"><span data-stu-id="53d2a-105">Controller configuration file</span></span>](#DReplayController)  
  
-   [<span data-ttu-id="53d2a-106">用戶端組態檔</span><span class="sxs-lookup"><span data-stu-id="53d2a-106">Client configuration file</span></span>](#DReplayClient)  
  
-   [<span data-ttu-id="53d2a-107">前置處理組態檔</span><span class="sxs-lookup"><span data-stu-id="53d2a-107">Preprocess configuration file</span></span>](#PreprocessConfig)  
  
-   [<span data-ttu-id="53d2a-108">重新執行組態檔</span><span class="sxs-lookup"><span data-stu-id="53d2a-108">Replay configuration file</span></span>](#ReplayConfig)  
  
##  <a name="controller-configuration-file-dreplaycontrollerconfig"></a><a name="DReplayController"></a> <span data-ttu-id="53d2a-109">控制器設定檔：DReplayController.config</span><span class="sxs-lookup"><span data-stu-id="53d2a-109">Controller Configuration File: DReplayController.config</span></span>  
 <span data-ttu-id="53d2a-110">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Controller 服務啟動時，會從控制器組態檔 `DReplayController.config`載入記錄層次。</span><span class="sxs-lookup"><span data-stu-id="53d2a-110">When the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay controller service starts, it loads the logging level from the controller configuration file, `DReplayController.config`.</span></span> <span data-ttu-id="53d2a-111">這個檔案位於您安裝 Distributed Replay Controller 服務的資料夾中：</span><span class="sxs-lookup"><span data-stu-id="53d2a-111">This file is located in the folder where you installed the Distributed Replay controller service:</span></span>  
  
 <span data-ttu-id="53d2a-112">**\<controller installation path>\DReplayController.config**</span><span class="sxs-lookup"><span data-stu-id="53d2a-112">**\<controller installation path>\DReplayController.config**</span></span>  
  
 <span data-ttu-id="53d2a-113">控制器組態檔所指定的記錄層次包括：</span><span class="sxs-lookup"><span data-stu-id="53d2a-113">The logging level specified by the controller configuration file includes the following:</span></span>  
  
|<span data-ttu-id="53d2a-114">設定</span><span class="sxs-lookup"><span data-stu-id="53d2a-114">Setting</span></span>|<span data-ttu-id="53d2a-115">XML 元素</span><span class="sxs-lookup"><span data-stu-id="53d2a-115">XML Element</span></span>|<span data-ttu-id="53d2a-116">描述</span><span class="sxs-lookup"><span data-stu-id="53d2a-116">Description</span></span>|<span data-ttu-id="53d2a-117">允許的值</span><span class="sxs-lookup"><span data-stu-id="53d2a-117">Allowed Values</span></span>|<span data-ttu-id="53d2a-118">必要</span><span class="sxs-lookup"><span data-stu-id="53d2a-118">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="53d2a-119">記錄層級</span><span class="sxs-lookup"><span data-stu-id="53d2a-119">Logging level</span></span>|`<LoggingLevel>`|<span data-ttu-id="53d2a-120">指定控制器服務的記錄層次。</span><span class="sxs-lookup"><span data-stu-id="53d2a-120">Specifies the logging level for the controller service.</span></span>|<span data-ttu-id="53d2a-121">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span><span class="sxs-lookup"><span data-stu-id="53d2a-121">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span></span>|<span data-ttu-id="53d2a-122">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-122">No.</span></span> <span data-ttu-id="53d2a-123">根據預設，此值是 `CRITICAL`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-123">By default, the value is `CRITICAL`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="53d2a-124">範例</span><span class="sxs-lookup"><span data-stu-id="53d2a-124">Example</span></span>  
 <span data-ttu-id="53d2a-125">此範例會顯示已經修改為隱藏 `INFORMATION` 和 `WARNING` 記錄項目的控制器組態檔。</span><span class="sxs-lookup"><span data-stu-id="53d2a-125">This example shows a controller configuration file that has been modified to suppress `INFORMATION` and `WARNING` log entries.</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
<LoggingLevel>CRITICAL</LoggingLevel>  
</Options>  
```  
  
##  <a name="client-configuration-file-dreplayclientconfig"></a><a name="DReplayClient"></a> <span data-ttu-id="53d2a-126">用戶端設定檔：DReplayClient.config</span><span class="sxs-lookup"><span data-stu-id="53d2a-126">Client Configuration File: DReplayClient.config</span></span>  
 <span data-ttu-id="53d2a-127">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay Client 服務啟動時，會從用戶端組態檔 ( `DReplayClient.config`) 載入組態設定。</span><span class="sxs-lookup"><span data-stu-id="53d2a-127">When the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributed Replay client service starts, it loads configuration settings from the client configuration file, `DReplayClient.config`.</span></span> <span data-ttu-id="53d2a-128">這個檔案位於每個用戶端上您安裝 Distributed Replay Client 服務的資料夾中：</span><span class="sxs-lookup"><span data-stu-id="53d2a-128">This file is located on each client, in the folder where you installed the Distributed Replay client service:</span></span>  
  
 <span data-ttu-id="53d2a-129">**\<client installation path>\DReplayClient.config**</span><span class="sxs-lookup"><span data-stu-id="53d2a-129">**\<client installation path>\DReplayClient.config**</span></span>  
  
 <span data-ttu-id="53d2a-130">用戶端組態檔所指定的設定包括：</span><span class="sxs-lookup"><span data-stu-id="53d2a-130">The settings specified by the client configuration file include the following:</span></span>  
  
|<span data-ttu-id="53d2a-131">設定</span><span class="sxs-lookup"><span data-stu-id="53d2a-131">Setting</span></span>|<span data-ttu-id="53d2a-132">XML 元素</span><span class="sxs-lookup"><span data-stu-id="53d2a-132">XML Element</span></span>|<span data-ttu-id="53d2a-133">描述</span><span class="sxs-lookup"><span data-stu-id="53d2a-133">Description</span></span>|<span data-ttu-id="53d2a-134">允許的值</span><span class="sxs-lookup"><span data-stu-id="53d2a-134">Allowed Values</span></span>|<span data-ttu-id="53d2a-135">必要</span><span class="sxs-lookup"><span data-stu-id="53d2a-135">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="53d2a-136">控制器</span><span class="sxs-lookup"><span data-stu-id="53d2a-136">Controller</span></span>|`<Controller>`|<span data-ttu-id="53d2a-137">指定控制器的電腦名稱。</span><span class="sxs-lookup"><span data-stu-id="53d2a-137">Specifies the computer name of the controller.</span></span> <span data-ttu-id="53d2a-138">用戶端會嘗試連絡控制器，藉以向 Distributed Replay 環境註冊。</span><span class="sxs-lookup"><span data-stu-id="53d2a-138">The client will attempt to register with the Distributed Replay environment by contacting the controller.</span></span>|<span data-ttu-id="53d2a-139">您可以使用 "`localhost`" 或 "`.`" 表示本機電腦。</span><span class="sxs-lookup"><span data-stu-id="53d2a-139">You can use "`localhost`" or "`.`" to refer to the local computer.</span></span>|<span data-ttu-id="53d2a-140">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-140">No.</span></span> <span data-ttu-id="53d2a-141">根據預設，用戶端會嘗試向本機執行的 Controller 執行個體 ("`.`") 註冊 (如果它存在的話)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-141">By default, the client tries to register with the controller instance that is running locally ("`.`"), if it exists.</span></span>|  
|<span data-ttu-id="53d2a-142">用戶端工作目錄</span><span class="sxs-lookup"><span data-stu-id="53d2a-142">Client working directory</span></span>|`<WorkingDirectory>`|<span data-ttu-id="53d2a-143">這是在用戶端上儲存分派檔案的本機路徑。</span><span class="sxs-lookup"><span data-stu-id="53d2a-143">Is the local path on the client where the dispatch files are saved.</span></span><br /><br /> <span data-ttu-id="53d2a-144">下一次重新執行時，就會覆寫這個目錄中的檔案。</span><span class="sxs-lookup"><span data-stu-id="53d2a-144">The files in this directory are overwritten on the next replay.</span></span>|<span data-ttu-id="53d2a-145">完整目錄名稱，以磁碟機代號為開頭。</span><span class="sxs-lookup"><span data-stu-id="53d2a-145">A full directory name, starting with the drive letter.</span></span>|<span data-ttu-id="53d2a-146">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-146">No.</span></span> <span data-ttu-id="53d2a-147">如果未指定值，則分派檔案與預設用戶端組態檔會儲存在相同的位置。</span><span class="sxs-lookup"><span data-stu-id="53d2a-147">If no value is specified, the dispatch files will be saved in the same location as the default client configuration file.</span></span> <span data-ttu-id="53d2a-148">如果有指定值，而且該資料夾不存在用戶端上，用戶端服務就不會啟動。</span><span class="sxs-lookup"><span data-stu-id="53d2a-148">If a value is specified and that folder does not exist on the client, the client service will not start.</span></span>|  
|<span data-ttu-id="53d2a-149">用戶端結果目錄</span><span class="sxs-lookup"><span data-stu-id="53d2a-149">Client result directory</span></span>|`<ResultDirectory>`|<span data-ttu-id="53d2a-150">這是在用戶端上儲存重新執行活動之結果追蹤檔案 (針對用戶端) 的本機路徑。</span><span class="sxs-lookup"><span data-stu-id="53d2a-150">Is the local path on the client where the result trace file from the replay activity (for the client) is saved.</span></span><br /><br /> <span data-ttu-id="53d2a-151">下一次重新執行時，就會覆寫這個目錄中的檔案。</span><span class="sxs-lookup"><span data-stu-id="53d2a-151">The files in this directory are overwritten on the next replay.</span></span>|<span data-ttu-id="53d2a-152">完整目錄名稱，以磁碟機代號為開頭。</span><span class="sxs-lookup"><span data-stu-id="53d2a-152">A full directory name, starting with the drive letter.</span></span>|<span data-ttu-id="53d2a-153">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-153">No.</span></span> <span data-ttu-id="53d2a-154">如果未指定值，則結果追蹤檔案與預設用戶端組態檔會儲存在相同的位置。</span><span class="sxs-lookup"><span data-stu-id="53d2a-154">If no value is specified, the result trace file will be saved in the same location as the default client configuration file.</span></span> <span data-ttu-id="53d2a-155">如果有指定值，而且該資料夾不存在用戶端上，用戶端服務就不會啟動。</span><span class="sxs-lookup"><span data-stu-id="53d2a-155">If a value is specified and that folder does not exist on the client, the client service will not start.</span></span>|  
|<span data-ttu-id="53d2a-156">記錄層級</span><span class="sxs-lookup"><span data-stu-id="53d2a-156">Logging level</span></span>|`<LoggingLevel>`|<span data-ttu-id="53d2a-157">這是用戶端服務的記錄層次。</span><span class="sxs-lookup"><span data-stu-id="53d2a-157">Is the logging level for the client service.</span></span>|<span data-ttu-id="53d2a-158">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span><span class="sxs-lookup"><span data-stu-id="53d2a-158">`INFORMATION` &#124; `WARNING` &#124; `CRITICAL`</span></span>|<span data-ttu-id="53d2a-159">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-159">No.</span></span> <span data-ttu-id="53d2a-160">根據預設，此值是 `CRITICAL`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-160">By default, the value is `CRITICAL`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="53d2a-161">範例</span><span class="sxs-lookup"><span data-stu-id="53d2a-161">Example</span></span>  
 <span data-ttu-id="53d2a-162">此範例會顯示已經修改為指定控制器服務在不同電腦 (名為 `Controller1`的電腦) 上執行的用戶端組態檔。</span><span class="sxs-lookup"><span data-stu-id="53d2a-162">This example shows a client configuration file that has been modified to specify that the controller service is running on a different computer, a computer named `Controller1`.</span></span> <span data-ttu-id="53d2a-163">`WorkingDirectory` 和 `ResultDirectory` 項目已經分別設定成使用 `c:\ClientWorkingDir` 和 `c:\ResultTraceDir`資料夾。</span><span class="sxs-lookup"><span data-stu-id="53d2a-163">The `WorkingDirectory` and `ResultDirectory` elements have been configured to use folders `c:\ClientWorkingDir` and `c:\ResultTraceDir`, respectively.</span></span> <span data-ttu-id="53d2a-164">記錄層次已經從預設值變更為隱藏 `INFORMATION` 和 `WARNING` 記錄項目。</span><span class="sxs-lookup"><span data-stu-id="53d2a-164">The logging level has been changed from the default value to suppress `INFORMATION` and `WARNING` log entries.</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <Controller>Controller1</Controller>  
    <WorkingDirectory>c:\ClientWorkingDir</WorkingDirectory>  
    <ResultDirectory>c:\ResultTraceDir</ResultDirectory>  
    <LoggingLevel>CRITICAL</LoggingLevel>  
</Options>  
```  
  
##  <a name="preprocess-configuration-file-dreplayexepreprocessconfig"></a><a name="PreprocessConfig"></a> <span data-ttu-id="53d2a-165">前置處理設定檔：DReplay.exe.preprocess.config</span><span class="sxs-lookup"><span data-stu-id="53d2a-165">Preprocess Configuration File: DReplay.exe.preprocess.config</span></span>  
 <span data-ttu-id="53d2a-166">當您使用管理工具來起始前置處理階段時，管理工具就會從前置處理組態檔 `DReplay.exe.preprocess.config`載入前置處理設定。</span><span class="sxs-lookup"><span data-stu-id="53d2a-166">When you use the administration tool to initiate the preprocess stage, the administration tool loads the preprocess settings from the preprocess configuration file, `DReplay.exe.preprocess.config`.</span></span>  
  
 <span data-ttu-id="53d2a-167">您可以使用預設組態檔，也可以使用管理工具的 **-c** 參數來指定已修改前置處理組態檔的位置。</span><span class="sxs-lookup"><span data-stu-id="53d2a-167">Use the default configuration file or use the administration tool **-c** parameter to specify the location of a modified preprocess configuration file.</span></span> <span data-ttu-id="53d2a-168">如需使用管理工具之前置處理選項的詳細資訊，請參閱[前置處理選項 &#40;Distributed Replay 管理工具&#41;](preprocess-option-distributed-replay-administration-tool.md)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-168">For more information about using the preprocess option of the administration tool, see [Preprocess Option &#40;Distributed Replay Administration Tool&#41;](preprocess-option-distributed-replay-administration-tool.md).</span></span>  
  
 <span data-ttu-id="53d2a-169">預設前置處理組態檔位於您安裝管理工具的資料夾中：</span><span class="sxs-lookup"><span data-stu-id="53d2a-169">The default preprocess configuration file is located in the folder where you installed the administration tool:</span></span>  
  
 <span data-ttu-id="53d2a-170">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.preprocess.config**</span><span class="sxs-lookup"><span data-stu-id="53d2a-170">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.preprocess.config**</span></span>  
  
 <span data-ttu-id="53d2a-171">前置處理組態設定指定於前置處理組態檔中屬於 `<PreprocessModifiers>` 元素子系的 XML 元素中。</span><span class="sxs-lookup"><span data-stu-id="53d2a-171">The preprocess configuration settings are specified in XML elements that are children of the `<PreprocessModifiers>` element in the preprocess configuration file.</span></span> <span data-ttu-id="53d2a-172">這些設定包括：</span><span class="sxs-lookup"><span data-stu-id="53d2a-172">These settings include the following:</span></span>  
  
|<span data-ttu-id="53d2a-173">設定</span><span class="sxs-lookup"><span data-stu-id="53d2a-173">Setting</span></span>|<span data-ttu-id="53d2a-174">XML 元素</span><span class="sxs-lookup"><span data-stu-id="53d2a-174">XML Element</span></span>|<span data-ttu-id="53d2a-175">描述</span><span class="sxs-lookup"><span data-stu-id="53d2a-175">Description</span></span>|<span data-ttu-id="53d2a-176">允許的值</span><span class="sxs-lookup"><span data-stu-id="53d2a-176">Allowed Values</span></span>|<span data-ttu-id="53d2a-177">必要</span><span class="sxs-lookup"><span data-stu-id="53d2a-177">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="53d2a-178">包含系統工作階段活動</span><span class="sxs-lookup"><span data-stu-id="53d2a-178">Include system session activities</span></span>|`<IncSystemSession>`|<span data-ttu-id="53d2a-179">指出是否要在重新執行期間包含擷取期間進行的系統工作階段活動。</span><span class="sxs-lookup"><span data-stu-id="53d2a-179">Indicates whether system session activities during the capture will be included during replay.</span></span>|<span data-ttu-id="53d2a-180">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="53d2a-180">`Yes` &#124; `No`</span></span>|<span data-ttu-id="53d2a-181">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-181">No.</span></span> <span data-ttu-id="53d2a-182">根據預設，此值是 `No`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-182">By default, the value is `No`.</span></span>|  
|<span data-ttu-id="53d2a-183">最大閒置時間</span><span class="sxs-lookup"><span data-stu-id="53d2a-183">Maximum idle time</span></span>|`<MaxIdleTime>`|<span data-ttu-id="53d2a-184">將閒置時間的上限設定為絕對數字 (以秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-184">Caps the idle time to an absolute number (in seconds).</span></span>|<span data-ttu-id="53d2a-185">>=-1 的整數</span><span class="sxs-lookup"><span data-stu-id="53d2a-185">An integer that is >= -1</span></span><br /><br /> <span data-ttu-id="53d2a-186">`-1` 表示沒有變更原始追蹤檔案的原始值。</span><span class="sxs-lookup"><span data-stu-id="53d2a-186">`-1` indicates no change from the original value in the original trace file.</span></span><br /><br /> <span data-ttu-id="53d2a-187">`0` 表示在任何給定的時間點有某個活動進行中。</span><span class="sxs-lookup"><span data-stu-id="53d2a-187">`0` indicates that there is some activity going on at any given point in time.</span></span>|<span data-ttu-id="53d2a-188">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-188">No.</span></span> <span data-ttu-id="53d2a-189">根據預設，此值是 `-1`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-189">By default, the value is `-1`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="53d2a-190">範例</span><span class="sxs-lookup"><span data-stu-id="53d2a-190">Example</span></span>  
 <span data-ttu-id="53d2a-191">預設前置處理組態檔：</span><span class="sxs-lookup"><span data-stu-id="53d2a-191">The default preprocess configuration file:</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <PreprocessModifiers>  
        <IncSystemSession>No</IncSystemSession>  
        <MaxIdleTime>-1</MaxIdleTime>  
    </PreprocessModifiers>  
</Options>  
```  
  
##  <a name="replay-configuration-file-dreplayexereplayconfig"></a><a name="ReplayConfig"></a> <span data-ttu-id="53d2a-192">重新執行設定檔：DReplay.exe.replay.config</span><span class="sxs-lookup"><span data-stu-id="53d2a-192">Replay Configuration File: DReplay.exe.replay.config</span></span>  
 <span data-ttu-id="53d2a-193">當您使用管理工具來起始事件重新執行階段時，管理工具就會從重新執行組態檔 `DReplay.exe.replay.config`載入重新執行設定。</span><span class="sxs-lookup"><span data-stu-id="53d2a-193">When you use the administration tool to initiate the event replay stage, the administration tool loads the replay settings from the replay configuration file, `DReplay.exe.replay.config`.</span></span>  
  
 <span data-ttu-id="53d2a-194">您可以使用預設組態檔，也可以使用管理工具的 **-c** 參數來指定已修改重新執行組態檔的位置。</span><span class="sxs-lookup"><span data-stu-id="53d2a-194">Use the default configuration file or use the administration tool **-c** parameter to specify the location of a modified replay configuration file.</span></span> <span data-ttu-id="53d2a-195">如需使用管理工具之重新執行選項的詳細資訊，請參閱[重新執行選項 &#40;Distributed Replay 管理工具&#41;](replay-option-distributed-replay-administration-tool.md)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-195">For more information about using the replay option of the administration tool, see [Replay Option &#40;Distributed Replay Administration Tool&#41;](replay-option-distributed-replay-administration-tool.md).</span></span>  
  
 <span data-ttu-id="53d2a-196">預設重新執行組態檔位於您安裝管理工具的資料夾中：</span><span class="sxs-lookup"><span data-stu-id="53d2a-196">The default replay configuration file is located in the folder where you installed the administration tool:</span></span>  
  
 <span data-ttu-id="53d2a-197">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.replay.config**</span><span class="sxs-lookup"><span data-stu-id="53d2a-197">**\<administration tool installation path>\DReplayAdmin\DReplay.exe.replay.config**</span></span>  
  
 <span data-ttu-id="53d2a-198">重新執行組態設定指定於重新執行組態檔中屬於 `<ReplayOptions>` 和 `<OutputOptions>` 元素子系的 XML 元素中。</span><span class="sxs-lookup"><span data-stu-id="53d2a-198">The replay configuration settings are specified in XML elements that are children of the `<ReplayOptions>` and `<OutputOptions>` elements of the replay configuration file.</span></span>  
  
### <a name="replayoptions-element"></a><span data-ttu-id="53d2a-199">\<ReplayOptions> 項目</span><span class="sxs-lookup"><span data-stu-id="53d2a-199">\<ReplayOptions> Element</span></span>  
 <span data-ttu-id="53d2a-200">重新執行組態檔在 `<ReplayOptions>` 元素中指定的設定如下：</span><span class="sxs-lookup"><span data-stu-id="53d2a-200">The settings specified by the replay configuration file in the `<ReplayOptions>` element include the following:</span></span>  
  
|<span data-ttu-id="53d2a-201">設定</span><span class="sxs-lookup"><span data-stu-id="53d2a-201">Setting</span></span>|<span data-ttu-id="53d2a-202">XML 元素</span><span class="sxs-lookup"><span data-stu-id="53d2a-202">XML Element</span></span>|<span data-ttu-id="53d2a-203">描述</span><span class="sxs-lookup"><span data-stu-id="53d2a-203">Description</span></span>|<span data-ttu-id="53d2a-204">允許的值</span><span class="sxs-lookup"><span data-stu-id="53d2a-204">Allowed Values</span></span>|<span data-ttu-id="53d2a-205">必要</span><span class="sxs-lookup"><span data-stu-id="53d2a-205">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="53d2a-206">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的目標執行個體 (測試伺服器)</span><span class="sxs-lookup"><span data-stu-id="53d2a-206">Target instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (the test server)</span></span>|`<Server>`|<span data-ttu-id="53d2a-207">指定伺服器名稱以及要連接的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體。</span><span class="sxs-lookup"><span data-stu-id="53d2a-207">Specifies the name of the server and instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to connect to.</span></span>|<span data-ttu-id="53d2a-208">*server_name*[\\*instance_name*]</span><span class="sxs-lookup"><span data-stu-id="53d2a-208">*server_name*[\\*instance_name*]</span></span><br /><br /> <span data-ttu-id="53d2a-209">您無法使用 "`localhost`" 或 "`.`" 來代表本機主機。</span><span class="sxs-lookup"><span data-stu-id="53d2a-209">You cannot use "`localhost`" or "`.`" to represent the local host.</span></span>|<span data-ttu-id="53d2a-210">否，如果已經搭配使用 **-s**_目標伺服器_ 參數與管理工具的 [重新執行]  選項來指定伺服器名稱。</span><span class="sxs-lookup"><span data-stu-id="53d2a-210">No, if the server name is already specified by using the **-s**_target server_ parameter with the **replay** option of the administration tool.</span></span>|  
|<span data-ttu-id="53d2a-211">順序模式</span><span class="sxs-lookup"><span data-stu-id="53d2a-211">Sequencing mode</span></span>|`<SequencingMode>`|<span data-ttu-id="53d2a-212">指定用於事件排程的模式。</span><span class="sxs-lookup"><span data-stu-id="53d2a-212">Specifies the mode that is used for event scheduling.</span></span>|<span data-ttu-id="53d2a-213">`synchronization` &#124; `stress`</span><span class="sxs-lookup"><span data-stu-id="53d2a-213">`synchronization` &#124; `stress`</span></span>|<span data-ttu-id="53d2a-214">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-214">No.</span></span> <span data-ttu-id="53d2a-215">根據預設，此值是 `stress`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-215">By default, the value is `stress`.</span></span>|  
|<span data-ttu-id="53d2a-216">壓力規模粒度</span><span class="sxs-lookup"><span data-stu-id="53d2a-216">Stress scale granularity</span></span>|`<StressScaleGranularity>`|<span data-ttu-id="53d2a-217">指定服務設定檔識別碼 (SPID) 上的所有連接是應該在壓力模式下同時 (SPID) 還是個別 (連接) 調整。</span><span class="sxs-lookup"><span data-stu-id="53d2a-217">Specifies whether all connections on the Service Profile Identifier (SPID) should be scaled together (SPID) or independently (Connection) under stress mode.</span></span>|<span data-ttu-id="53d2a-218">SPID &#124; 連接</span><span class="sxs-lookup"><span data-stu-id="53d2a-218">SPID &#124; Connection</span></span>|<span data-ttu-id="53d2a-219">是。</span><span class="sxs-lookup"><span data-stu-id="53d2a-219">Yes.</span></span> <span data-ttu-id="53d2a-220">根據預設，此值是 `SPID`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-220">By default, the value is `SPID`.</span></span>|  
|<span data-ttu-id="53d2a-221">連接時間間隔</span><span class="sxs-lookup"><span data-stu-id="53d2a-221">Connect time scale</span></span>|`<ConnectTimeScale>`|<span data-ttu-id="53d2a-222">這是用來在壓力模式中設定連接時間的間隔。</span><span class="sxs-lookup"><span data-stu-id="53d2a-222">Is used to scale the connect time in stress mode.</span></span>|<span data-ttu-id="53d2a-223">介於 `1` 與 `100`之間的整數。</span><span class="sxs-lookup"><span data-stu-id="53d2a-223">An integer between `1` and `100`.</span></span>|<span data-ttu-id="53d2a-224">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-224">No.</span></span> <span data-ttu-id="53d2a-225">根據預設，此值是 `100`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-225">By default, the value is `100`.</span></span>|  
|<span data-ttu-id="53d2a-226">考慮時間間隔</span><span class="sxs-lookup"><span data-stu-id="53d2a-226">Think time scale</span></span>|`<ThinkTimeScale>`|<span data-ttu-id="53d2a-227">這是用來在壓力模式中設定考慮時間的間隔。</span><span class="sxs-lookup"><span data-stu-id="53d2a-227">Is used to scale think time in stress mode.</span></span>|<span data-ttu-id="53d2a-228">介於 `0` 與 `100`之間的整數。</span><span class="sxs-lookup"><span data-stu-id="53d2a-228">An integer between `0` and `100`.</span></span>|<span data-ttu-id="53d2a-229">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-229">No.</span></span> <span data-ttu-id="53d2a-230">根據預設，此值是 `100`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-230">By default, the value is `100`.</span></span>|  
|<span data-ttu-id="53d2a-231">使用連接共用</span><span class="sxs-lookup"><span data-stu-id="53d2a-231">Use connection pooling</span></span>|`<UseConnectionPooling>`|<span data-ttu-id="53d2a-232">指定是否要在每個 Distributed Replay Client 上啟用連接共用。</span><span class="sxs-lookup"><span data-stu-id="53d2a-232">Specifies whether connection pooling will be enabled on each Distributed Replay client.</span></span>|<span data-ttu-id="53d2a-233">是 &#124; 否</span><span class="sxs-lookup"><span data-stu-id="53d2a-233">Yes &#124; No</span></span>|<span data-ttu-id="53d2a-234">是。</span><span class="sxs-lookup"><span data-stu-id="53d2a-234">Yes.</span></span> <span data-ttu-id="53d2a-235">根據預設，此值是 `Yes`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-235">By default, the value is `Yes`.</span></span>|  
|<span data-ttu-id="53d2a-236">健全狀況監視器間隔</span><span class="sxs-lookup"><span data-stu-id="53d2a-236">Health monitor interval</span></span>|`<HealthmonInterval>`|<span data-ttu-id="53d2a-237">表示要執行健全狀況監視器的頻率 (以秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-237">Indicates how often to run the health monitor (in seconds).</span></span><br /><br /> <span data-ttu-id="53d2a-238">此值只用於同步處理模式中。</span><span class="sxs-lookup"><span data-stu-id="53d2a-238">This value is only used in synchronization mode.</span></span>|<span data-ttu-id="53d2a-239">>= 1 的整數</span><span class="sxs-lookup"><span data-stu-id="53d2a-239">Integer >= 1</span></span><br /><br /> <span data-ttu-id="53d2a-240">(`-1` 表示停用)</span><span class="sxs-lookup"><span data-stu-id="53d2a-240">(`-1` to disable)</span></span>|<span data-ttu-id="53d2a-241">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-241">No.</span></span> <span data-ttu-id="53d2a-242">根據預設，此值是 `60`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-242">By default, the value is `60`.</span></span>|  
|<span data-ttu-id="53d2a-243">查詢逾時</span><span class="sxs-lookup"><span data-stu-id="53d2a-243">Query time-out</span></span>|`<QueryTimeout>`|<span data-ttu-id="53d2a-244">指定查詢逾時值 (以秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="53d2a-244">Specifies the query time-out value, in seconds.</span></span> <span data-ttu-id="53d2a-245">此值只在傳回第一個資料列之前有效。</span><span class="sxs-lookup"><span data-stu-id="53d2a-245">This value is only effective until the first row has been returned.</span></span>|<span data-ttu-id="53d2a-246">>= 1 的整數</span><span class="sxs-lookup"><span data-stu-id="53d2a-246">Integer >= 1</span></span><br /><br /> <span data-ttu-id="53d2a-247">(`-1` 表示停用)</span><span class="sxs-lookup"><span data-stu-id="53d2a-247">(`-1` to disable)</span></span>|<span data-ttu-id="53d2a-248">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-248">No.</span></span> <span data-ttu-id="53d2a-249">根據預設，此值是 `3600`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-249">By default, the value is `3600`.</span></span>|  
|<span data-ttu-id="53d2a-250">每個用戶端的執行緒</span><span class="sxs-lookup"><span data-stu-id="53d2a-250">Threads per client</span></span>|`<ThreadsPerClient>`|<span data-ttu-id="53d2a-251">指定要用於每個重新執行用戶端的重新執行執行緒數目。</span><span class="sxs-lookup"><span data-stu-id="53d2a-251">Specifies the number of replay threads to use for each replay client.</span></span>|<span data-ttu-id="53d2a-252">介於 `1` 與 `512`之間的整數。</span><span class="sxs-lookup"><span data-stu-id="53d2a-252">An integer between `1` and `512`.</span></span>|<span data-ttu-id="53d2a-253">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-253">No.</span></span> <span data-ttu-id="53d2a-254">如果未指定，則 Distributed Replay 會使用值 `255`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-254">If not specified, Distributed Replay will use a value of `255`.</span></span>|  
  
### <a name="outputoptions-element"></a><span data-ttu-id="53d2a-255">\<OutputOptions> 項目</span><span class="sxs-lookup"><span data-stu-id="53d2a-255">\<OutputOptions> Element</span></span>  
 <span data-ttu-id="53d2a-256">重新執行組態檔在 `<OutputOptions>` 元素中指定的設定如下：</span><span class="sxs-lookup"><span data-stu-id="53d2a-256">The settings specified by the replay configuration file in the `<OutputOptions>` element include the following:</span></span>  
  
|<span data-ttu-id="53d2a-257">設定</span><span class="sxs-lookup"><span data-stu-id="53d2a-257">Setting</span></span>|<span data-ttu-id="53d2a-258">XML 元素</span><span class="sxs-lookup"><span data-stu-id="53d2a-258">XML Element</span></span>|<span data-ttu-id="53d2a-259">描述</span><span class="sxs-lookup"><span data-stu-id="53d2a-259">Description</span></span>|<span data-ttu-id="53d2a-260">允許的值</span><span class="sxs-lookup"><span data-stu-id="53d2a-260">Allowed Values</span></span>|<span data-ttu-id="53d2a-261">必要</span><span class="sxs-lookup"><span data-stu-id="53d2a-261">Required</span></span>|  
|-------------|-----------------|-----------------|--------------------|--------------|  
|<span data-ttu-id="53d2a-262">記錄資料列計數</span><span class="sxs-lookup"><span data-stu-id="53d2a-262">Record row count</span></span>|`<RecordRowCount>`|<span data-ttu-id="53d2a-263">指出是否應該針對每個結果集記錄資料列計數。</span><span class="sxs-lookup"><span data-stu-id="53d2a-263">Indicates whether the row count should be recorded for each result set.</span></span>|<span data-ttu-id="53d2a-264">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="53d2a-264">`Yes` &#124; `No`</span></span>|<span data-ttu-id="53d2a-265">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-265">No.</span></span> <span data-ttu-id="53d2a-266">根據預設，此值是 `Yes`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-266">By default, the value is `Yes`.</span></span>|  
|<span data-ttu-id="53d2a-267">記錄結果集</span><span class="sxs-lookup"><span data-stu-id="53d2a-267">Record result set</span></span>|`<RecordResultSet>`|<span data-ttu-id="53d2a-268">指出是否應該記錄所有結果集的內容。</span><span class="sxs-lookup"><span data-stu-id="53d2a-268">Indicates whether the content of all result sets should be recorded.</span></span>|<span data-ttu-id="53d2a-269">`Yes` &#124; `No`</span><span class="sxs-lookup"><span data-stu-id="53d2a-269">`Yes` &#124; `No`</span></span>|<span data-ttu-id="53d2a-270">否。</span><span class="sxs-lookup"><span data-stu-id="53d2a-270">No.</span></span> <span data-ttu-id="53d2a-271">根據預設，此值是 `No`。</span><span class="sxs-lookup"><span data-stu-id="53d2a-271">By default, the value is `No`.</span></span>|  
  
### <a name="example"></a><span data-ttu-id="53d2a-272">範例</span><span class="sxs-lookup"><span data-stu-id="53d2a-272">Example</span></span>  
 <span data-ttu-id="53d2a-273">預設重新執行組態檔：</span><span class="sxs-lookup"><span data-stu-id="53d2a-273">The default replay configuration file:</span></span>  
  
```  
<?xml version='1.0'?>  
<Options>  
    <ReplayOptions>  
        <Server></Server>  
        <SequencingMode>stress</SequencingMode>  
        <ConnectTimeScale></ConnectTimeScale>  
        <ThinkTimeScale></ThinkTimeScale>  
        <HealthmonInterval>60</HealthmonInterval>  
        <QueryTimeout>3600</QueryTimeout>  
        <ThreadsPerClient></ThreadsPerClient>  
    </ReplayOptions>  
    <OutputOptions>  
        <ResultTrace>  
            <RecordRowCount>Yes</RecordRowCount>  
            <RecordResultSet>No</RecordResultSet>  
        </ResultTrace>  
    </OutputOptions>  
</Options>  
```  
  
## <a name="see-also"></a><span data-ttu-id="53d2a-274">另請參閱</span><span class="sxs-lookup"><span data-stu-id="53d2a-274">See Also</span></span>  
 <span data-ttu-id="53d2a-275">[管理工具命令列選項 &#40;Distributed Replay Utility&#41;](administration-tool-command-line-options-distributed-replay-utility.md) </span><span class="sxs-lookup"><span data-stu-id="53d2a-275">[Administration Tool Command-line Options &#40;Distributed Replay Utility&#41;](administration-tool-command-line-options-distributed-replay-utility.md) </span></span>  
 <span data-ttu-id="53d2a-276">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span><span class="sxs-lookup"><span data-stu-id="53d2a-276">[SQL Server Distributed Replay](sql-server-distributed-replay.md) </span></span>  
 <span data-ttu-id="53d2a-277">[SQL Server Distributed Replay 論壇](https://social.technet.microsoft.com/Forums/sl/sqldru/) </span><span class="sxs-lookup"><span data-stu-id="53d2a-277">[SQL Server Distributed Replay Forum](https://social.technet.microsoft.com/Forums/sl/sqldru/) </span></span>  
 <span data-ttu-id="53d2a-278">[使用 Distributed Replay 對您的 SQL Server 進行負載測試 - 第 2 部分](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) </span><span class="sxs-lookup"><span data-stu-id="53d2a-278">[Using Distributed Replay to Load Test Your SQL Server - Part 2](https://docs.microsoft.com/archive/blogs/msdn/mspfe/using-distributed-replay-to-load-test-your-sql-serverpart-2) </span></span>  
 [<span data-ttu-id="53d2a-279">使用 Distributed Replay 對您的 SQL Server 進行負載測試 – 第 1 部分</span><span class="sxs-lookup"><span data-stu-id="53d2a-279">Using Distributed Replay to Load Test Your SQL Server - Part 1</span></span>](https://docs.microsoft.com/archive/blogs/batuhanyildiz/using-distributed-replay-to-load-test-your-sql-serverpart-1)  
  
  
