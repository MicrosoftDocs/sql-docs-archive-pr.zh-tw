---
title: 從命令提示字元安裝更新 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: bc98ba2b-aae9-4d01-aa85-d4c36428cb0b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d3ced6cd72bfc972743d0f9d8c7c2a9ce57dfdd1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87592195"
---
# <a name="installing-updates-from-the-command-prompt"></a><span data-ttu-id="60cae-102">從命令提示字元安裝更新</span><span class="sxs-lookup"><span data-stu-id="60cae-102">Installing Updates from the Command Prompt</span></span>
  <span data-ttu-id="60cae-103">測試並修改安裝指令碼，以便符合組織的需求。</span><span class="sxs-lookup"><span data-stu-id="60cae-103">Test and modify installation scripts to meet the needs of your organization.</span></span>  
  
## <a name="sample-syntax-for-installation"></a><span data-ttu-id="60cae-104">安裝的範例語法</span><span class="sxs-lookup"><span data-stu-id="60cae-104">Sample Syntax for Installation</span></span>  
 <span data-ttu-id="60cae-105">更新封裝的名稱會有所不同而且可能包含語言、版本及處理器元件。</span><span class="sxs-lookup"><span data-stu-id="60cae-105">The name of the update package can vary and may include a language, edition, and processor component.</span></span> <span data-ttu-id="60cae-106">在命令提示字元中套用更新，並以您的更新封裝名稱取代 <package_name>：</span><span class="sxs-lookup"><span data-stu-id="60cae-106">Apply an update at a command prompt, replacing <package_name> with the name of your update package:</span></span>  
  
-   <span data-ttu-id="60cae-107">更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 單一執行個體和所有共用元件，例如 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和管理工具：您可以使用 InstanceName 參數或 InstanceID 參數指定執行個體。</span><span class="sxs-lookup"><span data-stu-id="60cae-107">Update a single instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and all shared components, like [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and Management Tools: You can specify the instance either by using the InstanceName parameter or the InstanceID parameter.</span></span> <span data-ttu-id="60cae-108">若要更新備妥的實例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，您必須指定 InstanceID 參數<package_name # C1.exe/Qs/IAcceptSQLServerLicenseTerms/Action = Patch/InstanceName = MyInstance 或 <package_name # C3.exe/Qs/IAcceptSQLServerLicenseTerms/Action = Patch/InstanceID = \<Instance ID> 。</span><span class="sxs-lookup"><span data-stu-id="60cae-108">To update a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must specify the InstanceID parameter<package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch /InstanceName=MyInstance  or <package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch /InstanceID=\<Instance ID>.</span></span>  
  
-   <span data-ttu-id="60cae-109">安裝程式可以整合最新產品更新與主要產品安裝，因此主要產品及其適用的更新可以同時安裝。</span><span class="sxs-lookup"><span data-stu-id="60cae-109">Setup can integrate the latest product updates with the main product installation so that the main product and its applicable updates are installed at the same time.</span></span> <span data-ttu-id="60cae-110">您可以準備安裝資料庫引擎實例，使其包含產品更新： setup.exe/q/IAcceptSQLServerLicenseTerms/ACTION = PrepareImage/UpdateEnabled = True/UpdateEnabled = True/UpdateSource =/INSTANCEID \<path where the update is downloaded> = \<Instance ID> /FEATURES = SQLEngine。</span><span class="sxs-lookup"><span data-stu-id="60cae-110">You can prepare an installation of database engine instance to include product update: setup.exe /q /IAcceptSQLServerLicenseTerms /ACTION=PrepareImage /UpdateEnabled=True /UpdateEnabled=True /UpdateSource=\<path where the update is downloaded> /INSTANCEID=\<Instance ID> /FEATURES=SQLEngine.</span></span>  
  
-   <span data-ttu-id="60cae-111">僅更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 共用元件，例如 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和管理工具：<package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch</span><span class="sxs-lookup"><span data-stu-id="60cae-111">Update [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] shared components only, like [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and Management Tools: <package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch</span></span>  
  
-   <span data-ttu-id="60cae-112">更新電腦上的所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體和所有共用元件，例如 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和管理工具：<package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch /AllInstances。</span><span class="sxs-lookup"><span data-stu-id="60cae-112">Update all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the computer and all shared components, like [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and Management Tools: <package_name>.exe /qs /IAcceptSQLServerLicenseTerms /Action=Patch /AllInstances.</span></span>  
  
 <span data-ttu-id="60cae-113">從命令提示字元移除更新，並以您的更新封裝名稱取代 <package_name>：</span><span class="sxs-lookup"><span data-stu-id="60cae-113">Remove an update from the command prompt replacing <package_name> with the name of your update package:</span></span>  
  
-   <span data-ttu-id="60cae-114">從 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的單一執行個體和所有共用元件中移除更新，例如 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和管理工具：<package_name>.exe /qs /Action=RemovePatch /InstanceName=MyInstance。</span><span class="sxs-lookup"><span data-stu-id="60cae-114">Remove an update from a single instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and all shared components, like [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and Management Tools: <package_name>.exe /qs /Action=RemovePatch /InstanceName=MyInstance.</span></span>  
  
-   <span data-ttu-id="60cae-115">僅從 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 共用元件中移除更新，例如 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和管理工具：<package_name>.exe /qs /Action=RemovePatch</span><span class="sxs-lookup"><span data-stu-id="60cae-115">Remove an update from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] shared components only, like [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and Management Tools: <package_name>.exe /qs /Action=RemovePatch</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="60cae-116">更新安裝程式會確保共用元件一定處於執行個體版本的最高層級或最高層級以上。</span><span class="sxs-lookup"><span data-stu-id="60cae-116">The update installer ensures that the shared components are always at or above the version of the instance at the highest level.</span></span>  
  
## <a name="supported-command-prompt-parameters"></a><span data-ttu-id="60cae-117">支援的命令提示字元參數</span><span class="sxs-lookup"><span data-stu-id="60cae-117">Supported Command Prompt Parameters</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="60cae-118">可能的話，請在執行階段提供安全性認證。</span><span class="sxs-lookup"><span data-stu-id="60cae-118">When possible, supply security credentials at run time.</span></span> <span data-ttu-id="60cae-119">如果您將認證儲存在指令碼檔案中，必須保護該檔案免於未經授權的存取。</span><span class="sxs-lookup"><span data-stu-id="60cae-119">If you must store credentials in a script file, secure the file to prevent unauthorized access.</span></span>  
  
|<span data-ttu-id="60cae-120">Switch</span><span class="sxs-lookup"><span data-stu-id="60cae-120">Switch</span></span>|<span data-ttu-id="60cae-121">描述</span><span class="sxs-lookup"><span data-stu-id="60cae-121">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="60cae-122">**/?**</span><span class="sxs-lookup"><span data-stu-id="60cae-122">**/?**</span></span>|<span data-ttu-id="60cae-123">顯示自動安裝命令提示字元說明。</span><span class="sxs-lookup"><span data-stu-id="60cae-123">Displays unattended installation command prompt help</span></span>|  
|<span data-ttu-id="60cae-124">**/action=Patch 或 /action=RemovePatch**</span><span class="sxs-lookup"><span data-stu-id="60cae-124">**/action=Patch or /action=RemovePatch**</span></span>|<span data-ttu-id="60cae-125">指定安裝動作：Patch 或 RemovePatch。</span><span class="sxs-lookup"><span data-stu-id="60cae-125">Specifies the installation action: Patch or RemovePatch.</span></span>|  
|<span data-ttu-id="60cae-126">**/allinstances**</span><span class="sxs-lookup"><span data-stu-id="60cae-126">**/allinstances**</span></span>|<span data-ttu-id="60cae-127">將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 更新套用至所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體以及所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 共用的非執行個體感知元件。</span><span class="sxs-lookup"><span data-stu-id="60cae-127">Applies the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] update to all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and to all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] shared, instance-unaware components.</span></span>|  
|<span data-ttu-id="60cae-128">**/instancename = instancename** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="60cae-128">**/instancename=InstanceName** <sup>1</sup></span></span>|<span data-ttu-id="60cae-129">將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 更新套用至名為 InstanceName 的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體以及所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 共用的非執行個體感知元件。</span><span class="sxs-lookup"><span data-stu-id="60cae-129">Applies the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] update to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] named InstanceName, and to all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] shared, instance-unaware components.</span></span>|  
|<span data-ttu-id="60cae-130">**/InstanceID=Inst1**</span><span class="sxs-lookup"><span data-stu-id="60cae-130">**/InstanceID=Inst1**</span></span>|<span data-ttu-id="60cae-131">將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 更新套用至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Inst1 執行個體以及所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 共用的非執行個體感知元件。</span><span class="sxs-lookup"><span data-stu-id="60cae-131">Applies the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] update to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Inst1, and to all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] shared, instance-unaware components.</span></span>|  
|<span data-ttu-id="60cae-132">**/quiet**</span><span class="sxs-lookup"><span data-stu-id="60cae-132">**/quiet**</span></span>|<span data-ttu-id="60cae-133">以自動安裝模式執行 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 更新安裝程式。</span><span class="sxs-lookup"><span data-stu-id="60cae-133">Runs the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] update Setup in unattended mode.</span></span>|  
|<span data-ttu-id="60cae-134">**/qs**</span><span class="sxs-lookup"><span data-stu-id="60cae-134">**/qs**</span></span>|<span data-ttu-id="60cae-135">只顯示進度 UI 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="60cae-135">Displays only the progress UI dialog.</span></span>|  
|<span data-ttu-id="60cae-136">**/UpdateEnabled**</span><span class="sxs-lookup"><span data-stu-id="60cae-136">**/UpdateEnabled**</span></span>|<span data-ttu-id="60cae-137">指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式是否應該探索及包含產品更新。</span><span class="sxs-lookup"><span data-stu-id="60cae-137">Specifies whether [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup should discover and include product updates.</span></span> <span data-ttu-id="60cae-138">有效值為 True 和 False 或 1 和 0。</span><span class="sxs-lookup"><span data-stu-id="60cae-138">The valid values are True and False or 1 and 0.</span></span> <span data-ttu-id="60cae-139">根據預設， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式會包含找到的更新。</span><span class="sxs-lookup"><span data-stu-id="60cae-139">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup will include updates that are found.</span></span>|  
|<span data-ttu-id="60cae-140">**/IAcceptSQLServerLicenseTerms**</span><span class="sxs-lookup"><span data-stu-id="60cae-140">**/IAcceptSQLServerLicenseTerms**</span></span>|<span data-ttu-id="60cae-141">只有當您針對自動安裝指定了 /Q 或 /QS 參數時，才需要使用此參數。</span><span class="sxs-lookup"><span data-stu-id="60cae-141">Required only when the /Q or /QS parameter is specified for unattended installations.</span></span>|  
  
 <span data-ttu-id="60cae-142"><sup>1</sup>您不能指定這個參數來將更新套用到已備妥的實例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="60cae-142"><sup>1</sup> You cannot specify this parameter to apply an update to a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="60cae-143">您必須改為指定 /instanceID 參數。</span><span class="sxs-lookup"><span data-stu-id="60cae-143">You must specify the /instanceID parameter instead.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60cae-144">另請參閱</span><span class="sxs-lookup"><span data-stu-id="60cae-144">See Also</span></span>  
 [<span data-ttu-id="60cae-145">SQL Server 服務安裝概觀</span><span class="sxs-lookup"><span data-stu-id="60cae-145">Overview of SQL Server Servicing Installation</span></span>](../../sql-server/install/overview-of-sql-server-servicing-installation.md)  
  
  
