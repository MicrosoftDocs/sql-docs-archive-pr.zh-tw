---
title: 記憶體內部 OLTP 的系統檢視、預存程式、Dmv 和等候類型 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: efaa59e3-dbfa-407f-b1aa-cb0c6602ea17
author: stevestein
ms.author: sstein
ms.openlocfilehash: 1f15e1e55f0646f2cd42fe5a7154a606684961af
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698488"
---
# <a name="system-views-stored-procedures-dmvs-and-wait-types-for-in-memory-oltp"></a><span data-ttu-id="5a97d-102">記憶體內部 OLTP 的系統檢視表、預存程序、DMV 和等候類型</span><span class="sxs-lookup"><span data-stu-id="5a97d-102">System Views, Stored Procedures, DMVs and Wait Types for In-Memory OLTP</span></span>
  <span data-ttu-id="5a97d-103">本主題提供支援 In-Memory OLTP 的許多資料庫物件的簡短說明及連結。</span><span class="sxs-lookup"><span data-stu-id="5a97d-103">This topic provides brief descriptions and links to the many database objects that support In-Memory OLTP.</span></span>  
  
### <a name="system-views"></a><span data-ttu-id="5a97d-104">系統檢視表</span><span class="sxs-lookup"><span data-stu-id="5a97d-104">System Views</span></span>  
  
|<span data-ttu-id="5a97d-105">系統檢視表</span><span class="sxs-lookup"><span data-stu-id="5a97d-105">System View</span></span>|<span data-ttu-id="5a97d-106">描述</span><span class="sxs-lookup"><span data-stu-id="5a97d-106">Description</span></span>|<span data-ttu-id="5a97d-107">In-Memory OLTP 功能</span><span class="sxs-lookup"><span data-stu-id="5a97d-107">In-Memory OLTP feature</span></span>|  
|-----------------|-----------------|-----------------------------|  
|[<span data-ttu-id="5a97d-108">sys.data_spaces &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-108">sys.data_spaces &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-data-spaces-transact-sql)|<span data-ttu-id="5a97d-109">檢查檔案群組是否包含記憶體最佳化資料。</span><span class="sxs-lookup"><span data-stu-id="5a97d-109">Check if a filegroup contains memory-optimized data.</span></span>|<span data-ttu-id="5a97d-110">下列資料行會顯示其他值： **type**和**type_desc**。</span><span class="sxs-lookup"><span data-stu-id="5a97d-110">The following columns display additional values: **type** and **type_desc**.</span></span>|  
|[<span data-ttu-id="5a97d-111">sys.indexes &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-111">sys.indexes &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql)|<span data-ttu-id="5a97d-112">檢查索引是否位在記憶體最佳化的資料表上。</span><span class="sxs-lookup"><span data-stu-id="5a97d-112">Check if an index is on a memory-optimized table.</span></span>|<span data-ttu-id="5a97d-113">下列資料行會顯示其他值： **type**和**type_desc**。</span><span class="sxs-lookup"><span data-stu-id="5a97d-113">The following columns display additional values: **type** and **type_desc**.</span></span>|  
|[<span data-ttu-id="5a97d-114">sys.parameters &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-114">sys.parameters &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-parameters-transact-sql)|<span data-ttu-id="5a97d-115">檢查參數是否不可為 Null (以讓原生編譯預存程序更有效率的執行)。</span><span class="sxs-lookup"><span data-stu-id="5a97d-115">Check a parameter is not-nullable (for more efficient execution of a natively-compiled stored procedure).</span></span>|<span data-ttu-id="5a97d-116">**is_nullable**資料行。</span><span class="sxs-lookup"><span data-stu-id="5a97d-116">**is_nullable** column.</span></span>|  
|[<span data-ttu-id="5a97d-117">all_sql_modules &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-117">sys.all_sql_modules &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-all-sql-modules-transact-sql)|<span data-ttu-id="5a97d-118">檢查預存程序是否為原生編譯。</span><span class="sxs-lookup"><span data-stu-id="5a97d-118">Check if a stored procedure is natively compiled.</span></span>|<span data-ttu-id="5a97d-119">**uses_native_compilation**資料行。</span><span class="sxs-lookup"><span data-stu-id="5a97d-119">**uses_native_compilation** column.</span></span>|  
|[<span data-ttu-id="5a97d-120">sys.sql_modules &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-120">sys.sql_modules &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql)|<span data-ttu-id="5a97d-121">檢查預存程序是否為原生編譯。</span><span class="sxs-lookup"><span data-stu-id="5a97d-121">Check if a stored procedure is natively compiled.</span></span>|<span data-ttu-id="5a97d-122">**uses_native_compilation**資料行。</span><span class="sxs-lookup"><span data-stu-id="5a97d-122">**uses_native_compilation** column.</span></span>|  
|[<span data-ttu-id="5a97d-123">table_types &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-123">sys.table_types &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-table-types-transact-sql)|<span data-ttu-id="5a97d-124">檢查資料表是否已針對記憶體最佳化。</span><span class="sxs-lookup"><span data-stu-id="5a97d-124">Check if a table is memory-optimized.</span></span>|<span data-ttu-id="5a97d-125">**is_memory_optimized**資料行。</span><span class="sxs-lookup"><span data-stu-id="5a97d-125">**is_memory_optimized** column.</span></span>|  
|[<span data-ttu-id="5a97d-126">sys.tables &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-126">sys.tables &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-tables-transact-sql)|<span data-ttu-id="5a97d-127">檢查資料表是否為記憶體優化，並檢查資料表的耐久性設定。</span><span class="sxs-lookup"><span data-stu-id="5a97d-127">Check if a table is memory-optimized, and check a table's durability setting.</span></span>|<span data-ttu-id="5a97d-128">**持久性**、 **durability_desc**和**is_memory_optimized**資料行。</span><span class="sxs-lookup"><span data-stu-id="5a97d-128">**durability**, **durability_desc**, and **is_memory_optimized** columns.</span></span>|  
|[<span data-ttu-id="5a97d-129">sys.hash_indexes &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-129">sys.hash_indexes &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-hash-indexes-transact-sql)|<span data-ttu-id="5a97d-130">顯示記憶體最佳化資料表的雜湊索引。</span><span class="sxs-lookup"><span data-stu-id="5a97d-130">Show the hash indexes of a memory-optimized table.</span></span>|<span data-ttu-id="5a97d-131">In-Memory OLTP 特定。</span><span class="sxs-lookup"><span data-stu-id="5a97d-131">In-memory OLTP specific.</span></span>|  
  
### <a name="metadata-functions"></a><span data-ttu-id="5a97d-132">中繼資料函數</span><span class="sxs-lookup"><span data-stu-id="5a97d-132">Metadata Functions</span></span>  
  
|<span data-ttu-id="5a97d-133">中繼資料函數</span><span class="sxs-lookup"><span data-stu-id="5a97d-133">Metadata Function</span></span>|<span data-ttu-id="5a97d-134">描述</span><span class="sxs-lookup"><span data-stu-id="5a97d-134">Description</span></span>|<span data-ttu-id="5a97d-135">In-Memory OLTP 功能</span><span class="sxs-lookup"><span data-stu-id="5a97d-135">In-Memory OLTP feature</span></span>|  
|-----------------------|-----------------|-----------------------------|  
|[<span data-ttu-id="5a97d-136">OBJECTPROPERTYEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-136">OBJECTPROPERTYEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/objectproperty-transact-sql)|<span data-ttu-id="5a97d-137">檢查資料庫物件是否已針對記憶體最佳化。</span><span class="sxs-lookup"><span data-stu-id="5a97d-137">Check if database objects are memory-optimized.</span></span>|<span data-ttu-id="5a97d-138">**ExecIsWithNativeCompilation**和**TableIsMemoryOptimized**屬性。</span><span class="sxs-lookup"><span data-stu-id="5a97d-138">**ExecIsWithNativeCompilation** and **TableIsMemoryOptimized** properties.</span></span><br /><br /> <span data-ttu-id="5a97d-139">**IsSchemaBound**屬性支援程式物件類型 (會針對程式傳回0，而不是 Null) 。</span><span class="sxs-lookup"><span data-stu-id="5a97d-139">The **IsSchemaBound** property supports the Procedure object type (returns 0 for procedures instead of NULL).</span></span>|  
|[<span data-ttu-id="5a97d-140">SERVERPROPERTY &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-140">SERVERPROPERTY &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/functions/serverproperty-transact-sql)|<span data-ttu-id="5a97d-141">檢查伺服器是否支援 In-Memory OLTP。</span><span class="sxs-lookup"><span data-stu-id="5a97d-141">Check if a server supports In-Memory OLTP.</span></span>|<span data-ttu-id="5a97d-142">**IsXTPSupported**屬性。</span><span class="sxs-lookup"><span data-stu-id="5a97d-142">**IsXTPSupported** property.</span></span>|  
  
### <a name="system-stored-procedures"></a><span data-ttu-id="5a97d-143">系統預存程序</span><span class="sxs-lookup"><span data-stu-id="5a97d-143">System Stored Procedures</span></span>  
  
|<span data-ttu-id="5a97d-144">預存程序</span><span class="sxs-lookup"><span data-stu-id="5a97d-144">Stored Procedure</span></span>|<span data-ttu-id="5a97d-145">描述</span><span class="sxs-lookup"><span data-stu-id="5a97d-145">Description</span></span>|  
|----------------------|-----------------|  
|[<span data-ttu-id="5a97d-146">sys.sp_xtp_bind_db_resource_pool &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-146">sys.sp_xtp_bind_db_resource_pool &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-bind-db-resource-pool-transact-sql)|<span data-ttu-id="5a97d-147">將 In-Memory OLTP 資料庫繫結至資源集區。</span><span class="sxs-lookup"><span data-stu-id="5a97d-147">Bind an In-Memory OLTP database to a resource pool.</span></span>|  
|[<span data-ttu-id="5a97d-148">sp_xtp_checkpoint_force_garbage_collection &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-148">sys.sp_xtp_checkpoint_force_garbage_collection &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-checkpoint-force-garbage-collection-transact-sql)|<span data-ttu-id="5a97d-149">起始 In-Memory OLTP 資料庫上的記憶體回收。</span><span class="sxs-lookup"><span data-stu-id="5a97d-149">Initiate garbage collection on an In-Memory OLTP database.</span></span>|  
|[<span data-ttu-id="5a97d-150">sp_xtp_control_proc_exec_stats &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-150">sys.sp_xtp_control_proc_exec_stats &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-control-proc-exec-stats-transact-sql)|<span data-ttu-id="5a97d-151">啟用原生編譯預存程序的統計資料收集。</span><span class="sxs-lookup"><span data-stu-id="5a97d-151">Enable statistics collection for natively compiled stored procedures.</span></span>|  
|[<span data-ttu-id="5a97d-152">sp_xtp_control_query_exec_stats &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-152">sys.sp_xtp_control_query_exec_stats &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-control-query-exec-stats-transact-sql)|<span data-ttu-id="5a97d-153">啟用原生編譯預存程序的每一查詢統計資料收集。</span><span class="sxs-lookup"><span data-stu-id="5a97d-153">Enable per query statistics collection for natively compiled stored procedures.</span></span>|  
|[<span data-ttu-id="5a97d-154">sp_xtp_merge_checkpoint_files &#40;Transact-sql&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-154">sys.sp_xtp_merge_checkpoint_files &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-merge-checkpoint-files-transact-sql)|<span data-ttu-id="5a97d-155">合併資料和差異檔案。</span><span class="sxs-lookup"><span data-stu-id="5a97d-155">Merge data and delta files.</span></span>|  
|[<span data-ttu-id="5a97d-156">sys.sp_xtp_bind_db_resource_pool &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="5a97d-156">sys.sp_xtp_unbind_db_resource_pool &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sys-sp-xtp-unbind-db-resource-pool-transact-sql)|<span data-ttu-id="5a97d-157">移除資料庫與資源集區之間的繫結。</span><span class="sxs-lookup"><span data-stu-id="5a97d-157">Remove the binding between a database and a resource pool.</span></span>|  
  
## <a name="dynamic-management-views-dmvs"></a><span data-ttu-id="5a97d-158">動態管理檢視 (DMV)</span><span class="sxs-lookup"><span data-stu-id="5a97d-158">Dynamic Management Views (DMVs)</span></span>  
 <span data-ttu-id="5a97d-159">記憶體最佳化資料表有數個 DMV。</span><span class="sxs-lookup"><span data-stu-id="5a97d-159">There are several DMVs for memory-optimized tables.</span></span>  
  
 <span data-ttu-id="5a97d-160">如需詳細資訊，請參閱[&#40;transact-sql&#41;的記憶體優化資料表動態管理 Views ](/sql/relational-databases/system-dynamic-management-views/memory-optimized-table-dynamic-management-views-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="5a97d-160">For details, see [Memory-Optimized Table Dynamic Management Views &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/memory-optimized-table-dynamic-management-views-transact-sql).</span></span>  
  
## <a name="wait-types"></a><span data-ttu-id="5a97d-161">等候類型</span><span class="sxs-lookup"><span data-stu-id="5a97d-161">Wait Types</span></span>  
 <span data-ttu-id="5a97d-162">有數個支援 In-Memory OLTP 的等候類型。</span><span class="sxs-lookup"><span data-stu-id="5a97d-162">There are several wait types that support In-Memory OLTP.</span></span>  
  
 <span data-ttu-id="5a97d-163">如需詳細資訊，請參閱前面加上**WAIT_XTP**的等候類型，以及[dm_os_wait_stats &#40;transact-sql&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql)主題中的**XTPPROC** 。</span><span class="sxs-lookup"><span data-stu-id="5a97d-163">For details, see wait types that are prefixed with **WAIT_XTP**, and **XTPPROC** in the [sys.dm_os_wait_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-os-wait-stats-transact-sql) topic.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5a97d-164">另請參閱</span><span class="sxs-lookup"><span data-stu-id="5a97d-164">See Also</span></span>  
 <span data-ttu-id="5a97d-165">[記憶體內部 OLTP &#40;記憶體內部最佳化&#41;](../relational-databases/in-memory-oltp/in-memory-oltp-in-memory-optimization.md) </span><span class="sxs-lookup"><span data-stu-id="5a97d-165">[In-Memory OLTP &#40;In-Memory Optimization&#41;](../relational-databases/in-memory-oltp/in-memory-oltp-in-memory-optimization.md) </span></span>  
 [<span data-ttu-id="5a97d-166">記憶體內部 OLTP 的 Transact-SQL 支援</span><span class="sxs-lookup"><span data-stu-id="5a97d-166">Transact-SQL Support for In-Memory OLTP</span></span>](../relational-databases/in-memory-oltp/transact-sql-support-for-in-memory-oltp.md)  
  
  
