---
title: 伺服器網路組態 | Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- Named Pipes [SQL Server], configuring
- connections [SQL Server], server network configuration
- Database Engine [SQL Server], network configurations
- server network configuration [SQL Server]
- protocols [SQL Server], choosing
- ports [SQL Server], changing
- server configuration [SQL Server]
ms.assetid: 890c09a1-6dad-4931-aceb-901c02ae34c5
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 97acd6deaa251d4eea9ef1e00c0554c13011c469
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706730"
---
# <a name="server-network-configuration"></a><span data-ttu-id="a5d84-102">伺服器網路組態</span><span class="sxs-lookup"><span data-stu-id="a5d84-102">Server Network Configuration</span></span>
  <span data-ttu-id="a5d84-103">伺服器網路組態工作包括啟用通訊協定、修改通訊協定使用的通訊埠或管道、設定加密選項、設定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務、在網路上公開或隱藏 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 以及註冊伺服器主體名稱。</span><span class="sxs-lookup"><span data-stu-id="a5d84-103">Server network configuration tasks include enabling protocols, modifying the port or pipe used by a protocol, configuring encryption, configuring the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service, exposing or hiding the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] on the network, and registering the Server Principal Name.</span></span> <span data-ttu-id="a5d84-104">大部分的情況下，您不需要變更伺服器網路組態。</span><span class="sxs-lookup"><span data-stu-id="a5d84-104">Most of the time, you do not have to change the server network configuration.</span></span> <span data-ttu-id="a5d84-105">除非有特殊的網路需求時，才需要重新設定伺服器網路通訊協定。</span><span class="sxs-lookup"><span data-stu-id="a5d84-105">Only reconfigure the server network protocols if special network requirements.</span></span>  
  
 <span data-ttu-id="a5d84-106">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的網路組態是利用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員進行設定。</span><span class="sxs-lookup"><span data-stu-id="a5d84-106">Network configuration for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is done using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="a5d84-107">如果是舊版的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，請使用這些產品隨附的伺服器網路公用程式。</span><span class="sxs-lookup"><span data-stu-id="a5d84-107">For earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], use the Server Network Utility that ships with those products.</span></span>  
  
## <a name="protocols"></a><span data-ttu-id="a5d84-108">通訊協定</span><span class="sxs-lookup"><span data-stu-id="a5d84-108">Protocols</span></span>  
 <span data-ttu-id="a5d84-109">請利用「 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員」來啟用或停用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]所使用的通訊協定，並設定通訊協定可用的選項。</span><span class="sxs-lookup"><span data-stu-id="a5d84-109">Use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to enable or disable the protocols used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and to configure the options available for the protocols.</span></span> <span data-ttu-id="a5d84-110">可啟用一個以上的通訊協定。</span><span class="sxs-lookup"><span data-stu-id="a5d84-110">More than one protocol can be enabled.</span></span> <span data-ttu-id="a5d84-111">您必須啟用要給用戶端使用的所有通訊協定。</span><span class="sxs-lookup"><span data-stu-id="a5d84-111">You must enable all protocols that you want clients to use.</span></span> <span data-ttu-id="a5d84-112">所有通訊協定對伺服器的存取權限全部相同。</span><span class="sxs-lookup"><span data-stu-id="a5d84-112">All protocols have equal access to the server.</span></span> <span data-ttu-id="a5d84-113">如需應該使用哪些通訊協定的相關資訊，請參閱[啟用或停用伺服器網路通訊協定](enable-or-disable-a-server-network-protocol.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-113">For information about which protocols you should use, see [Enable or Disable a Server Network Protocol](enable-or-disable-a-server-network-protocol.md).</span></span>  
  
### <a name="changing-a-port"></a><span data-ttu-id="a5d84-114">變更通訊埠</span><span class="sxs-lookup"><span data-stu-id="a5d84-114">Changing a Port</span></span>  
 <span data-ttu-id="a5d84-115">您可以設定 TCP/IP 通訊協定來接聽指定的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="a5d84-115">You can configure the TCP/IP protocol to listen on a designated port.</span></span> <span data-ttu-id="a5d84-116">根據預設， [!INCLUDE[ssDE](../../includes/ssde-md.md)] 的預設執行個體會接聽 TCP 通訊埠 1433。</span><span class="sxs-lookup"><span data-stu-id="a5d84-116">By default, the default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] listens on TCP port 1433.</span></span> <span data-ttu-id="a5d84-117">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 和 [!INCLUDE[ssEW](../../includes/ssew-md.md)] 的具名執行個體是針對動態通訊埠所設定。</span><span class="sxs-lookup"><span data-stu-id="a5d84-117">Named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssEW](../../includes/ssew-md.md)] are configured for dynamic ports.</span></span> <span data-ttu-id="a5d84-118">這表示，當 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務啟動時，它們會選取可用的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="a5d84-118">This means they select an available port when the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service is started.</span></span> <span data-ttu-id="a5d84-119">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務可協助用戶端識別所連接的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="a5d84-119">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service helps clients identify the port when they connect.</span></span>  
  
 <span data-ttu-id="a5d84-120">設定為動態通訊埠時， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 每次啟動時可能會變更所使用的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="a5d84-120">When configured for dynamic ports, the port used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] may change each time it is started.</span></span> <span data-ttu-id="a5d84-121">透過防火牆連接 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 時，您必須開啟 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]所使用的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="a5d84-121">When connecting to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through a firewall, you must open the port used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5d84-122">請設定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 使用特定的通訊埠，讓您可以設定防火牆來允許對伺服器的通訊。</span><span class="sxs-lookup"><span data-stu-id="a5d84-122">Configure [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to use a specific port, so you can configure the firewall to allow communication to the server.</span></span> <span data-ttu-id="a5d84-123">如需詳細資訊，請參閱[設定伺服器接聽特定 TCP 通訊埠 &#40;SQL Server 組態管理員&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-123">For more information, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
### <a name="changing-a-named-pipe"></a><span data-ttu-id="a5d84-124">變更具名管道</span><span class="sxs-lookup"><span data-stu-id="a5d84-124">Changing a Named Pipe</span></span>  
 <span data-ttu-id="a5d84-125">您可以設定具名管道通訊協定來接聽指定的具名管道。</span><span class="sxs-lookup"><span data-stu-id="a5d84-125">You can configure the named pipe protocol to listen on a designated named pipe.</span></span> <span data-ttu-id="a5d84-126">根據預設，[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 的預設執行個體會在管道 \\\\.\pipe\sql\query 上接聽 (預設執行個體)，或在管道 \\\\.\pipe\MSSQL$ *\<instancename>* \sql\query 上接聽 (具名執行個體)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-126">By default, the default instance of [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] listens on pipe \\\\.\pipe\sql\query for the default instance and \\\\.\pipe\MSSQL$*\<instancename>* \sql\query for a named instance.</span></span> <span data-ttu-id="a5d84-127">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 只能接聽一個具名管道，但您可以視需要將該管道變更為其他名稱。</span><span class="sxs-lookup"><span data-stu-id="a5d84-127">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] can only listen on one named pipe, but you can change the pipe to another name if you wish.</span></span> <span data-ttu-id="a5d84-128">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務可協助用戶端識別所連接的管道。</span><span class="sxs-lookup"><span data-stu-id="a5d84-128">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service helps clients identify the pipe when they connect.</span></span> <span data-ttu-id="a5d84-129">如需詳細資訊，請參閱[設定接聽替代管道的伺服器 &#40;SQL Server 組態管理員&#41;](configure-a-server-to-listen-on-an-alternate-pipe.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-129">For more information, see [Configure a Server to Listen on an Alternate Pipe &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-an-alternate-pipe.md).</span></span>  
  
## <a name="force-encryption"></a><span data-ttu-id="a5d84-130">強制加密</span><span class="sxs-lookup"><span data-stu-id="a5d84-130">Force Encryption</span></span>  
 <span data-ttu-id="a5d84-131">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 可以設定為和用戶端應用程式通訊時需要加密。</span><span class="sxs-lookup"><span data-stu-id="a5d84-131">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] can be configured to require encryption when communicating with client applications.</span></span> <span data-ttu-id="a5d84-132">如需詳細資訊，請參閱[啟用 Database Engine 的加密連接 &#40;SQL Server 組態管理員&#41;](enable-encrypted-connections-to-the-database-engine.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-132">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
## <a name="extended-protection-for-authentication"></a><span data-ttu-id="a5d84-133">驗證擴充保護</span><span class="sxs-lookup"><span data-stu-id="a5d84-133">Extended Protection for Authentication</span></span>  
 <span data-ttu-id="a5d84-134">使用繫結和服務繫結的驗證擴充保護可供支援擴充保護的作業系統使用。</span><span class="sxs-lookup"><span data-stu-id="a5d84-134">Support for Extended Protection for Authentication by using channel binding and service binding is available for operating systems that support Extended Protection.</span></span> <span data-ttu-id="a5d84-135">如需詳細資訊，請參閱 [使用擴充保護連接至 Database Engine](connect-to-the-database-engine-using-extended-protection.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-135">For more information, see [Connect to the Database Engine Using Extended Protection](connect-to-the-database-engine-using-extended-protection.md).</span></span>  
  
## <a name="authenticating-by-using-kerberos"></a><span data-ttu-id="a5d84-136">使用 Kerberos 驗證</span><span class="sxs-lookup"><span data-stu-id="a5d84-136">Authenticating by Using Kerberos</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a5d84-137">支援 Kerberos 驗證。</span><span class="sxs-lookup"><span data-stu-id="a5d84-137">supports Kerberos authentication.</span></span> <span data-ttu-id="a5d84-138">如需詳細資訊，請參閱 [註冊 Kerberos 連接的服務主體名稱](register-a-service-principal-name-for-kerberos-connections.md) 和 [Microsoft Kerberos Configuration Manager for SQL Server](https://www.microsoft.com/download/details.aspx?id=39046)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-138">For more information, see [Register a Service Principal Name for Kerberos Connections](register-a-service-principal-name-for-kerberos-connections.md) and [Microsoft Kerberos Configuration Manager for SQL Server](https://www.microsoft.com/download/details.aspx?id=39046).</span></span>  
  
### <a name="registering-a-server-principal-name-spn"></a><span data-ttu-id="a5d84-139">註冊伺服器主體名稱 (SPN)</span><span class="sxs-lookup"><span data-stu-id="a5d84-139">Registering a Server Principal Name (SPN)</span></span>  
 <span data-ttu-id="a5d84-140">Kerberos 驗證服務會使用 SPN 來驗證服務。</span><span class="sxs-lookup"><span data-stu-id="a5d84-140">The Kerberos authentication service uses an SPN to authenticate a service.</span></span> <span data-ttu-id="a5d84-141">如需詳細資訊，請參閱 [註冊 Kerberos 連接的服務主體名稱](register-a-service-principal-name-for-kerberos-connections.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-141">For more information, see [Register a Service Principal Name for Kerberos Connections](register-a-service-principal-name-for-kerberos-connections.md).</span></span>  
  
 <span data-ttu-id="a5d84-142">SPN 在使用 NTLM 連接時，可能也會用來讓用戶端驗證變得更安全。</span><span class="sxs-lookup"><span data-stu-id="a5d84-142">SPNs may also be used to make client authentication more secure when connecting with NTLM.</span></span> <span data-ttu-id="a5d84-143">如需詳細資訊，請參閱 [使用擴充保護連接至 Database Engine](connect-to-the-database-engine-using-extended-protection.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-143">For more information, see [Connect to the Database Engine Using Extended Protection](connect-to-the-database-engine-using-extended-protection.md).</span></span>  
  
## <a name="sql-server-browser-service"></a><span data-ttu-id="a5d84-144">SQL Server Browser 服務</span><span class="sxs-lookup"><span data-stu-id="a5d84-144">SQL Server Browser Service</span></span>  
 <span data-ttu-id="a5d84-145">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務會在伺服器上執行，並協助用戶端電腦尋找 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的執行個體。</span><span class="sxs-lookup"><span data-stu-id="a5d84-145">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service runs on the server, and helps client computers to find instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="a5d84-146">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 服務不需設定，但它在某些連接狀況時必須是執行狀態。</span><span class="sxs-lookup"><span data-stu-id="a5d84-146">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service does not need to be configured, but must be running under some connection scenarios.</span></span> <span data-ttu-id="a5d84-147">如需 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 的詳細資訊，請參閱 [SQL Server Browser 服務 &#40;Database Engine 和 SSAS&#41;](sql-server-browser-service-database-engine-and-ssas.md)</span><span class="sxs-lookup"><span data-stu-id="a5d84-147">For more information about [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, see [SQL Server Browser Service &#40;Database Engine and SSAS&#41;](sql-server-browser-service-database-engine-and-ssas.md)</span></span>  
  
## <a name="hiding-sql-server"></a><span data-ttu-id="a5d84-148">隱藏 SQL Server</span><span class="sxs-lookup"><span data-stu-id="a5d84-148">Hiding SQL Server</span></span>  
 <span data-ttu-id="a5d84-149">執行時 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 會以每個已安裝執行個體的名稱、版本與連接資訊來回應查詢。</span><span class="sxs-lookup"><span data-stu-id="a5d84-149">When running, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser responds to queries, with the name, version, and connection information for each installed instance.</span></span> <span data-ttu-id="a5d84-150">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中， **HideInstance** 旗標表示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser 不應回應關於此伺服器執行個體的資訊。</span><span class="sxs-lookup"><span data-stu-id="a5d84-150">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **HideInstance** flag, indicates that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser should not respond with information about this server instance.</span></span> <span data-ttu-id="a5d84-151">用戶端應用程式仍然可以連接，但必須知道必要的連接資訊。</span><span class="sxs-lookup"><span data-stu-id="a5d84-151">Client applications can still connect, but they must know the required connection information.</span></span> <span data-ttu-id="a5d84-152">如需詳細資訊，請參閱 [隱藏 SQL Server Database Engine 的執行個體](../sql-server-database-engine-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="a5d84-152">For more information, see [Hide an Instance of SQL Server Database Engine](../sql-server-database-engine-overview.md).</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="a5d84-153">相關內容</span><span class="sxs-lookup"><span data-stu-id="a5d84-153">Related Content</span></span>  
 [<span data-ttu-id="a5d84-154">用戶端網路組態</span><span class="sxs-lookup"><span data-stu-id="a5d84-154">Client Network Configuration</span></span>](client-network-configuration.md)  
  
 [<span data-ttu-id="a5d84-155">管理 Database Engine Services</span><span class="sxs-lookup"><span data-stu-id="a5d84-155">Manage the Database Engine Services</span></span>](manage-the-database-engine-services.md)  
  
  
