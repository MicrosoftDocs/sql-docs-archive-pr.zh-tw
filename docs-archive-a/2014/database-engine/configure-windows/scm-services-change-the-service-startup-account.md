---
title: 變更 SQL Server (SQL Server 組態管理員) 的服務啟動帳戶 |Microsoft Docs
ms.custom: ''
ms.date: 01/07/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- SQL Server services, startup account changes
- startup accounts [SQL Server]
- changing startup accounts for services
ms.assetid: d721c796-0397-46a7-901b-1a9a3c3fb385
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: c14c1756ac66c4a377271a13e61a307e53ac1ee2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87688194"
---
# <a name="change-the-service-startup-account-for-sql-server-sql-server-configuration-manager"></a><span data-ttu-id="f47ed-102">變更 SQL Server 的服務啟動帳戶 (SQL Server 組態管理員)</span><span class="sxs-lookup"><span data-stu-id="f47ed-102">Change the Service Startup Account for SQL Server (SQL Server Configuration Manager)</span></span>
  <span data-ttu-id="f47ed-103">本主題描述如何使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員來變更 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 服務的啟動選項，以及變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 所使用的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="f47ed-103">This topic describes how to Use the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to change the start up options of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services and to change the service accounts that are used by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].</span></span> <span data-ttu-id="f47ed-104">在 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 中，使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]、 [!INCLUDE[tsql](../../includes/tsql-md.md)]或 PowerShell。</span><span class="sxs-lookup"><span data-stu-id="f47ed-104">in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or PowerShell.</span></span> <span data-ttu-id="f47ed-105">如需如何選取適合的服務帳戶的詳細資訊，請參閱 [設定 Windows 服務帳戶和權限](configure-windows-service-accounts-and-permissions.md)。</span><span class="sxs-lookup"><span data-stu-id="f47ed-105">For more information about how to select an appropriate service account, see [Configure Windows Service Accounts and Permissions](configure-windows-service-accounts-and-permissions.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="f47ed-106">當您變更 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 的服務啟動帳戶時，必須重新啟動 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務 ( [!INCLUDE[ssDE](../../includes/ssde-md.md)])，才能讓變更生效。</span><span class="sxs-lookup"><span data-stu-id="f47ed-106">When you change the service startup account for the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service (the [!INCLUDE[ssDE](../../includes/ssde-md.md)]) must be restarted for the change to take effect.</span></span> <span data-ttu-id="f47ed-107">重新啟動服務時，除非服務順利重新啟動，否則所有與該 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體相關的資料庫都會無法使用。</span><span class="sxs-lookup"><span data-stu-id="f47ed-107">When the service is restarted, all databases associated with that instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will be unavailable until the service successfully restarts.</span></span> <span data-ttu-id="f47ed-108">如果您必須變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 的服務啟動帳戶，請確定您在定期排程的維護期間進行，或在可讓資料庫離線，而不會中斷每日作業時進行。</span><span class="sxs-lookup"><span data-stu-id="f47ed-108">If you have to change the service startup account of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent, make sure that you do so during regularly scheduled maintenance or when the databases can be taken offline without interrupting daily operations.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="f47ed-109">開始之前</span><span class="sxs-lookup"><span data-stu-id="f47ed-109">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="f47ed-110">限制事項</span><span class="sxs-lookup"><span data-stu-id="f47ed-110">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="f47ed-111">叢集伺服器</span><span class="sxs-lookup"><span data-stu-id="f47ed-111">Clustered servers</span></span>  
  
     <span data-ttu-id="f47ed-112">您必須從 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 叢集的使用中節點執行變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 所使用之服務帳戶的作業。</span><span class="sxs-lookup"><span data-stu-id="f47ed-112">Changing the service account that is used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent must be performed from the active node of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cluster.</span></span>  
  
     <span data-ttu-id="f47ed-113">在 Windows Server 2008 上執行 (使用網域群組，採用非預設組態) 時，變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 所使用的服務帳戶需要使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員，讓資源群組離線來停止 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="f47ed-113">When running on Windows Server 2008 (in a non-default configuration using Domain groups), changing the service account that is used by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent requires [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager to stop [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by taking the resource groups offline.</span></span>  
  
-   <span data-ttu-id="f47ed-114">SKU 升級 ([!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 升級為非 Express SKU)</span><span class="sxs-lookup"><span data-stu-id="f47ed-114">SKU Upgrade ([!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] to non-Express SKU)</span></span>  
  
     <span data-ttu-id="f47ed-115">在 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 安裝期間， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 服務會設定成使用網路服務帳戶，但是它已停用。</span><span class="sxs-lookup"><span data-stu-id="f47ed-115">During [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] installation, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is configured to use the Network Service account but disabled.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="f47ed-116">組態管理員可以變更指派給 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 服務的帳戶，但是您無法啟用或啟動此服務。</span><span class="sxs-lookup"><span data-stu-id="f47ed-116">Configuration Manager can change the account assigned for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service but the service cannot be enabled or started.</span></span> <span data-ttu-id="f47ed-117">在 SKU 從 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 升級為非 Express 之後，雖然不會自動啟用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent 服務，但是您可以使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員並將服務啟動模式變更為「手動」或「自動」，在需要時啟用此服務。</span><span class="sxs-lookup"><span data-stu-id="f47ed-117">After SKU upgrade from [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] to non-Express, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service is not automatically enabled, but can be enabled when needed by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager and changing the service start mode to Manual or Automatic.</span></span>  
  
##  <a name="using-sql-server-configuration-manager"></a><a name="SSMSProcedure"></a> <span data-ttu-id="f47ed-118">使用 SQL Server 組態管理員</span><span class="sxs-lookup"><span data-stu-id="f47ed-118">Using SQL Server Configuration Manager</span></span>  
  
#### <a name="to-change-the-sql-server-service-startup-account"></a><span data-ttu-id="f47ed-119">變更 SQL Server 服務啟動帳戶</span><span class="sxs-lookup"><span data-stu-id="f47ed-119">To change the SQL Server service startup account</span></span>  
  
1.  <span data-ttu-id="f47ed-120">指向 **[開始]** 功能表上的 **[所有程式]** ，然後依序指向 [ [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)]] 和 **[組態工具]** ，再按一下 **[SQL Server 組態管理員]** 。</span><span class="sxs-lookup"><span data-stu-id="f47ed-120">On the **Start** menu, point to **All Programs**, point to [!INCLUDE[ssCurrentUI](../../includes/sscurrentui-md.md)], point to **Configuration Tools**, and then click **SQL Server Configuration Manager**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f47ed-121">因為 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員是 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 管理主控台程式的嵌入式管理單元，而不是獨立的程式，所以 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員在較新版本的 Windows 中不會作為應用程式出現。</span><span class="sxs-lookup"><span data-stu-id="f47ed-121">Because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager is a snap-in for the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Management Console program and not a stand-alone program, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager does not appear as an application in newer versions of Windows.</span></span>  
    >   
    >  -   <span data-ttu-id="f47ed-122">**Windows 10**：</span><span class="sxs-lookup"><span data-stu-id="f47ed-122">**Windows 10**:</span></span>  
    >          <span data-ttu-id="f47ed-123">若要開啟 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager，請在 [**開始] 頁面**上，輸入適用于) 的 sqlservermanager12.msc (。 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="f47ed-123">To open [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, on the **Start Page**, type SQLServerManager12.msc (for [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]).</span></span> <span data-ttu-id="f47ed-124">針對先前版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，以較小的數字取代 12。</span><span class="sxs-lookup"><span data-stu-id="f47ed-124">For previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] replace 12 with a smaller number.</span></span> <span data-ttu-id="f47ed-125">按一下 SQLServerManager12.msc 即可開啟 Configuration Manager。</span><span class="sxs-lookup"><span data-stu-id="f47ed-125">Clicking SQLServerManager12.msc opens the Configuration Manager.</span></span> <span data-ttu-id="f47ed-126">若要將 Configuration Manager 釘選到起始頁或工作列，請在 [Sqlservermanager12.msc] 上按一下滑鼠右鍵，然後按一下 [**開啟檔案位置**]。</span><span class="sxs-lookup"><span data-stu-id="f47ed-126">To pin the Configuration Manager to the Start Page or Task Bar, right-click SQLServerManager12.msc, and then click **Open file location**.</span></span> <span data-ttu-id="f47ed-127">在 Windows 檔案瀏覽器中，以滑鼠右鍵按一下 [Sqlservermanager12.msc]，然後按一下 [**釘選到開始**] 或 [**釘選到工作列**]。</span><span class="sxs-lookup"><span data-stu-id="f47ed-127">In the Windows File Explorer, right-click SQLServerManager12.msc, and then click **Pin to Start** or **Pin to taskbar**.</span></span>  
    > -   <span data-ttu-id="f47ed-128">**Windows 8**：</span><span class="sxs-lookup"><span data-stu-id="f47ed-128">**Windows 8**:</span></span>  
    >          <span data-ttu-id="f47ed-129">若要開啟 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager，請在 [**搜尋**] 快速鍵的 [**應用程式**] 底下，輸入**SQLServerManager \<version> \*\* （例如 `SQLServerManager12.msc` ），然後按**enter\*\*。</span><span class="sxs-lookup"><span data-stu-id="f47ed-129">To open [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, in the **Search** charm, under **Apps**, type **SQLServerManager\<version>.msc** such as `SQLServerManager12.msc`, and then press **Enter**.</span></span>  
  
2.  <span data-ttu-id="f47ed-130">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員中，按一下 **[SQL Server 服務]** 。</span><span class="sxs-lookup"><span data-stu-id="f47ed-130">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, click **SQL Server Services**.</span></span>  
  
3.  <span data-ttu-id="f47ed-131">在詳細資料窗格中，以滑鼠右鍵按一下您要變更服務啟動帳戶的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體名稱，然後按一下 [屬性]。</span><span class="sxs-lookup"><span data-stu-id="f47ed-131">In the details pane, right-click the name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance for which you want to change the service startup account, and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="f47ed-132">在 [SQL Server \<***instancename***> 屬性] 對話方塊中，按一下 [登入] 索引標籤，然後選取 [登入身分] 帳戶類型。</span><span class="sxs-lookup"><span data-stu-id="f47ed-132">In the **SQL Server \<***instancename***> Properties** dialog box, click the **Log On** tab, and select a **Log on as** account type.</span></span>  
  
5.  <span data-ttu-id="f47ed-133">選取新的服務啟動帳戶之後，請按一下 **[確定]** 。</span><span class="sxs-lookup"><span data-stu-id="f47ed-133">After selecting the new service startup account, click **OK**.</span></span>  
  
     <span data-ttu-id="f47ed-134">此時會出現一個訊息方塊，詢問您是否想要重新啟動 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務。</span><span class="sxs-lookup"><span data-stu-id="f47ed-134">A message box asks whether you want to restart the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service.</span></span>  
  
6.  <span data-ttu-id="f47ed-135">按一下 **[是]** ，然後關閉 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 組態管理員。</span><span class="sxs-lookup"><span data-stu-id="f47ed-135">Click **Yes**, and then close [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f47ed-136">另請參閱</span><span class="sxs-lookup"><span data-stu-id="f47ed-136">See Also</span></span>  
 <span data-ttu-id="f47ed-137">[啟動、停止、暫停、繼續、重新啟動 Database Engine、SQL Server Agent 或 SQL Server Browser 服務](start-stop-pause-resume-restart-sql-server-services.md) </span><span class="sxs-lookup"><span data-stu-id="f47ed-137">[Start, Stop, Pause, Resume, Restart the Database Engine, SQL Server Agent, or SQL Server Browser Service](start-stop-pause-resume-restart-sql-server-services.md) </span></span>  
 [<span data-ttu-id="f47ed-138">設定 WMI 在 SQL Server 工具中顯示伺服器狀態</span><span class="sxs-lookup"><span data-stu-id="f47ed-138">Configure WMI to Show Server Status in SQL Server Tools</span></span>](../../ssms/configure-wmi-to-show-server-status-in-sql-server-tools.md)  
  
  
