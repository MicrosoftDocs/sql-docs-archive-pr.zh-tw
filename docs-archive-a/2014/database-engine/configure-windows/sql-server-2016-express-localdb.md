---
title: SQL Server 2014 Express LocalDB |Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- user instances
- LocalDB, described
- local database runtime
- file database
- LocalDB
ms.assetid: 5a641a46-7cfb-4d7b-a90d-6e4625719d74
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: af60935af0d183ab7ed6d1c10f84229b7ead3730
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87607081"
---
# <a name="sql-server-2014-express-localdb"></a><span data-ttu-id="05a0e-102">SQL Server 2014 Express LocalDB</span><span class="sxs-lookup"><span data-stu-id="05a0e-102">SQL Server 2014 Express LocalDB</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="05a0e-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` 是 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 以程式開發人員為目標的執行模式。</span><span class="sxs-lookup"><span data-stu-id="05a0e-103">[!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` is an execution mode of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] targeted to program developers.</span></span> <span data-ttu-id="05a0e-104">`LocalDB`安裝會複製啟動所需的最小檔案集合 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-104">`LocalDB` installation copies a minimal set of files necessary to start the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="05a0e-105">`LocalDB`安裝之後，開發人員會使用特殊的連接字串來起始連接。</span><span class="sxs-lookup"><span data-stu-id="05a0e-105">Once `LocalDB` is installed, developers initiate a connection by using a special connection string.</span></span> <span data-ttu-id="05a0e-106">連接時，就會自動建立及啟動必要的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 基礎結構，應用程式不需複雜或耗時的組態工作即可開始使用資料庫。</span><span class="sxs-lookup"><span data-stu-id="05a0e-106">When connecting, the necessary [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] infrastructure is automatically created and started, enabling the application to use the database without complex or time consuming configuration tasks.</span></span> <span data-ttu-id="05a0e-107">Developer Tools 為開發人員提供 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] ，讓他們撰寫和測試 [!INCLUDE[tsql](../../includes/tsql-md.md)] 程式碼，而不需要管理 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的完整伺服器執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a0e-107">Developer Tools can provide developers with a [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] that lets them write and test [!INCLUDE[tsql](../../includes/tsql-md.md)] code without having to manage a full server instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="05a0e-108">的實例 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] `LocalDB` 是使用公用程式來管理 `SqlLocalDB.exe` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-108">An instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]`LocalDB` is managed by using the `SqlLocalDB.exe` utility.</span></span> [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]<span data-ttu-id="05a0e-109">`LocalDB`應該用來取代 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 已被取代的使用者實例功能。</span><span class="sxs-lookup"><span data-stu-id="05a0e-109">`LocalDB` should be used in place of the [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] user instance feature which is deprecated.</span></span>  
  
## <a name="installing-localdb"></a><span data-ttu-id="05a0e-110">安裝 LocalDB</span><span class="sxs-lookup"><span data-stu-id="05a0e-110">Installing LocalDB</span></span>  
 <span data-ttu-id="05a0e-111">安裝的主要方法 `LocalDB` 是使用 SqlLocalDB.msi 程式。</span><span class="sxs-lookup"><span data-stu-id="05a0e-111">The primary method of installing `LocalDB` is by using the SqlLocalDB.msi program.</span></span> <span data-ttu-id="05a0e-112">`LocalDB`是安裝的任何 SKU 時的選項 [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-112">`LocalDB` is an option when installing any SKU of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)].</span></span> <span data-ttu-id="05a0e-113">在 `LocalDB` 安裝期間，于 [**特徵選取**] 頁面上選取 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-113">Select `LocalDB` on the **Feature Selection** page during installation of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)].</span></span> <span data-ttu-id="05a0e-114">`LocalDB`每個主要版本只能有一個二進位檔案安裝 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-114">There can be only one installation of the `LocalDB` binary files for each major [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] version.</span></span> <span data-ttu-id="05a0e-115">多個 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 處理序可以啟動，而且全部都會使用相同的二進位檔案。</span><span class="sxs-lookup"><span data-stu-id="05a0e-115">Multiple [!INCLUDE[ssDE](../../includes/ssde-md.md)] processes can be started and will all use the same binaries.</span></span> <span data-ttu-id="05a0e-116">當做啟動的實例與 [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] `LocalDB` 具有相同的限制[!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span><span class="sxs-lookup"><span data-stu-id="05a0e-116">An instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] started as the `LocalDB` has the same limitations as [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]</span></span>  
  
## <a name="description"></a><span data-ttu-id="05a0e-117">描述</span><span class="sxs-lookup"><span data-stu-id="05a0e-117">Description</span></span>  
 <span data-ttu-id="05a0e-118">`LocalDB`安裝程式會使用 SqlLocalDB.msi 程式，在電腦上安裝必要的檔案。</span><span class="sxs-lookup"><span data-stu-id="05a0e-118">The `LocalDB` setup program uses the SqlLocalDB.msi program to install the necessary files on the computer.</span></span> <span data-ttu-id="05a0e-119">安裝之後， `LocalDB` 就是 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] 可建立及開啟資料庫的實例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-119">Once installed, `LocalDB` is an instance of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] that can create and open [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases.</span></span> <span data-ttu-id="05a0e-120">資料庫的系統資料庫檔案儲存在使用者本機上通常處於隱藏狀態的 AppData 路徑。</span><span class="sxs-lookup"><span data-stu-id="05a0e-120">The system database files for the database are stored in the users' local AppData path which is normally hidden.</span></span> <span data-ttu-id="05a0e-121">例如 **C:\Users\\<使用者\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\**。</span><span class="sxs-lookup"><span data-stu-id="05a0e-121">For example **C:\Users\\<user\>\AppData\Local\Microsoft\Microsoft SQL Server Local DB\Instances\LocalDBApp1\\**.</span></span> <span data-ttu-id="05a0e-122">使用者資料庫檔案儲存在使用者指定的位置，通常是在 **C:\Users\\<使用者\>\Documents\\** 資料夾中的某個位置。</span><span class="sxs-lookup"><span data-stu-id="05a0e-122">User database files are stored where the user designates, typically somewhere in the **C:\Users\\<user\>\Documents\\** folder.</span></span>  
  
 <span data-ttu-id="05a0e-123">如需 `LocalDB` 在應用程式中包含的詳細資訊，請參閱 [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] 檔[本機資料總覽](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx)、[逐步解說：建立 SQL Server LocalDB 資料庫](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx)和[逐步解說：連接至 SQL Server LocalDB 資料庫中的資料 (Windows Forms) ](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx)。</span><span class="sxs-lookup"><span data-stu-id="05a0e-123">For more information about including `LocalDB` in an application, see the [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] documentation [Local Data Overview](https://msdn.microsoft.com/library/ms233817\(VS.110\).aspx), [Walkthrough: Creating a SQL Server LocalDB Database](https://msdn.microsoft.com/library/ms233763\(VS.110\).aspx), and [Walkthrough: Connecting to Data in a SQL Server LocalDB Database (Windows Forms)](https://msdn.microsoft.com/library/ms171890\(VS.110\).aspx).</span></span>  
  
 <span data-ttu-id="05a0e-124">如需有關 API 的詳細資訊 `LocalDB` ，請參閱[SQL Server Express LOCALDB 實例 API 參考](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx)和[LocalDBStartInstance](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx)函式。</span><span class="sxs-lookup"><span data-stu-id="05a0e-124">For more information about the `LocalDB` API, see [SQL Server Express LocalDB Instance API Reference](https://msdn.microsoft.com/library/hh234692\(SQL.110\).aspx) and [LocalDBStartInstance Function](https://msdn.microsoft.com/library/hh217143\(SQL.110\).aspx).</span></span>  
  
 <span data-ttu-id="05a0e-125">SqlLocalDb 公用程式可以建立的新實例 `LocalDB` 、啟動和停止的實例 `LocalDB` ，並包含可協助您管理的選項 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-125">The SqlLocalDb utility can create new instances of `LocalDB`, start and stop an instance of `LocalDB`, and includes options to help you manage `LocalDB`.</span></span>  <span data-ttu-id="05a0e-126">如需 SqlLocalDb 公用程式的詳細資訊，請參閱 [SqlLocalDB 公用程式](../../tools/sqllocaldb-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="05a0e-126">For more information about the SqlLocalDb utility, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
 <span data-ttu-id="05a0e-127">的實例定序 `LocalDB` 設定為 SQL_Latin1_General_CP1_CI_AS，而且無法變更。</span><span class="sxs-lookup"><span data-stu-id="05a0e-127">The instance collation for `LocalDB` is set to SQL_Latin1_General_CP1_CI_AS and cannot be changed.</span></span> <span data-ttu-id="05a0e-128">通常支援資料庫層級、資料行層級和運算式層級定序。</span><span class="sxs-lookup"><span data-stu-id="05a0e-128">Database-level, column-level, and expression-level collations are supported normally.</span></span> <span data-ttu-id="05a0e-129">自主資料庫遵循 [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md)所定義的中繼資料和 tempdb 定序規則。</span><span class="sxs-lookup"><span data-stu-id="05a0e-129">Contained databases follow the metadata and tempdb collations rules defined by [Contained Database Collations](../../relational-databases/databases/contained-database-collations.md).</span></span>  
  
### <a name="restrictions"></a><span data-ttu-id="05a0e-130">限制</span><span class="sxs-lookup"><span data-stu-id="05a0e-130">Restrictions</span></span>  
 <span data-ttu-id="05a0e-131">`LocalDB`不可以是合併式複寫訂閱者。</span><span class="sxs-lookup"><span data-stu-id="05a0e-131">`LocalDB` cannot be a merge replication subscriber.</span></span>  
  
 <span data-ttu-id="05a0e-132">`LocalDB`不支援 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="05a0e-132">`LocalDB` does not support FILESTREAM.</span></span>  
  
 <span data-ttu-id="05a0e-133">`LocalDB`僅允許 Service Broker 的本機佇列。</span><span class="sxs-lookup"><span data-stu-id="05a0e-133">`LocalDB` only allows local queues for Service Broker.</span></span>  
  
 <span data-ttu-id="05a0e-134">`LocalDB`內建帳戶（例如 NT AUTHORITY\SYSTEM）所擁有的實例，可能因為 windows 檔案系統重新導向而有管理性問題。改為使用一般 windows 帳戶作為擁有者。</span><span class="sxs-lookup"><span data-stu-id="05a0e-134">An instance of `LocalDB` owned by the built-in accounts such as NT AUTHORITY\SYSTEM can have manageability issues due to windows file system redirection; Instead use a normal windows account as the owner.</span></span>  
  
### <a name="automatic-and-named-instances"></a><span data-ttu-id="05a0e-135">自動和具名執行個體</span><span class="sxs-lookup"><span data-stu-id="05a0e-135">Automatic and Named Instances</span></span>  
 <span data-ttu-id="05a0e-136">`LocalDB`支援兩種類型的實例：自動實例和已命名的實例。</span><span class="sxs-lookup"><span data-stu-id="05a0e-136">`LocalDB` supports two kinds of instances: Automatic instances and named instances.</span></span>  
  
-   <span data-ttu-id="05a0e-137">的自動實例 `LocalDB` 是公用的。</span><span class="sxs-lookup"><span data-stu-id="05a0e-137">Automatic instances of `LocalDB` are public.</span></span> <span data-ttu-id="05a0e-138">這些執行個體會自動為使用者建立及管理，並且可供任何應用程式使用。</span><span class="sxs-lookup"><span data-stu-id="05a0e-138">They are created and managed automatically for the user and can be used by any application.</span></span> <span data-ttu-id="05a0e-139">在 `LocalDB` `LocalDB` 使用者電腦上安裝的每個版本都有一個自動實例。</span><span class="sxs-lookup"><span data-stu-id="05a0e-139">One automatic instance of `LocalDB` exists for every version of `LocalDB` installed on the user's computer.</span></span> <span data-ttu-id="05a0e-140">自動實例可 `LocalDB` 提供無縫的實例管理。</span><span class="sxs-lookup"><span data-stu-id="05a0e-140">Automatic instances of `LocalDB` provide seamless instance management.</span></span> <span data-ttu-id="05a0e-141">無需建立執行個體，它就會運作。</span><span class="sxs-lookup"><span data-stu-id="05a0e-141">There is no need to create the instance; it just works.</span></span> <span data-ttu-id="05a0e-142">這允許應用程式輕鬆安裝和移轉到另一部電腦。</span><span class="sxs-lookup"><span data-stu-id="05a0e-142">This allows for easy application installation and migration to a different computer.</span></span> <span data-ttu-id="05a0e-143">如果目標電腦已安裝指定的 `LocalDB` 版本，該目標電腦可以使用此版本的 `LocalDB` 自動執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a0e-143">If the target machine has the specified version of `LocalDB` installed, the automatic instance of `LocalDB` for that version is available on the target machine as well.</span></span> <span data-ttu-id="05a0e-144">的自動實例 `LocalDB` 具有屬於保留命名空間之實例名稱的特殊模式。</span><span class="sxs-lookup"><span data-stu-id="05a0e-144">Automatic instances of `LocalDB` have a special pattern for the instance name that belongs to a reserved namespace.</span></span> <span data-ttu-id="05a0e-145">這可避免與的已命名實例發生名稱衝突 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-145">This prevents name conflicts with named instances of `LocalDB`.</span></span> <span data-ttu-id="05a0e-146">自動執行個體的名稱是 **MSSQLLocalDB**。</span><span class="sxs-lookup"><span data-stu-id="05a0e-146">The name for the automatic instance is **MSSQLLocalDB**.</span></span>  
  
-   <span data-ttu-id="05a0e-147">的命名實例 `LocalDB` 是私用的。</span><span class="sxs-lookup"><span data-stu-id="05a0e-147">Named instances of `LocalDB` are private.</span></span> <span data-ttu-id="05a0e-148">這些執行個體是由負責建立及管理該執行個體的單一應用程式所擁有。</span><span class="sxs-lookup"><span data-stu-id="05a0e-148">They are owned by a single application that is responsible for creating and managing the instance.</span></span> <span data-ttu-id="05a0e-149">具名執行個體與其他執行個體隔離，並透過減少與其他資料庫使用者的資源競爭來提高效能。</span><span class="sxs-lookup"><span data-stu-id="05a0e-149">Named instances provide isolation from other instances and can improve performance by reducing resource contention with other database users.</span></span> <span data-ttu-id="05a0e-150">已命名的實例必須由使用者透過管理 API 明確建立， `LocalDB` 或在受控應用程式的 app.config 檔中以隱含的方式建立 (雖然受控應用程式也可以使用 API （如有) 需要）。</span><span class="sxs-lookup"><span data-stu-id="05a0e-150">Named instances must be created explicitly by the user through the `LocalDB` management API or implicitly via the app.config file for a managed application (although managed application may also use the API, if desired).</span></span> <span data-ttu-id="05a0e-151">的每一個實例 `LocalDB` 都有相關聯的 `LocalDB` 版本，指向各自的一組 `LocalDB` 二進位檔。</span><span class="sxs-lookup"><span data-stu-id="05a0e-151">Each named instance of `LocalDB` has an associated `LocalDB` version that points to the respective set of `LocalDB` binaries.</span></span> <span data-ttu-id="05a0e-152">的實例名稱 `LocalDB` 是 `sysname` 資料類型，最多可以有128個字元。</span><span class="sxs-lookup"><span data-stu-id="05a0e-152">The instance name of a `LocalDB` is `sysname` data type and can have up to 128 characters.</span></span> <span data-ttu-id="05a0e-153"> (這不同于的一般命名實例 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，這會將名稱限制為16個 ASCII 字元的一般 NetBIOS 名稱。 ) 實例的名稱 `LocalDB` 可以包含檔案名中任何合法的 Unicode 字元。</span><span class="sxs-lookup"><span data-stu-id="05a0e-153">(This differs from regular named instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], which limits names to regular NetBIOS names of 16 ASCII chars.) The name of an instance of `LocalDB` can contain any Unicode characters that are legal within a filename.</span></span>  <span data-ttu-id="05a0e-154">使用自動執行個體名稱的具名執行個體會成為自動執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a0e-154">A named instance that uses an automatic instance name becomes an automatic instance.</span></span>  
  
 <span data-ttu-id="05a0e-155">電腦的不同使用者可有同名的執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a0e-155">Different users of a computer can have instances with the same name.</span></span> <span data-ttu-id="05a0e-156">每個執行個體都是以不同使用者身分執行的不同處理序。</span><span class="sxs-lookup"><span data-stu-id="05a0e-156">Each instance is a different processes running as a different user.</span></span>  
  
## <a name="shared-instances-of-localdb"></a><span data-ttu-id="05a0e-157">LocalDB 的共用執行個體</span><span class="sxs-lookup"><span data-stu-id="05a0e-157">Shared Instances of LocalDB</span></span>  
 <span data-ttu-id="05a0e-158">為了支援電腦的多個使用者需要連接到單一實例的案例 `LocalDB` ， `LocalDB` 支援實例共用。</span><span class="sxs-lookup"><span data-stu-id="05a0e-158">To support scenarios where multiple users of the computer need to connect to a single instance of `LocalDB`, `LocalDB` supports instance sharing.</span></span> <span data-ttu-id="05a0e-159">執行個體擁有者可以選擇允許電腦上的其他使用者連接到他的執行個體。</span><span class="sxs-lookup"><span data-stu-id="05a0e-159">An instance owner can choose to allow the other users on the computer to connect to his instance.</span></span> <span data-ttu-id="05a0e-160">可以共用的自動和已命名的實例 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-160">Both automatic and named instances of `LocalDB` can be shared.</span></span> <span data-ttu-id="05a0e-161">若要共用 `LocalDB` 執行個體，使用者必須為它選取共用名稱 (別名)。</span><span class="sxs-lookup"><span data-stu-id="05a0e-161">To share an instance of `LocalDB` a user selects a shared name (alias) for it.</span></span> <span data-ttu-id="05a0e-162">因為電腦上的所有使用者都可以看到共用名稱，此共用名稱在電腦上必須是唯一的。</span><span class="sxs-lookup"><span data-stu-id="05a0e-162">Because the shared name is visible to all users of the computer, this shared name must be unique on the computer.</span></span> <span data-ttu-id="05a0e-163">實例的共用名稱與的 `LocalDB` 命名實例具有相同的格式 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-163">The shared name for an instance of `LocalDB` has the same format as the named instance of `LocalDB`.</span></span>  
  
 <span data-ttu-id="05a0e-164">只有電腦上的系統管理員可以建立的共用實例 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-164">Only an administrator on the computer can create a shared instance of `LocalDB`.</span></span> <span data-ttu-id="05a0e-165">的共用實例 `LocalDB` 可由系統管理員或共用實例的擁有者取消共用 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-165">A shared instance of `LocalDB` can be unshared by an administrator or by the owner of the shared instance of `LocalDB`.</span></span> <span data-ttu-id="05a0e-166">若要共用和取消共用的實例 `LocalDB` ，請使用 `LocalDBShareInstance` API 的和 `LocalDBUnShareInstance` 方法 `LocalDB` ，或 SqlLocalDb 公用程式的共用和取消共用選項。</span><span class="sxs-lookup"><span data-stu-id="05a0e-166">To share and unshared an instance of `LocalDB`, use the `LocalDBShareInstance` and `LocalDBUnShareInstance` methods of the `LocalDB` API, or the share and unshared options of the SqlLocalDb utility.</span></span>  
  
## <a name="starting-localdb-and-connecting-to-localdb"></a><span data-ttu-id="05a0e-167">啟動 LocalDB 以及連接到 LocalDB</span><span class="sxs-lookup"><span data-stu-id="05a0e-167">Starting LocalDB and Connecting to LocalDB</span></span>  
  
### <a name="connecting-to-the-automatic-instance"></a><span data-ttu-id="05a0e-168">連接到自動執行個體</span><span class="sxs-lookup"><span data-stu-id="05a0e-168">Connecting to the Automatic Instance</span></span>  
 <span data-ttu-id="05a0e-169">最簡單的方法 `LocalDB` 是使用連接字串 **"Server = (localdb) \Mssqllocaldb; 整合式安全性 = true"**，連接到目前使用者所擁有的自動實例。</span><span class="sxs-lookup"><span data-stu-id="05a0e-169">The easiest way to use `LocalDB` is to connect to the automatic instance owned by the current user by using the connection string **"Server=(localdb)\MSSQLLocalDB;Integrated Security=true"**.</span></span> <span data-ttu-id="05a0e-170">若要使用檔案名稱來連接到特定的資料庫，請使用類似於 **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\Data\MyDB1.mdf"** 的連接字串進行連接。</span><span class="sxs-lookup"><span data-stu-id="05a0e-170">To connect to a specific database by using the file name, connect using a connection string similar to **"Server=(LocalDB)\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\Data\MyDB1.mdf"**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="05a0e-171">第一次在電腦上的使用者嘗試連接到時 `LocalDB` ，必須同時建立和啟動自動實例。</span><span class="sxs-lookup"><span data-stu-id="05a0e-171">The first time a user on a computer tries to connect to `LocalDB`, the automatic instance must be both created and started.</span></span> <span data-ttu-id="05a0e-172">建立執行個體所需的額外時間可能會導致連接嘗試失敗並顯示逾時訊息。</span><span class="sxs-lookup"><span data-stu-id="05a0e-172">The extra time for the instance to be created can cause the connection attempt to fail with a timeout message.</span></span> <span data-ttu-id="05a0e-173">發生這種情況時，請等候幾秒鐘，讓建立程序完成，然後再重新連接。</span><span class="sxs-lookup"><span data-stu-id="05a0e-173">When this happens, wait a few seconds to let the creation process complete, and then connect again.</span></span>  
  
### <a name="creating-and-connecting-to-a-named-instances"></a><span data-ttu-id="05a0e-174">建立及連接到具名執行個體</span><span class="sxs-lookup"><span data-stu-id="05a0e-174">Creating and Connecting to a Named Instances</span></span>  
 <span data-ttu-id="05a0e-175">除了自動實例之外， `LocalDB` 也支援已命名的實例。</span><span class="sxs-lookup"><span data-stu-id="05a0e-175">In addition to the automatic instance, `LocalDB` also supports named instances.</span></span> <span data-ttu-id="05a0e-176">使用 SqlLocalDB.exe 程式來建立、啟動和停止的已命名實例 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-176">Use the SqlLocalDB.exe program to create, start, and stop an named instance of `LocalDB`.</span></span> <span data-ttu-id="05a0e-177">如需 SqlLocalDB.exe 的詳細資訊，請參閱 [SqlLocalDB 公用程式](../../tools/sqllocaldb-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="05a0e-177">For more information about SqlLocalDB.exe, see [SqlLocalDB Utility](../../tools/sqllocaldb-utility.md).</span></span>  
  
```ms-dos  
REM Create an instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" create LocalDBApp1  
REM Start the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" start LocalDBApp1  
REM Gather information about the instance of LocalDB  
"C:\Program Files\Microsoft SQL Server\120\Tools\Binn\SqlLocalDB.exe" info LocalDBApp1  
```  
  
 <span data-ttu-id="05a0e-178">以上最後一行傳回的資訊如下所示。</span><span class="sxs-lookup"><span data-stu-id="05a0e-178">The last line above, returns information similar to the following.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="05a0e-179">名稱</span><span class="sxs-lookup"><span data-stu-id="05a0e-179">Name</span></span>|<span data-ttu-id="05a0e-180">"LocalDBApp1"</span><span class="sxs-lookup"><span data-stu-id="05a0e-180">"LocalDBApp1"</span></span>|  
|<span data-ttu-id="05a0e-181">版本</span><span class="sxs-lookup"><span data-stu-id="05a0e-181">Version</span></span>|\<Current Version>|  
|<span data-ttu-id="05a0e-182">共用名稱</span><span class="sxs-lookup"><span data-stu-id="05a0e-182">Shared name</span></span>|<span data-ttu-id="05a0e-183">""</span><span class="sxs-lookup"><span data-stu-id="05a0e-183">""</span></span>|  
|<span data-ttu-id="05a0e-184">擁有者</span><span class="sxs-lookup"><span data-stu-id="05a0e-184">Owner</span></span>|<span data-ttu-id="05a0e-185">"\<Your Windows User>"</span><span class="sxs-lookup"><span data-stu-id="05a0e-185">"\<Your Windows User>"</span></span>|  
|<span data-ttu-id="05a0e-186">自動建立</span><span class="sxs-lookup"><span data-stu-id="05a0e-186">Auto create</span></span>|<span data-ttu-id="05a0e-187">否</span><span class="sxs-lookup"><span data-stu-id="05a0e-187">No</span></span>|  
|<span data-ttu-id="05a0e-188">State</span><span class="sxs-lookup"><span data-stu-id="05a0e-188">State</span></span>|<span data-ttu-id="05a0e-189">執行中</span><span class="sxs-lookup"><span data-stu-id="05a0e-189">running</span></span>|  
|<span data-ttu-id="05a0e-190">上次啟動時間</span><span class="sxs-lookup"><span data-stu-id="05a0e-190">Last start time</span></span>|\<Date and Time>|  
|<span data-ttu-id="05a0e-191">執行個體管道名稱</span><span class="sxs-lookup"><span data-stu-id="05a0e-191">Instance pipe name</span></span>|<span data-ttu-id="05a0e-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span><span class="sxs-lookup"><span data-stu-id="05a0e-192">np:\\\\.\pipe\LOCALDB#F365A78E\tsql\query</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="05a0e-193">如果您的應用程式在4.0.2 之前使用 .NET 版本，您必須直接連接到的具名管道 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-193">If your application uses a version of .NET before 4.0.2 you must connect directly to the named pipe of the `LocalDB`.</span></span> <span data-ttu-id="05a0e-194">實例管道名稱值是實例正在接聽的具名管道 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-194">The Instance pipe name value is the named pipe that the instance of `LocalDB` is listening on.</span></span> <span data-ttu-id="05a0e-195">在 LOCALDB # 之後，實例管道名稱的部分將會在每次啟動實例時變更 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-195">The portion of the Instance pipe name after LOCALDB# will change each time the instance of `LocalDB` is started.</span></span> <span data-ttu-id="05a0e-196">若要使用連接到的實例 `LocalDB` [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ，請在 [**連接到 [!INCLUDE[ssDE](../../includes/ssde-md.md)] \*\* ] 對話方塊的 [**伺服器名稱\*\*] 方塊中，輸入實例管道名稱。</span><span class="sxs-lookup"><span data-stu-id="05a0e-196">To connect to the instance of `LocalDB` by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], type the Instance pipe name in the **Server name** box of the **Connect to [!INCLUDE[ssDE](../../includes/ssde-md.md)]** dialog box.</span></span> <span data-ttu-id="05a0e-197">從您的自訂程式，您可以 `LocalDB` 使用類似于的連接字串，建立與實例的連接。`SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span><span class="sxs-lookup"><span data-stu-id="05a0e-197">From your custom program you can establish connection to the instance of `LocalDB` using a connection string similar to `SqlConnection conn = new SqlConnection(@"Server=np:\\.\pipe\LOCALDB#F365A78E\tsql\query");`</span></span>  
  
### <a name="connecting-to-a-shared-instance-of-localdb"></a><span data-ttu-id="05a0e-198">連接到 LocalDB 的共用執行個體</span><span class="sxs-lookup"><span data-stu-id="05a0e-198">Connecting to a Shared Instance of LocalDB</span></span>  
 <span data-ttu-id="05a0e-199">若要連接到的共用實例 `LocalDB` \*\* \\ \*\* ，請在連接字串)  (點 + 反斜線），以參考保留給共用實例的命名空間。</span><span class="sxs-lookup"><span data-stu-id="05a0e-199">To connect to a shared instance of `LocalDB` add **.\\** (dot + backslash) to the connection string to reference the namespace reserved for shared instances.</span></span> <span data-ttu-id="05a0e-200">例如，若要連接到名為的共用實例，請 `LocalDB` `AppData` 使用連接字串，例如， `(localdb)\.\AppData` 做為連接字串的一部分。</span><span class="sxs-lookup"><span data-stu-id="05a0e-200">For example, to connect to a shared instance of `LocalDB` named `AppData` use a connection string such as `(localdb)\.\AppData` as part of the connection string.</span></span> <span data-ttu-id="05a0e-201">連接到 `LocalDB` 不在其擁有之共用實例的使用者，必須具有 Windows 驗證或 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 驗證登入。</span><span class="sxs-lookup"><span data-stu-id="05a0e-201">A user connecting to a shared instance of `LocalDB` that they do not own must have a Windows Authentication or [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication login.</span></span>  
  
## <a name="troubleshooting"></a><span data-ttu-id="05a0e-202">疑難排解</span><span class="sxs-lookup"><span data-stu-id="05a0e-202">Troubleshooting</span></span>  
 <span data-ttu-id="05a0e-203">如需疑難排解的相關資訊 `LocalDB` ，請參閱[疑難排解 SQL Server 2012 Express LocalDB](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx)。</span><span class="sxs-lookup"><span data-stu-id="05a0e-203">For information about troubleshooting `LocalDB`, see [Troubleshooting SQL Server 2012 Express LocalDB](https://social.technet.microsoft.com/wiki/contents/articles/4609.aspx).</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="05a0e-204">權限</span><span class="sxs-lookup"><span data-stu-id="05a0e-204">Permissions</span></span>  
 <span data-ttu-id="05a0e-205">的實例 [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)] `LocalDB` 是由使用者建立的實例，供其使用。</span><span class="sxs-lookup"><span data-stu-id="05a0e-205">An instance of [!INCLUDE[ssExpCurrent](../../includes/ssexpcurrent-md.md)]`LocalDB` is an instance created by a user for their use.</span></span> <span data-ttu-id="05a0e-206">電腦上的任何使用者都可以使用的實例建立資料庫 `LocalDB` 、在其使用者設定檔下儲存檔案，並在其認證之下執行進程。</span><span class="sxs-lookup"><span data-stu-id="05a0e-206">Any user on the computer can create a database using an instance of `LocalDB`, storing files under their user profile and running the process under their credentials.</span></span> <span data-ttu-id="05a0e-207">根據預設，對實例的存取權 `LocalDB` 僅限於其擁有者。</span><span class="sxs-lookup"><span data-stu-id="05a0e-207">By default, access to the instance of `LocalDB` is limited to its owner.</span></span> <span data-ttu-id="05a0e-208">包含在中的資料受到資料庫檔案之 `LocalDB` 檔案系統存取的保護。</span><span class="sxs-lookup"><span data-stu-id="05a0e-208">The data contained in the `LocalDB` is protected by file system access to the database files.</span></span> <span data-ttu-id="05a0e-209">如果使用者資料庫檔案儲存在共用位置中，任何人都可以使用其擁有的實例，來開啟該位置的檔案系統存取權 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-209">If user database files are stored in a shared location, the database can be opened by anyone with file system access to that location by using an instance of `LocalDB` that they own.</span></span> <span data-ttu-id="05a0e-210">如果資料庫檔案位於受保護的位置，例如使用者資料夾，則只有該使用者和擁有該資料夾存取權的任何系統管理員才可以開啟資料庫。</span><span class="sxs-lookup"><span data-stu-id="05a0e-210">If the database files are in a protected location, such as the users data folder, only that user, and any administrators with access to that folder, can open the database.</span></span> <span data-ttu-id="05a0e-211">檔案 `LocalDB` 一次只能由一個實例開啟 `LocalDB` 。</span><span class="sxs-lookup"><span data-stu-id="05a0e-211">The `LocalDB` files can only be opened by one instance of `LocalDB` at a time.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="05a0e-212">`LocalDB`一律在使用者安全性內容下執行;也就是， `LocalDB` 絕對不會使用本機系統管理員群組的認證來執行。</span><span class="sxs-lookup"><span data-stu-id="05a0e-212">`LocalDB` always runs under the users security context; that is, `LocalDB` never runs with credentials from the local Administrator's group.</span></span> <span data-ttu-id="05a0e-213">這表示實例所使用的所有資料庫檔案都 `LocalDB` 必須可使用擁有使用者的 Windows 帳戶來存取，而不需要考慮本機 Administrators 群組的成員資格。</span><span class="sxs-lookup"><span data-stu-id="05a0e-213">This means that all database files used by a `LocalDB` instance must be accessible using the owning user's Windows account, without considering membership in the local Administrators group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="05a0e-214">另請參閱</span><span class="sxs-lookup"><span data-stu-id="05a0e-214">See Also</span></span>  
 [<span data-ttu-id="05a0e-215">SqlLocalDB 公用程式</span><span class="sxs-lookup"><span data-stu-id="05a0e-215">SqlLocalDB Utility</span></span>](../../tools/sqllocaldb-utility.md)  
  
  
