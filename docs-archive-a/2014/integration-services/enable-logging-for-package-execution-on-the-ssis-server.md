---
title: 在 SSIS 伺服器上啟用封裝執行的記錄 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 8930c63c-bc6f-46c2-b428-b3c29ee89a7d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: bb0ca1e03466e6cad277905093262b9aec048c71
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87596816"
---
# <a name="enable-logging-for-package-execution-on-the-ssis-server"></a><span data-ttu-id="b35ec-102">在 SSIS 伺服器上啟用封裝執行的記錄功能</span><span class="sxs-lookup"><span data-stu-id="b35ec-102">Enable Logging for Package Execution on the SSIS Server</span></span>
  <span data-ttu-id="b35ec-103">此程序描述如何在執行已經部署至 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 伺服器的封裝時，設定或變更封裝的記錄層次。</span><span class="sxs-lookup"><span data-stu-id="b35ec-103">This procedure describes how to set or change the logging level for a package when you execute a package that you have deployed to the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] server.</span></span> <span data-ttu-id="b35ec-104">執行封裝時所設定的記錄層次會覆寫您使用 [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] 設定的封裝記錄。</span><span class="sxs-lookup"><span data-stu-id="b35ec-104">The logging level you set when you execute the package overrides the package logging you configure using [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="b35ec-105">如需詳細資訊，請參閱 [在 SQL Server Data Tools 中啟用封裝記錄功能](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md) 。</span><span class="sxs-lookup"><span data-stu-id="b35ec-105">See [Enable Package Logging in SQL Server Data Tools](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md) for more information.</span></span>  
  
 <span data-ttu-id="b35ec-106">您可以使用下列其中一個方法指定記錄層次：</span><span class="sxs-lookup"><span data-stu-id="b35ec-106">You can specify the logging level by using one of the following methods.</span></span> <span data-ttu-id="b35ec-107">本主題涵蓋第一個方法。</span><span class="sxs-lookup"><span data-stu-id="b35ec-107">This topic covers the first method.</span></span>  
  
-   <span data-ttu-id="b35ec-108">使用執行封裝對話方塊設定封裝執行作業的執行個體</span><span class="sxs-lookup"><span data-stu-id="b35ec-108">Configuring an instance of a package execution by using the Execute Package dialog box</span></span>  
  
-   <span data-ttu-id="b35ec-109">請使用 [catalog.set_execution_parameter_value &#40;SSISDB 資料庫&#41;](/sql/integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database) 為執行的執行個體設定參數。</span><span class="sxs-lookup"><span data-stu-id="b35ec-109">Setting parameters for an instance of an execution by using the [catalog.set_execution_parameter_value &#40;SSISDB Database&#41;](/sql/integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database)</span></span>  
  
-   <span data-ttu-id="b35ec-110">使用 [新增作業步驟] 對話方塊設定封裝執行作業的 SQL Server Agent 作業。</span><span class="sxs-lookup"><span data-stu-id="b35ec-110">Configuring a SQL Server Agent job for a package execution by using the New Job Step dialog box.</span></span>  
  
### <a name="to-set-the-logging-level-for-a-package-by-using-the-execute-package-dialog-box"></a><span data-ttu-id="b35ec-111">若要使用執行封裝對話方塊設定封裝的記錄層次</span><span class="sxs-lookup"><span data-stu-id="b35ec-111">To set the logging level for a package by using the Execute Package dialog box</span></span>  
  
1.  <span data-ttu-id="b35ec-112">在 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]的 [物件總管] 中，導覽至封裝。</span><span class="sxs-lookup"><span data-stu-id="b35ec-112">In [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)], navigate to the package in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="b35ec-113">以滑鼠右鍵按一下封裝，然後選取 [執行]  。</span><span class="sxs-lookup"><span data-stu-id="b35ec-113">Right-click the package and select **Execute**.</span></span>  
  
3.  <span data-ttu-id="b35ec-114">在 **[執行封裝]** 對話方塊中，選取 **[進階]** 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="b35ec-114">Select the **Advanced** tab in the **Execute Package** dialog box.</span></span>  
  
4.  <span data-ttu-id="b35ec-115">在 **[記錄層次]** 底下，選取記錄層次。</span><span class="sxs-lookup"><span data-stu-id="b35ec-115">Under **Logging level**, select the logging level.</span></span> <span data-ttu-id="b35ec-116">如需可用值的說明，請參閱下表。</span><span class="sxs-lookup"><span data-stu-id="b35ec-116">See the table below for a description of available values.</span></span>  
  
5.  <span data-ttu-id="b35ec-117">完成任何其他封裝組態，然後按一下 **[確定]** 執行封裝。</span><span class="sxs-lookup"><span data-stu-id="b35ec-117">Complete any other package configurations, then click **OK** to run the package.</span></span>  
  
 <span data-ttu-id="b35ec-118">下面是可用的記錄層次。</span><span class="sxs-lookup"><span data-stu-id="b35ec-118">The following logging levels are available.</span></span>  
  
|<span data-ttu-id="b35ec-119">[記錄層次]</span><span class="sxs-lookup"><span data-stu-id="b35ec-119">Logging Level</span></span>|<span data-ttu-id="b35ec-120">描述</span><span class="sxs-lookup"><span data-stu-id="b35ec-120">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="b35ec-121">None</span><span class="sxs-lookup"><span data-stu-id="b35ec-121">None</span></span>|<span data-ttu-id="b35ec-122">關閉記錄功能。</span><span class="sxs-lookup"><span data-stu-id="b35ec-122">Logging is turned off.</span></span> <span data-ttu-id="b35ec-123">只記錄封裝執行狀態。</span><span class="sxs-lookup"><span data-stu-id="b35ec-123">Only the package execution status is logged.</span></span>|  
|<span data-ttu-id="b35ec-124">基本</span><span class="sxs-lookup"><span data-stu-id="b35ec-124">Basic</span></span>|<span data-ttu-id="b35ec-125">記錄所有事件，自訂和診斷事件除外。</span><span class="sxs-lookup"><span data-stu-id="b35ec-125">All events are logged, except custom and diagnostic events.</span></span> <span data-ttu-id="b35ec-126">這是預設值。</span><span class="sxs-lookup"><span data-stu-id="b35ec-126">This is the default value.</span></span>|  
|<span data-ttu-id="b35ec-127">效能</span><span class="sxs-lookup"><span data-stu-id="b35ec-127">Performance</span></span>|<span data-ttu-id="b35ec-128">只記錄效能統計資料，以及 OnError 和 OnWarning 事件。</span><span class="sxs-lookup"><span data-stu-id="b35ec-128">Only performance statistics, and OnError and OnWarning events, are logged.</span></span><br /><br /> <span data-ttu-id="b35ec-129">**[執行效能]** 報表會顯示封裝資料流程元件的 [啟用時間] 和 [總時間]。</span><span class="sxs-lookup"><span data-stu-id="b35ec-129">The **Execution Performance** report displays Active Time and Total Time for package data flow components.</span></span> <span data-ttu-id="b35ec-130">最後一個封裝執行作業的記錄層次設定為 **[效能]** 或 **[詳細資訊]** 時，就可使用這項資訊。</span><span class="sxs-lookup"><span data-stu-id="b35ec-130">This information is available when the logging level of the last package execution was set to **Performance** or **Verbose**.</span></span> <span data-ttu-id="b35ec-131">如需詳細資訊，請參閱 [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md)。</span><span class="sxs-lookup"><span data-stu-id="b35ec-131">For more information, see [Reports for the Integration Services Server](../../2014/integration-services/reports-for-the-integration-services-server.md).</span></span><br /><br /> <span data-ttu-id="b35ec-132">[catalog.execution_component_phases](/sql/integration-services/system-views/catalog-execution-component-phases) 檢視會顯示每一個執行階段之資料流程元件的開始和結束時間。</span><span class="sxs-lookup"><span data-stu-id="b35ec-132">The [catalog.execution_component_phases](/sql/integration-services/system-views/catalog-execution-component-phases) view displays the start and end times for the data flow components, for each phase of an execution.</span></span> <span data-ttu-id="b35ec-133">此檢視只會在封裝執行作業的記錄層次設定為 **[效能]** 或 **[詳細資訊]** 時，顯示這些元件的這項資訊。</span><span class="sxs-lookup"><span data-stu-id="b35ec-133">This view displays this information for these components only when the logging level of the package execution is set to **Performance** or **Verbose**.</span></span>|  
|<span data-ttu-id="b35ec-134">「詳細資訊」</span><span class="sxs-lookup"><span data-stu-id="b35ec-134">Verbose</span></span>|<span data-ttu-id="b35ec-135">記錄所有事件，包括自訂和診斷事件。</span><span class="sxs-lookup"><span data-stu-id="b35ec-135">All events are logged, including custom and diagnostic events.</span></span><br /><br /> <span data-ttu-id="b35ec-136">DiagnosticEx 事件即為診斷事件的範例。</span><span class="sxs-lookup"><span data-stu-id="b35ec-136">An example of a diagnostic event, is the DiagnosticEx event.</span></span> <span data-ttu-id="b35ec-137">只要執行封裝工作執行子封裝，它就會記錄這個事件。</span><span class="sxs-lookup"><span data-stu-id="b35ec-137">Whenever an Execute Package task executes a child package, it logs this event.</span></span> <span data-ttu-id="b35ec-138">事件訊息是由傳遞至子封裝的參數值所組成。</span><span class="sxs-lookup"><span data-stu-id="b35ec-138">The event message consists of the parameter values passed to child packages</span></span><br /><br /> <span data-ttu-id="b35ec-139">DiagnosticEx 之訊息資料行的值是 XML 文字。</span><span class="sxs-lookup"><span data-stu-id="b35ec-139">The value of the message column for DiagnosticEx is XML text.</span></span> <span data-ttu-id="b35ec-140">.</span><span class="sxs-lookup"><span data-stu-id="b35ec-140">.</span></span> <span data-ttu-id="b35ec-141">若要檢視封裝執行的訊息文字，請查詢 [catalog.operation_messages &#40;SSISDB 資料庫&#41;](/sql/integration-services/system-views/catalog-operation-messages-ssisdb-database) 檢視。</span><span class="sxs-lookup"><span data-stu-id="b35ec-141">To view the message text for a package execution, query the [catalog.operation_messages &#40;SSISDB Database&#41;](/sql/integration-services/system-views/catalog-operation-messages-ssisdb-database) view.</span></span><br /><br /> <span data-ttu-id="b35ec-142">注意：自訂事件包括工作所記錄的事件 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="b35ec-142">Note: Custom events include those events that are logged by [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] tasks.</span></span> <span data-ttu-id="b35ec-143">如需詳細資訊，請參閱 [自訂訊息以進行記錄](../../2014/integration-services/custom-messages-for-logging.md)。</span><span class="sxs-lookup"><span data-stu-id="b35ec-143">For more information, see [Custom Messages for Logging](../../2014/integration-services/custom-messages-for-logging.md).</span></span><br /><br /> <span data-ttu-id="b35ec-144">每當資料流程元件傳送資料至封裝執行的下游元件， [catalog.execution_data_statistics](../relational-databases/statistics/statistics.md) 檢視就會顯示一個資料列。</span><span class="sxs-lookup"><span data-stu-id="b35ec-144">The [catalog.execution_data_statistics](../relational-databases/statistics/statistics.md) view displays a row each time a data flow component sends data to a downstream component, for a package execution.</span></span> <span data-ttu-id="b35ec-145">您必須將記錄層次設定為 **[詳細資訊]** ，以擷取檢視中的這項資訊。</span><span class="sxs-lookup"><span data-stu-id="b35ec-145">The logging level must be set to **Verbose** to capture this information in the view.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b35ec-146">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b35ec-146">See Also</span></span>  
 <span data-ttu-id="b35ec-147">[Integration Services &#40;SSIS&#41; 記錄](performance/integration-services-ssis-logging.md) </span><span class="sxs-lookup"><span data-stu-id="b35ec-147">[Integration Services &#40;SSIS&#41; Logging](performance/integration-services-ssis-logging.md) </span></span>  
 [<span data-ttu-id="b35ec-148">啟用 SQL Server Data Tools 中的封裝記錄功能</span><span class="sxs-lookup"><span data-stu-id="b35ec-148">Enable Package Logging in SQL Server Data Tools</span></span>](../../2014/integration-services/enable-package-logging-in-sql-server-data-tools.md)  
  
  
