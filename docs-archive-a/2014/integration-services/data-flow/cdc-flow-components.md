---
title: CDC 流程元件 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 5ae69ddf-27c3-467c-9af1-c89ec383f661
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6e1ede87d8acca170dcda9fb9f45d3163cce81da
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87700132"
---
# <a name="cdc-flow-components"></a><span data-ttu-id="4bc44-102">CDC 流程元件</span><span class="sxs-lookup"><span data-stu-id="4bc44-102">CDC Flow Components</span></span>
  <span data-ttu-id="4bc44-103">Change Data Capture Components by Attunity for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)] 可協助 SSIS 開發人員使用 CDC 並且降低 CDC 封裝的複雜性。</span><span class="sxs-lookup"><span data-stu-id="4bc44-103">The Change Data Capture Components by Attunity for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)] help SSIS developers work with CDC and reduce the complexity of CDC packages.</span></span>  
  
 <span data-ttu-id="4bc44-104">SSIS CDC 元件的設計目的是要搭配來源資料表為相同 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 資料庫或 Oracle 資料庫 (使用 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 的 Oracle CDC 服務時) 的 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]CDC 功能運作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-104">The SSIS CDC components are designed to work with the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC feature where the source tables are either the same [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] database or an Oracle database (when using the Oracle CDC Service for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]).</span></span> <span data-ttu-id="4bc44-105">支援分割資料表。</span><span class="sxs-lookup"><span data-stu-id="4bc44-105">Partitioned tables are supported.</span></span>  
  
 <span data-ttu-id="4bc44-106">這些元件包括控制和資料流程元件，可簡化在 SSIS 封裝中讀取和處理變更資料的體驗。</span><span class="sxs-lookup"><span data-stu-id="4bc44-106">The components include Control and Data Flow components that streamline the experience of reading and processing change data in SSIS packages.</span></span> <span data-ttu-id="4bc44-107">這些元件可以加入至 Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]的元件程式庫，但是必須另外安裝。</span><span class="sxs-lookup"><span data-stu-id="4bc44-107">The components can be added to the component library in Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], but are installed separately.</span></span>  
  
 <span data-ttu-id="4bc44-108">Change Data Capture Components by Attunity 如下所示：</span><span class="sxs-lookup"><span data-stu-id="4bc44-108">The following are the Change Data Capture Components by Attunity:</span></span>  
  
 <span data-ttu-id="4bc44-109">**CDC 控制流程元件**：</span><span class="sxs-lookup"><span data-stu-id="4bc44-109">**CDC Control Flow Component**:</span></span>  
  
 [<span data-ttu-id="4bc44-110">CDC 控制工作</span><span class="sxs-lookup"><span data-stu-id="4bc44-110">CDC Control Task</span></span>](../control-flow/cdc-control-task.md)  
  
 <span data-ttu-id="4bc44-111">**CDC 資料流程元件**：</span><span class="sxs-lookup"><span data-stu-id="4bc44-111">**CDC Data Flow Components**:</span></span>  
  
 [<span data-ttu-id="4bc44-112">CDC 來源</span><span class="sxs-lookup"><span data-stu-id="4bc44-112">CDC Source</span></span>](cdc-source.md)  
  
 [<span data-ttu-id="4bc44-113">CDC 分隔器</span><span class="sxs-lookup"><span data-stu-id="4bc44-113">CDC Splitter</span></span>](cdc-splitter.md)  
  
## <a name="installation"></a><span data-ttu-id="4bc44-114">安裝</span><span class="sxs-lookup"><span data-stu-id="4bc44-114">Installation</span></span>  
 <span data-ttu-id="4bc44-115">本節描述 Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)]CDC 元件的安裝程序。</span><span class="sxs-lookup"><span data-stu-id="4bc44-115">This section describes the installation procedures for the CDC Components for Microsoft [!INCLUDE[ssISCurrent](../../../includes/ssiscurrent-md.md)].</span></span>  
  
### <a name="version-support"></a><span data-ttu-id="4bc44-116">版本支援</span><span class="sxs-lookup"><span data-stu-id="4bc44-116">Version Support</span></span>  
 <span data-ttu-id="4bc44-117">SSIS CDC 元件支援下列 Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 產品：</span><span class="sxs-lookup"><span data-stu-id="4bc44-117">The following Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] products are supported by the CDC components for SSIS:</span></span>  
  
-   <span data-ttu-id="4bc44-118">Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="4bc44-118">Microsoft [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span></span>  
  
-   <span data-ttu-id="4bc44-119">Microsoft [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 2008 或 2010</span><span class="sxs-lookup"><span data-stu-id="4bc44-119">Microsoft [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 2008 or 2010</span></span>  
  
 <span data-ttu-id="4bc44-120">下列作業系統和平台都支援這些版本：</span><span class="sxs-lookup"><span data-stu-id="4bc44-120">These versions are supported on the following operating systems and platforms:</span></span>  
  
-   <span data-ttu-id="4bc44-121">Windows Vista 32 位元 (x86) 和 64 位元 (x64)，含 Service Pack 2</span><span class="sxs-lookup"><span data-stu-id="4bc44-121">Windows Vista 32-bit (x86) and 64-bit (x64) with Service Pack 2</span></span>  
  
-   <span data-ttu-id="4bc44-122">Windows 7 32 位元 (x86) 和 64 位元 (x64)</span><span class="sxs-lookup"><span data-stu-id="4bc44-122">Windows 7 32-bit (x86) and 64-bit (x64)</span></span>  
  
-   <span data-ttu-id="4bc44-123">Windows Server 2008 32 位元 (x86) 和 64 位元 (x64)，含 Service Pack 2</span><span class="sxs-lookup"><span data-stu-id="4bc44-123">Windows Server 2008 32-bit (x86) and 64-bit (x64) with Service Pack 2</span></span>  
  
-   <span data-ttu-id="4bc44-124">Windows Server 2008 R2 64 位元 (x64)</span><span class="sxs-lookup"><span data-stu-id="4bc44-124">Windows Server 2008 R2 64-bit (x64)</span></span>  
  
### <a name="running-the-installation-program"></a><span data-ttu-id="4bc44-125">執行安裝程式</span><span class="sxs-lookup"><span data-stu-id="4bc44-125">Running the Installation Program</span></span>  
 <span data-ttu-id="4bc44-126">執行安裝精靈之前，請確定 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 已關閉。</span><span class="sxs-lookup"><span data-stu-id="4bc44-126">Before you run the installation wizard, be sure that the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] is closed.</span></span> <span data-ttu-id="4bc44-127">然後，遵循安裝精靈中的指示進行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-127">Then follow the directions in the installation wizard.</span></span>  
  
### <a name="restart-ssis"></a><span data-ttu-id="4bc44-128">重新啟動 SSIS</span><span class="sxs-lookup"><span data-stu-id="4bc44-128">Restart SSIS</span></span>  
 <span data-ttu-id="4bc44-129">安裝 CDC 元件之後，您必須重新啟動 SSIS 服務，才能確保在 SQL [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 中開發封裝時，這些元件可正確運作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-129">After you install the CDC components, you must restart the SSIS service to be sure that the components work correctly when developing packages in the SQL [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)].</span></span>  
  
 <span data-ttu-id="4bc44-130">安裝元件之後，系統會顯示一則訊息。</span><span class="sxs-lookup"><span data-stu-id="4bc44-130">A message is displayed after you install the components.</span></span> <span data-ttu-id="4bc44-131">出現提示時，請按一下 [是]  。</span><span class="sxs-lookup"><span data-stu-id="4bc44-131">Click **Yes** when prompted.</span></span>  
  
### <a name="uninstalling-the-microsoft-cdc-components"></a><span data-ttu-id="4bc44-132">解除安裝 Microsoft CDC 元件</span><span class="sxs-lookup"><span data-stu-id="4bc44-132">Uninstalling the Microsoft CDC Components</span></span>  
 <span data-ttu-id="4bc44-133">您可以使用解除安裝精靈來解除安裝 CDC 來源、CDC 分隔器或 CDC 控制工作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-133">You uninstall the CDC source, CDC splitter, or CDC Control task, by using the uninstall wizard.</span></span> <span data-ttu-id="4bc44-134">解除安裝元件之前，您必須先確定下列事項：</span><span class="sxs-lookup"><span data-stu-id="4bc44-134">Before you uninstall the components you must make sure of the following:</span></span>  
  
 <span data-ttu-id="4bc44-135">如果您正在使用 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 進行封裝開發，請確定 [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] 已關閉，然後再執行解除安裝精靈。</span><span class="sxs-lookup"><span data-stu-id="4bc44-135">If you are using the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] for package development, make sure the [!INCLUDE[ssBIDevStudio](../../../includes/ssbidevstudio-md.md)] is closed before running the uninstall wizard.</span></span>  
  
## <a name="benefits"></a><span data-ttu-id="4bc44-136">優點</span><span class="sxs-lookup"><span data-stu-id="4bc44-136">Benefits</span></span>  
 <span data-ttu-id="4bc44-137">[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] 元件的 CDC 元件可讓 SSIS 開發人員輕鬆地建置處理變更資料的 SSIS 封裝。</span><span class="sxs-lookup"><span data-stu-id="4bc44-137">The CDC Components for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] components allow SSIS developers to easily build SSIS packages that process change data.</span></span> <span data-ttu-id="4bc44-138">這些元件可強化 SSIS 開發人員處理 CDC 的能力，並且降低 CDC 封裝的複雜性。</span><span class="sxs-lookup"><span data-stu-id="4bc44-138">These components enhance the ability of SSIS developers to deal with CDC and reduce the complexity of CDC packages.</span></span>  
  
 <span data-ttu-id="4bc44-139">SSIS CDC 元件是用來以方便進一步處理的方式提供變更資料，以便複寫、載入資料倉儲、更新 OLAP 的緩時變維度、稽核變更或進行其他可能的用途。</span><span class="sxs-lookup"><span data-stu-id="4bc44-139">The SSIS CDC components are used to provide the change data in a way that is easy to further process it for replication, loading a data warehouse, updating slowly changing dimensions for OLAP, auditing changes, or for additional possible uses.</span></span> <span data-ttu-id="4bc44-140">所使用的進一步處理類型是由 SSIS 開發人員決定。</span><span class="sxs-lookup"><span data-stu-id="4bc44-140">The type of further processing used is determined by the SSIS developer.</span></span>  
  
 <span data-ttu-id="4bc44-141">SSIS CDC 元件的設計目的是要搭配變更資料表位於相同 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 資料庫中的 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 功能運作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-141">The SSIS CDC components are designed to work with the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC feature with change tables that are in the same [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] database.</span></span>  
  
## <a name="getting-started-with-the-change-data-capture-components"></a><span data-ttu-id="4bc44-142">開始使用異動資料擷取元件</span><span class="sxs-lookup"><span data-stu-id="4bc44-142">Getting Started with the Change Data Capture Components</span></span>  
 <span data-ttu-id="4bc44-143">一般的 CDC 封裝會處理一組資料表的變更。</span><span class="sxs-lookup"><span data-stu-id="4bc44-143">A typical CDC package processes changes to a group of tables.</span></span> <span data-ttu-id="4bc44-144">下圖顯示這種 CDC 封裝類型的基本控制流程部分。</span><span class="sxs-lookup"><span data-stu-id="4bc44-144">The basic control flow part of this type of CDC package is shown in the figure below.</span></span> <span data-ttu-id="4bc44-145">這種封裝稱為 Trickle 摘要處理封裝。</span><span class="sxs-lookup"><span data-stu-id="4bc44-145">This package is called a trickle-feed processing package.</span></span>  
  
 <span data-ttu-id="4bc44-146">![Trickle 摘要處理套件控制流程](../media/tricklefeedprocessing.gif "Trickle 摘要處理套件控制流程")</span><span class="sxs-lookup"><span data-stu-id="4bc44-146">![Trickle Feed Processing Package Control Flow](../media/tricklefeedprocessing.gif "Trickle Feed Processing Package Control Flow")</span></span>  
  
 <span data-ttu-id="4bc44-147">這個 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] 控制流程包含兩項 CDC 控制工作和資料流程工作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-147">This [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] Control Flow contains two CDC Control Tasks and the Data Flow task.</span></span> <span data-ttu-id="4bc44-148">名為「取得 CDC 處理範圍」  的第一項工作會針對在名為「處理變更」  之資料流程工作中處理的變更建立 LSN 範圍。</span><span class="sxs-lookup"><span data-stu-id="4bc44-148">The first task called **Get CDC Processing Range** establishes the LSN range for the changes that are processed in the data-flow task called **Process Changes**.</span></span> <span data-ttu-id="4bc44-149">這個範圍是根據最後一個封裝執行期間所處理的內容以及儲存在永續性存放區中的內容所建立。</span><span class="sxs-lookup"><span data-stu-id="4bc44-149">This range is established based on what was processed during the last package run and was saved in a persistent store.</span></span>  
  
 <span data-ttu-id="4bc44-150">如需使用 CDC 控制工作的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md) 和 [CDC 控制工作編輯器](../cdc-control-task-editor.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-150">For more information about using the CDC Control Task, see [CDC Control Task](../control-flow/cdc-control-task.md) and [CDC Control Task Editor](../cdc-control-task-editor.md).</span></span>  
  
 <span data-ttu-id="4bc44-151">下圖顯示「處理變更」  資料流程，就概念上說明變更的處理方式。</span><span class="sxs-lookup"><span data-stu-id="4bc44-151">The following figure shows the **Process Changes** data flow, which conceptually shows how the changes are processes.</span></span>  
  
 <span data-ttu-id="4bc44-152">![處理異動資料流程](../media/processchangesdataflow.gif "處理異動資料流程")</span><span class="sxs-lookup"><span data-stu-id="4bc44-152">![Process Changes Data Flow](../media/processchangesdataflow.gif "Process Changes Data Flow")</span></span>  
  
 <span data-ttu-id="4bc44-153">此圖所說明的步驟如下：</span><span class="sxs-lookup"><span data-stu-id="4bc44-153">The steps illustrated in this figure are:</span></span>  
  
-   <span data-ttu-id="4bc44-154">「資料表 X 的變更」\*\*\*\* 是讀取對資料表 X 所做變更的 CDC 來源，這些變更是在父控制流程中決定的 CDC 處理範圍內進行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-154">**Changes for Table X** is a CDC source that reads changes made to table X that where made in the CDC processing range determined in the parent control flow.</span></span>  
  
-   <span data-ttu-id="4bc44-155">**CDC 分隔器 X**是用來將變更分割成插入、刪除和更新。</span><span class="sxs-lookup"><span data-stu-id="4bc44-155">**CDC Splitter X** is used to split the changes into inserts, deletes and updates.</span></span> <span data-ttu-id="4bc44-156">此案例會假設 CDC 來源設定成產生淨變更，以便以平行方式處理不同的變更類型。</span><span class="sxs-lookup"><span data-stu-id="4bc44-156">In this scenario it is assumed that the CDC Source is configured to produce Net changes so that different change types can be processed in parallel.</span></span>  
  
-   <span data-ttu-id="4bc44-157">然後，在下游進一步處理特定變更。</span><span class="sxs-lookup"><span data-stu-id="4bc44-157">The specific changes are then further processed downstream.</span></span> <span data-ttu-id="4bc44-158">在本圖中，這些變更會插入使用多個 ODBC 目的地的資料表，但在實際的情況中，處理方式可能有所不同。</span><span class="sxs-lookup"><span data-stu-id="4bc44-158">In this illustration, the changes are inserted into tables using multiple ODBC Destinations but in actual cases the processing may be different.</span></span>  
  
 <span data-ttu-id="4bc44-159">如需有關 CDC 來源的詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="4bc44-159">For more information about the CDC Source, see:</span></span>  
  
 [<span data-ttu-id="4bc44-160">CDC 來源</span><span class="sxs-lookup"><span data-stu-id="4bc44-160">CDC Source</span></span>](cdc-source.md)  
  
 [<span data-ttu-id="4bc44-161">CDC 來源編輯器 &#40;連線管理員頁面&#41;</span><span class="sxs-lookup"><span data-stu-id="4bc44-161">CDC Source Editor &#40;Connection Manager Page&#41;</span></span>](../cdc-source-editor-connection-manager-page.md)  
  
 [<span data-ttu-id="4bc44-162">CDC 來源編輯器 &#40;資料行頁面&#41;</span><span class="sxs-lookup"><span data-stu-id="4bc44-162">CDC Source Editor &#40;Columns Page&#41;</span></span>](../cdc-source-editor-columns-page.md)  
  
 [<span data-ttu-id="4bc44-163">CDC 來源編輯器 &#40;錯誤輸出頁面&#41;</span><span class="sxs-lookup"><span data-stu-id="4bc44-163">CDC Source Editor &#40;Error Output Page&#41;</span></span>](../cdc-source-editor-error-output-page.md)  
  
 <span data-ttu-id="4bc44-164">如需有關 CDC 分隔器的詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="4bc44-164">For more information about the CDC Splitter, see:</span></span>  
  
 [<span data-ttu-id="4bc44-165">CDC 分隔器</span><span class="sxs-lookup"><span data-stu-id="4bc44-165">CDC Splitter</span></span>](cdc-splitter.md)  
  
 <span data-ttu-id="4bc44-166">建置 CDC 封裝時需要注意的其中一個基本問題是，變更處理如何與資料的初始載入 (或初始處理) 互動。</span><span class="sxs-lookup"><span data-stu-id="4bc44-166">One of the basic issues that require attention when building CDC packages is how the change processing interacts with the initial loading (or initial processing) of the data.</span></span>  
  
 <span data-ttu-id="4bc44-167">CDC 元件支援三種相異初始載入和變更處理案例：</span><span class="sxs-lookup"><span data-stu-id="4bc44-167">The CDC components support three distinct initial loading and change processing scenarios:</span></span>  
  
-   <span data-ttu-id="4bc44-168">透過資料庫快照集完成初始載入。</span><span class="sxs-lookup"><span data-stu-id="4bc44-168">Initial loading done with a database snapshot.</span></span> <span data-ttu-id="4bc44-169">在此情況中，變更處理會從快照集事件的 LSN 開始進行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-169">In this case, change processing starts with the LSN of the snapshot event.</span></span>  
  
-   <span data-ttu-id="4bc44-170">從靜止資料庫進行初始載入。</span><span class="sxs-lookup"><span data-stu-id="4bc44-170">Initial loading from a quiescent database.</span></span> <span data-ttu-id="4bc44-171">在此情況中，初始載入期間不會進行任何變更，因此系統會在初始載入期間的某個時間點對目前 LSN 進行取樣，而且變更處理會從該 LSN 開始進行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-171">In this case, no changes are made during initial loading so the current LSN is sampled at sometime during the initial load and change processing starts with that LSN.</span></span>  
  
-   <span data-ttu-id="4bc44-172">從使用中資料庫進行初始載入。</span><span class="sxs-lookup"><span data-stu-id="4bc44-172">Initial loading from an active database.</span></span> <span data-ttu-id="4bc44-173">在此情況中，當初始載入正在進行時，系統會對資料庫進行變更，而且沒有能夠據以精確啟動變更處理的單一 LSN。</span><span class="sxs-lookup"><span data-stu-id="4bc44-173">In this case, as the initial load is in progress, changes are made to the database and there is no single LSN from which change processing can be precisely started.</span></span> <span data-ttu-id="4bc44-174">在此情況中，初始載入封裝開發人員可以在初始載入前後對來源資料庫的目前 LSN 進行取樣。</span><span class="sxs-lookup"><span data-stu-id="4bc44-174">In this case, the initial load package developer can sample the source database current LSN before and after the initial load.</span></span> <span data-ttu-id="4bc44-175">然後，在處理變更時，應該小心處理以平行方式對初始載入所做的變更，因為某些處理的變更已經顯示在初始載入中 (例如，插入變更可能失敗並發生重複索引鍵錯誤，因為插入的資料列已由初始載入程序讀取)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-175">Then, when processing changes, care should be taken when processing changes made in parallel to the initial load as some of the processed changes are already seen in the initial load (for example, an Insert change may fail with a duplicate key error because the inserted row was read by the initial load process).</span></span>  
  
 <span data-ttu-id="4bc44-176">下圖顯示可處理前兩種案例的 SSIS 封裝：</span><span class="sxs-lookup"><span data-stu-id="4bc44-176">The following figure shows an SSIS package that could handle the first two scenarios:</span></span>  
  
 <span data-ttu-id="4bc44-177">![SSIS 套件處理前兩個案例](../media/scenarioonetwo.gif "SSIS 套件處理前兩個案例")</span><span class="sxs-lookup"><span data-stu-id="4bc44-177">![SSIS package handling first two scenarios](../media/scenarioonetwo.gif "SSIS package handling first two scenarios")</span></span>  
  
 <span data-ttu-id="4bc44-178">下圖顯示可處理第三種案例的 SSIS 封裝：</span><span class="sxs-lookup"><span data-stu-id="4bc44-178">The following figure shows an SSIS package that could handle the third scenario:</span></span>  
  
 <span data-ttu-id="4bc44-179">![SSIS 套件處理第三個案例](../media/scenario3.gif "SSIS 套件處理第三個案例")</span><span class="sxs-lookup"><span data-stu-id="4bc44-179">![SSIS package handling third scenario](../media/scenario3.gif "SSIS package handling third scenario")</span></span>  
  
 <span data-ttu-id="4bc44-180">初始載入封裝之後，Trickle 摘要更新封裝會根據處理變更的排程重複執行，因為它們變成可供取用。</span><span class="sxs-lookup"><span data-stu-id="4bc44-180">Following the initial load package, a trickle-feed update package is run repeatedly according to a schedule to process changes as they become available for consumption.</span></span>  
  
 <span data-ttu-id="4bc44-181">將 CDC 處理的狀態從初始載入封裝傳遞至 Trickle 摘要封裝以及在每個封裝內不同工作之間傳遞的作業是經由特殊的 SSIS 封裝字串變數進行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-181">Passing the state of the CDC processing from the initial load package to the trickle feed package and between different tasks within each package occurs by means of a special SSIS package string variable.</span></span> <span data-ttu-id="4bc44-182">此變數的值稱為 CDC 狀態，它會針對初始載入和 Trickle 摘要封裝所處理的資料表群組反映 CDC 處理的目前狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-182">The value of this variable is referred to as the CDC State, which reflects the current state of CDC processing for the groups of tables being handled by the initial load and trickle-feed packages.</span></span>  
  
 <span data-ttu-id="4bc44-183">CDC 狀態變數的值必須在持續性儲存體中維護、應該在啟動 CDC 處理之前讀取，而且應該在處理完成之後，與目前狀態一起儲存。</span><span class="sxs-lookup"><span data-stu-id="4bc44-183">The value of the CDC State variable needs to be maintained in a persistent storage, it should be read before starting CDC processing and should be saved with the current state after processing completed.</span></span> <span data-ttu-id="4bc44-184">雖然 SSIS 開發人員可以處理 CDC 狀態的載入和儲存工作，不過 CDC 控制元件可以在資料庫資料表中維護 CDC 狀態值，藉以自動化這項工作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-184">The task of loading and storing of the CDC state can be handled by the SSIS developer but the CDC Control component can automate this task by maintaining the CDC State value in a database table.</span></span>  
  
## <a name="security-considerations"></a><span data-ttu-id="4bc44-185">安全性考量</span><span class="sxs-lookup"><span data-stu-id="4bc44-185">Security Considerations</span></span>  
 <span data-ttu-id="4bc44-186">本節列出一些在 SSIS 中使用 CDC 元件的相關安全性考量。</span><span class="sxs-lookup"><span data-stu-id="4bc44-186">This section lists some security considerations related to the use of the CDC components in SSIS.</span></span>  
  
### <a name="access-authorization-to-change-data"></a><span data-ttu-id="4bc44-187">變更資料的存取授權</span><span class="sxs-lookup"><span data-stu-id="4bc44-187">Access Authorization to Change Data</span></span>  
 <span data-ttu-id="4bc44-188">Trickle 摘要更新封裝需要 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 功能的存取權。</span><span class="sxs-lookup"><span data-stu-id="4bc44-188">Trickle-feed update packages need access to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC functions.</span></span> <span data-ttu-id="4bc44-189">根據預設，這類存取權會授與 **db_owner** 固定資料庫角色的成員。</span><span class="sxs-lookup"><span data-stu-id="4bc44-189">Such access is granted, by default, to members of the **db_owner** fixed database role.</span></span> <span data-ttu-id="4bc44-190">因為 **db_owner** 是功能強大的角色，所以在 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 中定義擷取執行個體時，建議您將控制安全性角色與每個擷取執行個體產生關聯，讓 SSIS CDC 封裝使用更受限制的使用者來處理變更。</span><span class="sxs-lookup"><span data-stu-id="4bc44-190">Because the **db_owner** is a powerful role, when defining capture instances within [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] it is recommended to associate a gating security role to each capture instance that allows the SSIS CDC package to use a much more restricted user for processing the changes.</span></span>  
  
### <a name="access-to-cdc-database-current-lsn"></a><span data-ttu-id="4bc44-191">CDC 資料庫目前 LSN 的存取權</span><span class="sxs-lookup"><span data-stu-id="4bc44-191">Access to CDC Database Current LSN</span></span>  
 <span data-ttu-id="4bc44-192">針對變更處理標記啟始 LSN 的 CDC 控制工作作業必須能夠尋找 CDC 資料庫目前 LSN。</span><span class="sxs-lookup"><span data-stu-id="4bc44-192">The CDC Control task operations for marking the start LSN for change processing must be able to find the CDC Database current LSN.</span></span> <span data-ttu-id="4bc44-193">這項作業是使用 master 資料庫的 **sp_replincrementlsn** 程序來完成。</span><span class="sxs-lookup"><span data-stu-id="4bc44-193">This is done using the procedure **sp_replincrementlsn** from the master database.</span></span> <span data-ttu-id="4bc44-194">您必須將此程序的執行權限提供給用於連接至 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 資料庫的登入。</span><span class="sxs-lookup"><span data-stu-id="4bc44-194">Execute permission on this procedure must be given to the login used for connecting to the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC database.</span></span>  
  
### <a name="access-to-cdc-states-table"></a><span data-ttu-id="4bc44-195">CDC 狀態資料表的存取權</span><span class="sxs-lookup"><span data-stu-id="4bc44-195">Access to CDC States Table</span></span>  
 <span data-ttu-id="4bc44-196">CDC 狀態資料表是用於自動保存 CDC 狀態，而用於連接至 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 資料庫的登入必須能夠更新這些狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-196">The CDC States table is used for automatically persisting CDC States that need to be updatable by the login used for connecting to the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC database.</span></span> <span data-ttu-id="4bc44-197">因為這個資料表是由 SSIS 開發人員所建立，所以請將 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 系統管理員設定為獲授權可建立 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 資料庫並執行管理和維護工作的使用者。</span><span class="sxs-lookup"><span data-stu-id="4bc44-197">As this table is created by the SSIS developer, set the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] system administrator as a user who is authorized to create [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] databases and perform administrative and maintenance tasks.</span></span> <span data-ttu-id="4bc44-198">此外，使用啟用 CDC 之資料庫的 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 系統管理員必須充分了解 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC 技術和實作。</span><span class="sxs-lookup"><span data-stu-id="4bc44-198">In addition, a [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] system administrator who works with CDC enabled databases must be knowledgeable about [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] CDC technology and implementation.</span></span>  
  
## <a name="grouping-tables-for-cdc-processing"></a><span data-ttu-id="4bc44-199">將資料表分組以進行 CDC 處理</span><span class="sxs-lookup"><span data-stu-id="4bc44-199">Grouping Tables for CDC Processing</span></span>  
 <span data-ttu-id="4bc44-200">資料庫專案大小的範圍從許多資料表到數千個資料表不等。</span><span class="sxs-lookup"><span data-stu-id="4bc44-200">Database projects range in size from several tables to many thousands of tables.</span></span> <span data-ttu-id="4bc44-201">設計初始載入和 CDC 封裝時，建議您將資料表分組成較小的群組以方便管理並提高效率。</span><span class="sxs-lookup"><span data-stu-id="4bc44-201">When designing initial load and CDC packages, it is beneficial to group tables in much smaller groups for easier management and efficiency.</span></span> <span data-ttu-id="4bc44-202">本節列出將資料表排序成小型群組時可能會影響的各種考量 (一開始載入每個群組中的資料表，然後再當做群組來更新)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-202">This section lists various considerations that impact the sorting of tables into small groups, where the tables in each are initially loaded and then updated as a group.</span></span>  
  
 <span data-ttu-id="4bc44-203">CDC 元件所支援的 CDC 模式會假設已經決定此群組。</span><span class="sxs-lookup"><span data-stu-id="4bc44-203">The CDC patterns supported by the CDC components assume that this grouping is already determined.</span></span> <span data-ttu-id="4bc44-204">每個群組都會定義不同的 CDC 內容，並且與其他群組分開維護內容。</span><span class="sxs-lookup"><span data-stu-id="4bc44-204">Each group defines a separate CDC context that is maintained separately from other groups.</span></span> <span data-ttu-id="4bc44-205">每個群組都會建立初始載入和 Trickle 摘要更新封裝。</span><span class="sxs-lookup"><span data-stu-id="4bc44-205">For each group, initial-load and a trickle-feed update packages are created.</span></span> <span data-ttu-id="4bc44-206">Trickle 摘要更新是根據變更處理條件約束的比率 (例如 CPU 和 IO 耗用量，對其他系統的影響) 以及所需的延遲，排程為定期執行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-206">Trickle-feed updates are scheduled for periodic runs based on the rate of change processing constraints (for example, CPU and IO consumption, impact on other systems) and the desired latency.</span></span>  
  
 <span data-ttu-id="4bc44-207">資料表是根據下列考量進行分組：</span><span class="sxs-lookup"><span data-stu-id="4bc44-207">Tables are grouped based on the following considerations:</span></span>  
  
1.  <span data-ttu-id="4bc44-208">根據目標資料庫。</span><span class="sxs-lookup"><span data-stu-id="4bc44-208">According to the target database.</span></span> <span data-ttu-id="4bc44-209">寫入不同目標資料庫或進行不同處理的所有資料表都應該指派給不同的 CDC 群組。</span><span class="sxs-lookup"><span data-stu-id="4bc44-209">All tables that are written to different target databases or undergo different processing should be assigned to different CDC groups.</span></span>  
  
2.  <span data-ttu-id="4bc44-210">與參考完整性條件約束相關的資料表應該指派給相同的群組，避免目標發生參考完整性問題。</span><span class="sxs-lookup"><span data-stu-id="4bc44-210">Tables that are related with referential integrity constraints should be assigned to the same group to avoid referential integrity problems at the target.</span></span>  
  
3.  <span data-ttu-id="4bc44-211">可容許較高延遲的資料表可以組成群組，以便降低處理這些資料表的頻率並且減少整體系統負載。</span><span class="sxs-lookup"><span data-stu-id="4bc44-211">Tables for which higher latency can be tolerated can be grouped so they can be processed less frequently and reduce overall system load.</span></span>  
  
4.  <span data-ttu-id="4bc44-212">變動率較高的資料表應該位於較小的群組中，而變動率較低的資料表則可組成較大的群組。</span><span class="sxs-lookup"><span data-stu-id="4bc44-212">Tables for which there is a higher rate of change should be in smaller groups, and tables with a low rate of change can be grouped in larger groups.</span></span>  
  
 <span data-ttu-id="4bc44-213">下列兩種封裝是針對每個 CDC 群組建立的：</span><span class="sxs-lookup"><span data-stu-id="4bc44-213">The following two packages are created for each CDC group:</span></span>  
  
-   <span data-ttu-id="4bc44-214">初始載入封裝，它會從來源資料表讀取完整的資料範圍並且套用至目標資料表。</span><span class="sxs-lookup"><span data-stu-id="4bc44-214">An Initial Load package, which reads the entire range of data from the source tables and applies it to the target tables.</span></span>  
  
-   <span data-ttu-id="4bc44-215">Trickle 摘要更新封裝，它會讀取對來源資料表所做的變更並且將變更套用至目標資料表。</span><span class="sxs-lookup"><span data-stu-id="4bc44-215">A trickle-feed update package that reads changes made to the source tables and applies the changes to the target tables.</span></span> <span data-ttu-id="4bc44-216">這個封裝應該定期執行。</span><span class="sxs-lookup"><span data-stu-id="4bc44-216">This package should be executed on a regularly scheduled basis.</span></span>  
  
## <a name="cdc-state"></a><span data-ttu-id="4bc44-217">CDC 狀態</span><span class="sxs-lookup"><span data-stu-id="4bc44-217">CDC State</span></span>  
 <span data-ttu-id="4bc44-218">每個 CDC 群組都具有相關聯的狀態，由特定格式的字串表示。</span><span class="sxs-lookup"><span data-stu-id="4bc44-218">Each CDC group has a state associated with it, which is represented by a string with a specific format.</span></span> <span data-ttu-id="4bc44-219">如需詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-219">For more information, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span> <span data-ttu-id="4bc44-220">下表顯示可能的 CDC 狀態值。</span><span class="sxs-lookup"><span data-stu-id="4bc44-220">The following table shows the possible CDC state values.</span></span>  
  
|<span data-ttu-id="4bc44-221">State</span><span class="sxs-lookup"><span data-stu-id="4bc44-221">State</span></span>|<span data-ttu-id="4bc44-222">描述</span><span class="sxs-lookup"><span data-stu-id="4bc44-222">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="4bc44-223">0-(INITIAL)</span><span class="sxs-lookup"><span data-stu-id="4bc44-223">0-(INITIAL)</span></span>|<span data-ttu-id="4bc44-224">在目前 CDC 群組上執行任何封裝之前就存在的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-224">The state that exists before any packages are run on the current CDC group.</span></span> <span data-ttu-id="4bc44-225">這也是 CDC 狀態為空白時呈現的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-225">This is also the state when the CDC state is empty.</span></span><br /><br /> <span data-ttu-id="4bc44-226">如需 CDC 控制工作作業的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-226">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="4bc44-227">1-ILSTART (初始載入開始)</span><span class="sxs-lookup"><span data-stu-id="4bc44-227">1-ILSTART (Initial-Load-Started)</span></span>|<span data-ttu-id="4bc44-228">這是初始載入封裝啟動時存在的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-228">This is the state that exists when the initial load package starts.</span></span> <span data-ttu-id="4bc44-229">這個狀態會在 CDC 控制工作的 **MarkInitialLoadStart** 作業呼叫之後出現。</span><span class="sxs-lookup"><span data-stu-id="4bc44-229">This occurs after the **MarkInitialLoadStart** operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="4bc44-230">如需 CDC 控制工作作業的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-230">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="4bc44-231">2-ILEND (初始載入結束)</span><span class="sxs-lookup"><span data-stu-id="4bc44-231">2- ILEND (Initial-Load-Ended)</span></span>|<span data-ttu-id="4bc44-232">這是初始載入封裝順利結束時存在的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-232">This is the state that exists when the initial load package ends successfully.</span></span> <span data-ttu-id="4bc44-233">這個狀態會在 CDC 控制工作的 MarkInitialLoadEnd 作業呼叫之後出現。</span><span class="sxs-lookup"><span data-stu-id="4bc44-233">This occurs after the MarkInitialLoadEnd operation call to the CDC Control task.</span></span><br /><br /> <span data-ttu-id="4bc44-234">如需 CDC 控制工作作業的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-234">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="4bc44-235">3-ILUPDATE (初始載入更新)</span><span class="sxs-lookup"><span data-stu-id="4bc44-235">3-ILUPDATE (Initial Load Update)</span></span>|<span data-ttu-id="4bc44-236">這是在初始載入之後仍在處理初始處理範圍時第一次執行更新封裝之後存在的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-236">This is the state that exists after the first run of the Update package after the initial load while still processing the initial processing range.</span></span> <span data-ttu-id="4bc44-237">這個狀態會在 CDC 控制工作的 **GetProcessingRange** 作業呼叫之後出現。</span><span class="sxs-lookup"><span data-stu-id="4bc44-237">This occurs after the **GetProcessingRange** operation call to the CDC control task.</span></span><br /><br /> <span data-ttu-id="4bc44-238">如果正在使用 **_$reprocessing** 資料行，它就會設定為 1，表示封裝可能要重新處理已經位於目標上的資料列。</span><span class="sxs-lookup"><span data-stu-id="4bc44-238">If using the **_$reprocessing** column, it is set to 1 to indicate that the package may be reprocessing rows already at the target.</span></span><br /><br /> <span data-ttu-id="4bc44-239">如需 CDC 控制工作作業的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-239">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="4bc44-240">4-TFEND (Trickle 摘要更新結束)</span><span class="sxs-lookup"><span data-stu-id="4bc44-240">4-TFEND (Trickle-Feed-Update-Ended)</span></span>|<span data-ttu-id="4bc44-241">這是一般 CDC 回合所預期的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-241">This is the state expected for regular CDC runs.</span></span> <span data-ttu-id="4bc44-242">這種狀態表示上一個回合已順利完成，而且可以啟動具有新處理範圍的新回合。</span><span class="sxs-lookup"><span data-stu-id="4bc44-242">It indicates that the previous run completed successfully and that a new run with a new processing range can be started.</span></span>|  
|<span data-ttu-id="4bc44-243">5-TFSTART (Trickle 摘要更新開始)</span><span class="sxs-lookup"><span data-stu-id="4bc44-243">5-TFSTART (Trickle-Feed-Update-Started)</span></span>|<span data-ttu-id="4bc44-244">這是在 CDC 控制工作的 **GetProcessingRange** 作業呼叫之後，後續執行更新封裝時存在的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-244">This is the state that exists on subsequent runs of the Update package after the **GetProcessingRange** operation call to the CDC control task.</span></span><br /><br /> <span data-ttu-id="4bc44-245">這種狀態表示一般 CDC 回合已啟動，但是沒有完成或者尚未全部完成 (**MarkProcessedRange**)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-245">This indicates that a regular CDC run is started, but is not finished or has not yet finished, cleanly (**MarkProcessedRange**).</span></span><br /><br /> <span data-ttu-id="4bc44-246">如需 CDC 控制工作作業的詳細資訊，請參閱 [CDC 控制工作](../control-flow/cdc-control-task.md)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-246">For more information about CDC Control task operations, see [CDC Control Task](../control-flow/cdc-control-task.md).</span></span>|  
|<span data-ttu-id="4bc44-247">6-TFREDO (重新處理 Trickle 摘要更新)</span><span class="sxs-lookup"><span data-stu-id="4bc44-247">6-TFREDO (Reprocessing-Trickle-Feed-Updates)</span></span>|<span data-ttu-id="4bc44-248">這是在 TFSTART 之後發生 **GetProcessingRange** 時的狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-248">This is the state on a **GetProcessingRange** that occurs after TFSTART.</span></span> <span data-ttu-id="4bc44-249">這種狀態表示上一個回合並未順利完成。</span><span class="sxs-lookup"><span data-stu-id="4bc44-249">This indicates that the previous run did not complete successfully.</span></span><br /><br /> <span data-ttu-id="4bc44-250">如果正在使用 __$reprocessing 資料行，它就會設定為 1，表示封裝可能要重新處理已經位於目標上的資料列。</span><span class="sxs-lookup"><span data-stu-id="4bc44-250">If using the __$reprocessing column, it is set to 1 to indicate that the package may be reprocessing rows already at the target.</span></span>|  
|<span data-ttu-id="4bc44-251">7-ERROR</span><span class="sxs-lookup"><span data-stu-id="4bc44-251">7-ERROR</span></span>|<span data-ttu-id="4bc44-252">CDC 群組處於 ERROR 狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-252">The CDC group is in an ERROR state.</span></span>|  
  
 <span data-ttu-id="4bc44-253">下面是 CDC 元件的狀態圖表。</span><span class="sxs-lookup"><span data-stu-id="4bc44-253">The following is the state diagram for the CDC components.</span></span> <span data-ttu-id="4bc44-254">達到非預期的狀態時，就會達到 ERROR 狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-254">An ERROR state is reached when a state is reached that is not expected.</span></span> <span data-ttu-id="4bc44-255">預期的狀態如下圖所示，但是此圖表不會顯示 ERROR 狀態。</span><span class="sxs-lookup"><span data-stu-id="4bc44-255">The expected states are illustrated in the diagram below, however the diagram does not show the ERROR state.</span></span>  
  
 <span data-ttu-id="4bc44-256">例如，在初始載入封裝的結尾，嘗試將狀態設定為 ILEND 時，如果狀態為 TFSTART，則 CDC 群組就會處於錯誤狀態，而且 Trickle 摘要更新封裝不會執行 (初始載入封裝會執行)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-256">For example, at the end of an initial load package, when trying to set the state to ILEND, if the state is TFSTART then the CDC group is in an error state and the Trickle-Feed Update package does not run (the Initial Load package does run).</span></span>  
  
 <span data-ttu-id="4bc44-257">![狀態圖表](../media/statediagram.gif "狀態圖表")</span><span class="sxs-lookup"><span data-stu-id="4bc44-257">![State Diagram](../media/statediagram.gif "State Diagram")</span></span>  
  
 <span data-ttu-id="4bc44-258">一旦初始載入封裝順利執行之後，Trickle 摘要更新封裝就會依照預先決定的排程重複執行，以便處理來源資料表的變更。</span><span class="sxs-lookup"><span data-stu-id="4bc44-258">Once the Initial Load package runs successfully, the Trickle-Feed Update package runs repeatedly under a predetermined schedule to process changes to the source tables.</span></span> <span data-ttu-id="4bc44-259">Trickle 摘要更新封裝的每個回合都是 CDC 回合。</span><span class="sxs-lookup"><span data-stu-id="4bc44-259">Each run of the Trickle-Feed Update package is a CDC run.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="4bc44-260">本節內容</span><span class="sxs-lookup"><span data-stu-id="4bc44-260">In This Section</span></span>  
  
-   [<span data-ttu-id="4bc44-261">CDC 來源</span><span class="sxs-lookup"><span data-stu-id="4bc44-261">CDC Source</span></span>](cdc-source.md)  
  
-   [<span data-ttu-id="4bc44-262">CDC 分隔器</span><span class="sxs-lookup"><span data-stu-id="4bc44-262">CDC Splitter</span></span>](cdc-splitter.md)  
  
## <a name="related-tasks"></a><span data-ttu-id="4bc44-263">相關工作</span><span class="sxs-lookup"><span data-stu-id="4bc44-263">Related Tasks</span></span>  
  
-   [<span data-ttu-id="4bc44-264">依據變更類型來導向 CDC 資料流</span><span class="sxs-lookup"><span data-stu-id="4bc44-264">Direct the CDC Stream According to the Type of Change</span></span>](direct-the-cdc-stream-according-to-the-type-of-change.md)  
  
-   [<span data-ttu-id="4bc44-265">定義狀態變數</span><span class="sxs-lookup"><span data-stu-id="4bc44-265">Define a State Variable</span></span>](define-a-state-variable.md)  
  
## <a name="related-content"></a><span data-ttu-id="4bc44-266">相關內容</span><span class="sxs-lookup"><span data-stu-id="4bc44-266">Related Content</span></span>  
  
-   <span data-ttu-id="4bc44-267">mattmasson.com 上的部落格文章： [CDC in SSIS for SQL Server 2012](https://www.mattmasson.com/2011/12/cdc-in-ssis-for-sql-server-2012-2/)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-267">Blog entry, [CDC in SSIS for SQL Server 2012](https://www.mattmasson.com/2011/12/cdc-in-ssis-for-sql-server-2012-2/), on mattmasson.com.</span></span>  
  
-   <span data-ttu-id="4bc44-268">blogs.msdn.com 上有關設定 CDC 服務的部落格文章： [CDC for Oracle in SQL Server 2012](https://go.microsoft.com/fwlink/?LinkId=247827)SQL Server 2012 中的 Oracle CDC)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-268">Blog entry on setting up the CDC service, [CDC for Oracle in SQL Server 2012](https://go.microsoft.com/fwlink/?LinkId=247827), on blogs.msdn.com.</span></span>  
  
-   <span data-ttu-id="4bc44-269">social.technet.microsoft.com 上的技術文章： [安裝 Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252958)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-269">Technical article, [Installing Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252958), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="4bc44-270">social.technet.microsoft.com 上的技術文章： [疑難排解 Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity 中的組態問題](https://go.microsoft.com/fwlink/?LinkId=252960)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-270">Technical article, [Troubleshoot Configuration Issues in Microsoft Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252960), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="4bc44-271">social.technet.microsoft.com 上的技術文章： [疑難排解 Microsoft SQL Server 2012 Change Data Capture for Oracle by Attunity 中的 CDC 執行個體錯誤](https://go.microsoft.com/fwlink/?LinkId=252961)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-271">Technical article, [Troubleshoot CDC Instance Errors in Microsoft Change Data Capture for Oracle by Attunity](https://go.microsoft.com/fwlink/?LinkId=252961), on social.technet.microsoft.com.</span></span>  
  
-   <span data-ttu-id="4bc44-272">technet.microsoft.com 上的影片： [CDC for Oracle Databases using SQL Server Integration Services 2012](https://technet.microsoft.com/sqlserver/jj218898)(使用 SQL Server Integration Services 2012 的 Oracle CDC 資料庫) (SQL Server 影片)。</span><span class="sxs-lookup"><span data-stu-id="4bc44-272">Video, [CDC for Oracle Databases using SQL Server Integration Services 2012 (SQL Server Video)](https://technet.microsoft.com/sqlserver/jj218898), on technet.microsoft.com.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4bc44-273">另請參閱</span><span class="sxs-lookup"><span data-stu-id="4bc44-273">See Also</span></span>  
 [<span data-ttu-id="4bc44-274">CDC 控制工作</span><span class="sxs-lookup"><span data-stu-id="4bc44-274">CDC Control Task</span></span>](../control-flow/cdc-control-task.md)  
  
  
