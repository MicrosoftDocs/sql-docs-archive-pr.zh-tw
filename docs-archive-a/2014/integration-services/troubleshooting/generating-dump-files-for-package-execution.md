---
title: 產生套件執行的傾印檔案 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 61ef1731-cb3a-4afb-b4a4-059b04aeade0
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 61e511aaff6c3c77338211537a685f8a1dc82981
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584629"
---
# <a name="generating-dump-files-for-package-execution"></a><span data-ttu-id="ab85e-102">產生封裝執行的傾印檔案</span><span class="sxs-lookup"><span data-stu-id="ab85e-102">Generating Dump Files for Package Execution</span></span>
  <span data-ttu-id="ab85e-103">在 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]中，您可以建立偵錯傾印檔案，以便提供封裝執行的資訊。</span><span class="sxs-lookup"><span data-stu-id="ab85e-103">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], you can create debug dump files that provide information about the execution of a package.</span></span> <span data-ttu-id="ab85e-104">這些檔案中的資訊可協助您疑難排解封裝執行問題。</span><span class="sxs-lookup"><span data-stu-id="ab85e-104">The information in these files can help you in troubleshooting package execution issues.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ab85e-105">偵錯傾印檔案可能會包含敏感性資訊。</span><span class="sxs-lookup"><span data-stu-id="ab85e-105">Debug dump files might contain sensitive information.</span></span> <span data-ttu-id="ab85e-106">若要保護敏感性資訊，您可以使用存取控制清單 (ACL) 來限制這些檔案的存取權，或將這些檔案複製到具有存取限制的資料夾。</span><span class="sxs-lookup"><span data-stu-id="ab85e-106">To help protect sensitive information, you can use an access control list (ACL) to restrict access to the files, or copy the files to a folder that has restricted access.</span></span> <span data-ttu-id="ab85e-107">例如，將偵錯檔案傳送給 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 支援服務之前，我們建議您移除任何敏感性或機密資訊。</span><span class="sxs-lookup"><span data-stu-id="ab85e-107">For example, before you send your debug files to [!INCLUDE[msCoName](../../includes/msconame-md.md)] support services, we recommend that you remove any sensitive or confidential information.</span></span>  
  
 <span data-ttu-id="ab85e-108">當您將某個專案部署至 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 伺服器時，可以建立傾印檔案，這些檔案會提供有關專案中包含之封裝執行的資訊。</span><span class="sxs-lookup"><span data-stu-id="ab85e-108">When you deploy a project to the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] server, you can create dump files that provide information about the execution of the packages contained in the project.</span></span> <span data-ttu-id="ab85e-109">當 ISServerExec.exe 程序結束時，會建立傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-109">When the ISServerExec.exe process ends, the dump files are created.</span></span> <span data-ttu-id="ab85e-110">您可以指定在封裝執行期間發生錯誤時建立傾印檔案，方法是選取 [執行封裝] 對話方塊中的 [在發生錯誤時傾印] 選項。</span><span class="sxs-lookup"><span data-stu-id="ab85e-110">You can specify that a dump file is created when errors occur during the package execution, by selecting the **Dump on errors** option in the **Execute Package** Dialog box.</span></span> <span data-ttu-id="ab85e-111">您也可以使用下列預存程序：</span><span class="sxs-lookup"><span data-stu-id="ab85e-111">You can also use the following stored procedures:</span></span>  
  
-   [<span data-ttu-id="ab85e-112">catalog.set_execution_parameter_value &#40;SSISDB 資料庫&#41;</span><span class="sxs-lookup"><span data-stu-id="ab85e-112">catalog.set_execution_parameter_value &#40;SSISDB Database&#41;</span></span>](/sql/integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database)  
  
     <span data-ttu-id="ab85e-113">呼叫此預存程序以設定發生任何錯誤或事件時，以及在封裝執行期間發生特定事件時，建立傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-113">Call this stored procedure to configure a dump file to be created when any error or event occurs, and when specific events occur, during a package execution.</span></span>  
  
-   [<span data-ttu-id="ab85e-114">catalog.create_execution_dump</span><span class="sxs-lookup"><span data-stu-id="ab85e-114">catalog.create_execution_dump</span></span>](/sql/integration-services/system-stored-procedures/catalog-create-execution-dump)  
  
     <span data-ttu-id="ab85e-115">呼叫此預存程序，使執行中的封裝暫停並建立傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-115">Call this stored procedure to cause a running package to pause and create a dump file.</span></span>  
  
 <span data-ttu-id="ab85e-116">如果您要使用封裝部署模型部署封裝，請使用 **dtexec** 公用程式或 **dtutil** 公用程式，在命令列指定偵錯傾印選項以建立偵錯傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-116">If you are deploying packages using the package deployment model, you create the debug dump files by using either the **dtexec** utility or the **dtutil** utility to specify a debug dump option in the command line.</span></span> <span data-ttu-id="ab85e-117">如需詳細資訊，請參閱 [dtexec 公用程式](../packages/dtexec-utility.md) 和 [dtutil 公用程式](../dtutil-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="ab85e-117">For more information, see [dtexec Utility](../packages/dtexec-utility.md) and [dtutil Utility](../dtutil-utility.md).</span></span> <span data-ttu-id="ab85e-118">如需封裝部署模型的詳細資訊，請參閱[部署專案和套件](../packages/deploy-integration-services-ssis-projects-and-packages.md)和[封裝部署 &#40;SSIS&#41;](../packages/legacy-package-deployment-ssis.md)。</span><span class="sxs-lookup"><span data-stu-id="ab85e-118">For more information about the package deployment model, see [Deployment of Projects and Packages](../packages/deploy-integration-services-ssis-projects-and-packages.md) and [Package Deployment &#40;SSIS&#41;](../packages/legacy-package-deployment-ssis.md).</span></span>  
  
## <a name="debug-dump-file-format"></a><span data-ttu-id="ab85e-119">偵錯傾印檔案格式</span><span class="sxs-lookup"><span data-stu-id="ab85e-119">Debug Dump File Format</span></span>  
 <span data-ttu-id="ab85e-120">當您指定偵錯傾印選項時， [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 就會建立下列偵錯傾印檔案：</span><span class="sxs-lookup"><span data-stu-id="ab85e-120">When you specify a debug dump option, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] creates the following debug dump files:</span></span>  
  
-   <span data-ttu-id="ab85e-121">.mdmp 偵錯傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-121">A .mdmp debug dump file.</span></span> <span data-ttu-id="ab85e-122">這是二進位檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-122">This is a binary file.</span></span>  
  
-   <span data-ttu-id="ab85e-123">.tmp 偵錯傾印檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-123">The .tmp debug dump file.</span></span> <span data-ttu-id="ab85e-124">這是文字格式的檔案。</span><span class="sxs-lookup"><span data-stu-id="ab85e-124">This is a text formatted file.</span></span>  
  
 <span data-ttu-id="ab85e-125">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 預設會將這些檔案儲存在 *\<drive>:* \Program Files\Microsoft SQL Server\110\Shared\ErrorDumps 資料夾中。</span><span class="sxs-lookup"><span data-stu-id="ab85e-125">By default, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] stores these files in the folder, *\<drive>:* \Program Files\Microsoft SQL Server\110\Shared\ErrorDumps.</span></span>  
  
 <span data-ttu-id="ab85e-126">下表僅描述 .tmp 檔案中的特定區段。</span><span class="sxs-lookup"><span data-stu-id="ab85e-126">The following table describes only certain sections in the .tmp file.</span></span> <span data-ttu-id="ab85e-127">.tmp 檔案還包含此表未列出的其他資料。</span><span class="sxs-lookup"><span data-stu-id="ab85e-127">The .tmp file includes additional data that is not listed in the table.</span></span>  
  
|<span data-ttu-id="ab85e-128">資訊類型</span><span class="sxs-lookup"><span data-stu-id="ab85e-128">Type of information</span></span>|<span data-ttu-id="ab85e-129">描述</span><span class="sxs-lookup"><span data-stu-id="ab85e-129">Description</span></span>|<span data-ttu-id="ab85e-130">範例</span><span class="sxs-lookup"><span data-stu-id="ab85e-130">Example</span></span>|  
|-------------------------|-----------------|-------------|  
|<span data-ttu-id="ab85e-131">環境</span><span class="sxs-lookup"><span data-stu-id="ab85e-131">Environment</span></span>|<span data-ttu-id="ab85e-132">作業系統版本、記憶體使用量資料、處理序識別碼及處理序影像名稱。</span><span class="sxs-lookup"><span data-stu-id="ab85e-132">Operating system version, memory usage data, process ID, and process image name.</span></span> <span data-ttu-id="ab85e-133">環境資訊位於 .tmp 檔案的開頭。</span><span class="sxs-lookup"><span data-stu-id="ab85e-133">The environment information is at the beginning of the .tmp file.</span></span>|<span data-ttu-id="ab85e-134"># SSIS Textual Dump taken at 9/13/2007 1:50:34 PM</span><span class="sxs-lookup"><span data-stu-id="ab85e-134"># SSIS Textual Dump taken at 9/13/2007 1:50:34 PM</span></span><br /><br /> <span data-ttu-id="ab85e-135">#PID 4120</span><span class="sxs-lookup"><span data-stu-id="ab85e-135">#PID 4120</span></span><br /><br /> <span data-ttu-id="ab85e-136">#Image Name [C:\Program Files\Microsoft SQL Server\110\DTS\Binn\DTExec.exe]</span><span class="sxs-lookup"><span data-stu-id="ab85e-136">#Image Name [C:\Program Files\Microsoft SQL Server\110\DTS\Binn\DTExec.exe]</span></span><br /><br /> <span data-ttu-id="ab85e-137"># OS major=6 minor=0 build=6000</span><span class="sxs-lookup"><span data-stu-id="ab85e-137"># OS major=6 minor=0 build=6000</span></span><br /><br /> <span data-ttu-id="ab85e-138"># Running on 2 amd64 processors under WOW64</span><span class="sxs-lookup"><span data-stu-id="ab85e-138"># Running on 2 amd64 processors under WOW64</span></span><br /><br /> <span data-ttu-id="ab85e-139"># Memory:58% in use.</span><span class="sxs-lookup"><span data-stu-id="ab85e-139"># Memory: 58% in use.</span></span> <span data-ttu-id="ab85e-140">Physical:845M/2044M  Paging:2404M/4095M (avail/total)</span><span class="sxs-lookup"><span data-stu-id="ab85e-140">Physical: 845M/2044M  Paging: 2404M/4095M (avail/total)</span></span>|  
|<span data-ttu-id="ab85e-141">動態連結程式庫 (DLL) 路徑和版本</span><span class="sxs-lookup"><span data-stu-id="ab85e-141">Dynamic-link library (DLL) path and version</span></span>|<span data-ttu-id="ab85e-142">在處理封裝期間，系統載入之每個 DLL 的路徑和版本號碼。</span><span class="sxs-lookup"><span data-stu-id="ab85e-142">Path and version number of each DLL that the system loads during the processing of a package.</span></span>|<span data-ttu-id="ab85e-143"># Loaded Module: c:\bb\Sql\DTS\src\bin\debug\i386\DTExec.exe (10.0.1069.5)</span><span class="sxs-lookup"><span data-stu-id="ab85e-143"># Loaded Module: c:\bb\Sql\DTS\src\bin\debug\i386\DTExec.exe (10.0.1069.5)</span></span><br /><br /> <span data-ttu-id="ab85e-144"># Loaded Module:C:\Windows\SysWOW64\ntdll.dll (6.0.6000.16386)</span><span class="sxs-lookup"><span data-stu-id="ab85e-144"># Loaded Module: C:\Windows\SysWOW64\ntdll.dll (6.0.6000.16386)</span></span><br /><br /> <span data-ttu-id="ab85e-145"># Loaded Module:C:\Windows\syswow64\kernel32.dll (6.0.6000.16386)</span><span class="sxs-lookup"><span data-stu-id="ab85e-145"># Loaded Module: C:\Windows\syswow64\kernel32.dll (6.0.6000.16386)</span></span>|  
|<span data-ttu-id="ab85e-146">最近的訊息</span><span class="sxs-lookup"><span data-stu-id="ab85e-146">Recent messages</span></span>|<span data-ttu-id="ab85e-147">最近系統所發出的訊息。</span><span class="sxs-lookup"><span data-stu-id="ab85e-147">Recent messages issued by the system.</span></span> <span data-ttu-id="ab85e-148">包括每則訊息的時間、類型、描述和執行緒識別碼。</span><span class="sxs-lookup"><span data-stu-id="ab85e-148">Includes the time, type, description, and thread ID of each message.</span></span>|<span data-ttu-id="ab85e-149">[M:1]   Ring buffer entry:              (\*pRecord)</span><span class="sxs-lookup"><span data-stu-id="ab85e-149">[M:1]   Ring buffer entry:              (\*pRecord)</span></span><br /><br /> <span data-ttu-id="ab85e-150">[D:2]      <<\<CRingBufferLogging::RingBufferLoggingRecord>>> ( \@ 0282F1A8 )</span><span class="sxs-lookup"><span data-stu-id="ab85e-150">[D:2]      <<\<CRingBufferLogging::RingBufferLoggingRecord>>> ( \@ 0282F1A8 )</span></span><br /><br /> <span data-ttu-id="ab85e-151">[E:3]         Time Stamp:2007-09-13 13:50:32.786      (szTimeStamp)</span><span class="sxs-lookup"><span data-stu-id="ab85e-151">[E:3]         Time Stamp: 2007-09-13 13:50:32.786      (szTimeStamp)</span></span><br /><br /> <span data-ttu-id="ab85e-152">[E:3]         Thread ID:2368           (ThreadID)</span><span class="sxs-lookup"><span data-stu-id="ab85e-152">[E:3]         Thread ID: 2368           (ThreadID)</span></span><br /><br /> <span data-ttu-id="ab85e-153">[E:3]         Event Name:OnError                        (EventName)</span><span class="sxs-lookup"><span data-stu-id="ab85e-153">[E:3]         Event Name: OnError                        (EventName)</span></span><br /><br /> <span data-ttu-id="ab85e-154">[E:3]         Source Name:              (SourceName)</span><span class="sxs-lookup"><span data-stu-id="ab85e-154">[E:3]         Source Name:                (SourceName)</span></span><br /><br /> <span data-ttu-id="ab85e-155">[E:3]         Source ID:                      (SourceID)</span><span class="sxs-lookup"><span data-stu-id="ab85e-155">[E:3]         Source ID:                        (SourceID)</span></span><br /><br /> <span data-ttu-id="ab85e-156">[E:3]         Execution ID:               (ExecutionGUID)</span><span class="sxs-lookup"><span data-stu-id="ab85e-156">[E:3]         Execution ID:                 (ExecutionGUID)</span></span><br /><br /> <span data-ttu-id="ab85e-157">[E:3]         Data Code: -1073446879              (DataCode)</span><span class="sxs-lookup"><span data-stu-id="ab85e-157">[E:3]         Data Code: -1073446879              (DataCode)</span></span><br /><br /> <span data-ttu-id="ab85e-158">[E:3]         Description:元件遺漏、未註冊、無法升級或遺漏必要的介面。</span><span class="sxs-lookup"><span data-stu-id="ab85e-158">[E:3]         Description: The component is missing, not registered, not upgradeable, or missing required interfaces.</span></span> <span data-ttu-id="ab85e-159">這個元件的連絡資訊是 "__"。</span><span class="sxs-lookup"><span data-stu-id="ab85e-159">The contact information for this component is "".</span></span>|  
  
## <a name="related-content"></a><span data-ttu-id="ab85e-160">相關內容</span><span class="sxs-lookup"><span data-stu-id="ab85e-160">Related Content</span></span>  
 [<span data-ttu-id="ab85e-161">執行套件對話方塊</span><span class="sxs-lookup"><span data-stu-id="ab85e-161">Execute Package Dialog Box</span></span>](../execute-package-dialog-box.md)  
  
  
