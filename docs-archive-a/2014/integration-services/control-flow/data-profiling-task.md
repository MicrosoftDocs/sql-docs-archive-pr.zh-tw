---
title: 資料分析工作 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.dataprofilingtask.f1
helpviewer_keywords:
- Data Profiling task [Integration Services], about Data Profiling task
- data profiling
- profiling data
ms.assetid: 248ce233-4342-42c5-bf26-f4387ea152cf
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 6020e667f149417864a17ec9ef558e35fd870f6f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87592804"
---
# <a name="data-profiling-task"></a><span data-ttu-id="ef6f4-102">資料分析工作</span><span class="sxs-lookup"><span data-stu-id="ef6f4-102">Data Profiling Task</span></span>
  <span data-ttu-id="ef6f4-103">資料分析工作會計算各種設定檔，協助您熟悉資料來源並在資料中識別必須修復的問題。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-103">The Data Profiling task computes various profiles that help you become familiar with a data source and identify problems in the data that have to be fixed.</span></span>  
  
 <span data-ttu-id="ef6f4-104">您可以使用 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 封裝中的資料分析工作，分析儲存在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中的資料並識別資料品質的潛在問題。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-104">You can use the Data Profiling task inside an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package to profile data that is stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and to identify potential problems with data quality.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ef6f4-105">本主題只會描述資料分析工作的功能和需求。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-105">This topic only describes the features and requirements of the Data Profiling task.</span></span> <span data-ttu-id="ef6f4-106">如需如何使用資料分析工作的逐步解說，請參閱 [資料分析工作和檢視器](data-profiling-task-and-viewer.md)一節。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-106">For a walkthrough of how to use the Data Profiling task, see the section, [Data Profiling Task and Viewer](data-profiling-task-and-viewer.md).</span></span>  
  
## <a name="requirements-and-limitations"></a><span data-ttu-id="ef6f4-107">需求和限制</span><span class="sxs-lookup"><span data-stu-id="ef6f4-107">Requirements and Limitations</span></span>  
 <span data-ttu-id="ef6f4-108">資料分析工作僅用於儲存在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中的資料。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-108">The Data Profiling task works only with data that is stored in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="ef6f4-109">此工作不適用於協力廠商或以檔案為基礎的資料來源。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-109">This task does not work with third-party or file-based data sources.</span></span>  
  
 <span data-ttu-id="ef6f4-110">此外，若要執行包含資料分析工作的封裝，您所使用的帳戶必須具備 tempdb 資料庫的讀取/寫入權限，包括 CREATE TABLE 權限。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-110">Furthermore, to run a package that contains the Data Profiling task, you must use an account that has read/write permissions, including CREATE TABLE permissions, on the tempdb database.</span></span>  
  
## <a name="data-profiler-viewer"></a><span data-ttu-id="ef6f4-111">資料分析工具檢視器</span><span class="sxs-lookup"><span data-stu-id="ef6f4-111">Data Profiler Viewer</span></span>  
 <span data-ttu-id="ef6f4-112">使用工作來計算資料分析並將其儲存在檔案中後，您可以使用獨立的「資料設定檔檢視器」來檢閱設定檔輸出。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-112">After using the task to compute data profiles and save them in a file, you can use the stand-alone Data Profile Viewer to review the profile output.</span></span> <span data-ttu-id="ef6f4-113">「資料設定檔檢視器」也支援向下鑽研功能，協助您了解在設定檔輸出中識別的資料品質問題。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-113">The Data Profile Viewer also supports drilldown capability to help you understand data quality issues tha are identified in the profile output.</span></span> <span data-ttu-id="ef6f4-114">如需詳細資訊，請參閱 [資料設定檔檢視器](data-profile-viewer.md)。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-114">For more information, see [Data Profile Viewer](data-profile-viewer.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ef6f4-115">輸出檔可能包含您資料庫的相關敏感性資料，以及資料庫所包含的資料。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-115">The output file might contain sensitive data about your database and the data that the database contains.</span></span> <span data-ttu-id="ef6f4-116">如需如何讓這個檔案更安全的相關建議，請參閱 [對封裝使用之檔案的存取權](../access-to-files-used-by-packages.md)。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-116">For suggestions about how to make this file more secure, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
>   
>  <span data-ttu-id="ef6f4-117">資料設定檔檢視器所提供的向下鑽研功能會傳送即時查詢給原始資料來源。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-117">The drilldown capability, that is available in the Data Profile Viewer, sends live queries to the original data source.</span></span>  
  
## <a name="available-profiles"></a><span data-ttu-id="ef6f4-118">可用的設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-118">Available Profiles</span></span>  
 <span data-ttu-id="ef6f4-119">資料分析工作可以計算八種不同的資料設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-119">The Data Profiling Task can compute eight different data profiles.</span></span> <span data-ttu-id="ef6f4-120">其中五種設定檔會分析個別的資料行，而剩餘的三種則會分析多個資料行或資料行和資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-120">Five of these profiles analyze individual columns, and the remaining three analyze multiple columns or relationships between columns and tables.</span></span>  
  
 <span data-ttu-id="ef6f4-121">下列五個設定檔會分析個別的資料行。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-121">The following five profiles analyze individual columns.</span></span>  
  
|<span data-ttu-id="ef6f4-122">分析個別資料行的設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-122">Profiles that analyze individual columns</span></span>|<span data-ttu-id="ef6f4-123">描述</span><span class="sxs-lookup"><span data-stu-id="ef6f4-123">Description</span></span>|  
|----------------------------------------------|-----------------|  
|<span data-ttu-id="ef6f4-124">資料行長度散發設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-124">Column Length Distribution Profile</span></span>|<span data-ttu-id="ef6f4-125">報告選取之資料行中所有不同的字串值長度，以及該資料表中每個長度所代表之資料列的百分比。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-125">Reports all the distinct lengths of string values in the selected column and the percentage of rows in the table that each length represents.</span></span><br /><br /> <span data-ttu-id="ef6f4-126">這個設定檔可協助您識別資料中的問題，例如無效的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-126">This profile helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="ef6f4-127">例如，您分析了應該是兩個字元之美國州名代碼的資料行，並發現長度大於兩個字元的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-127">For example, you profile a column of United States state codes that should be two characters and discover values longer than two characters.</span></span>|  
|<span data-ttu-id="ef6f4-128">資料行 Null 比例設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-128">Column Null Ratio Profile</span></span>|<span data-ttu-id="ef6f4-129">報告選取之資料行中 Null 值的百分比。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-129">Reports the percentage of null values in the selected column.</span></span><br /><br /> <span data-ttu-id="ef6f4-130">這個設定檔可協助您識別資料中的問題，例如某個資料行中 Null 值的比例過高。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-130">This profile helps you identify problems in your data, such as an unexpectedly high ratio of null values in a column.</span></span> <span data-ttu-id="ef6f4-131">舉例來說，您分析了「郵遞區號」資料行並發現遺漏郵遞區號的百分比過高。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-131">For example, you profile a Zip Code/Postal Code column and discover an unacceptably high percentage of missing codes.</span></span>|  
|<span data-ttu-id="ef6f4-132">資料行模式設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-132">Column Pattern Profile</span></span>|<span data-ttu-id="ef6f4-133">報告一組規則運算式，其中涵蓋了字串資料行中值的指定百分比。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-133">Reports a set of regular expressions that cover the specified percentage of values in a string column.</span></span><br /><br /> <span data-ttu-id="ef6f4-134">這個設定檔可協助您識別資料中的問題，例如無效的字串。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-134">This profile helps you identify problems in your data, such as string that are not valid.</span></span> <span data-ttu-id="ef6f4-135">這個設定檔也可以建議未來可用於驗證新值的規則運算式。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-135">This profile can also suggest regular expressions that can be used in the future to validate new values.</span></span> <span data-ttu-id="ef6f4-136">舉例來說，「美國郵遞區號」資料行的模式設定檔可能會產生規則運算式：\d{5}-\d{4}、\d{5} 和 \d{9}。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-136">For example, a pattern profile of a United States Zip Code column might produce the regular expressions: \d{5}-\d{4}, \d{5}, and \d{9}.</span></span> <span data-ttu-id="ef6f4-137">如果您看見其他規則運算式，表示資料可能包含無效或格式錯誤的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-137">If you see other regular expressions, your data likely contains values that are not valid or in an incorrect format.</span></span>|  
|<span data-ttu-id="ef6f4-138">資料行統計資料設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-138">Column Statistics Profile</span></span>|<span data-ttu-id="ef6f4-139">報告數值資料行的最小值、最大值、平均和標準差，以及 `datetime` 資料行的最小值和最大值等統計資料。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-139">Reports statistics, such as minimum, maximum, average, and standard deviation for numeric columns, and minimum and maximum for `datetime` columns.</span></span><br /><br /> <span data-ttu-id="ef6f4-140">這個設定檔可協助您識別資料中的問題，例如無效的日期。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-140">This profile helps you identify problems in your data, such as dates that are not valid.</span></span> <span data-ttu-id="ef6f4-141">舉例來說，您分析了歷程記錄日期的資料行，並發現屬於未來的最大日期。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-141">For example, you profile a column of historical dates and discover a maximum date that is in the future.</span></span>|  
|<span data-ttu-id="ef6f4-142">資料行值散發設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-142">Column Value Distribution Profile</span></span>|<span data-ttu-id="ef6f4-143">報告選取之資料行中的所有相異值，以及該資料表中每個值所代表之資料列的百分比。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-143">Reports all the distinct values in the selected column and the percentage of rows in the table that each value represents.</span></span> <span data-ttu-id="ef6f4-144">也可以報告代表超過資料表中指定之資料列百分比的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-144">Can also report values that represent more than a specified percentage of rows in the table.</span></span><br /><br /> <span data-ttu-id="ef6f4-145">這個設定檔可協助您識別資料中的問題，例如某個資料行中相異值的數目不正確。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-145">This profile helps you identify problems in your data, such as an incorrect number of distinct values in a column.</span></span> <span data-ttu-id="ef6f4-146">舉例來說，您分析了應該包含美國州名的資料行並發現超過 50 個相異值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-146">For example, you profile a column that is supposed to contain states in the United States and discover more than 50 distinct values.</span></span>|  
  
 <span data-ttu-id="ef6f4-147">下列三個設定檔會分析多個資料行或資料行和資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-147">The following three profiles analyze multiple columns or relationships between columns and tables.</span></span>  
  
|<span data-ttu-id="ef6f4-148">分析多個資料行的設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-148">Profiles that analyze multiple columns</span></span>|<span data-ttu-id="ef6f4-149">描述</span><span class="sxs-lookup"><span data-stu-id="ef6f4-149">Description</span></span>|  
|--------------------------------------------|-----------------|  
|<span data-ttu-id="ef6f4-150">候選索引鍵設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-150">Candidate Key Profile</span></span>|<span data-ttu-id="ef6f4-151">報告資料行或資料行集合是否為選取之資料表的索引鍵或近似索引鍵。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-151">Reports whether a column or set of columns is a key, or an approximate key, for the selected table.</span></span><br /><br /> <span data-ttu-id="ef6f4-152">這個設定檔也可協助您識別資料中的問題，例如潛在索引鍵資料行中重複的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-152">This profile also helps you identify problems in your data, such as duplicate values in a potential key column.</span></span>|  
|<span data-ttu-id="ef6f4-153">功能相依性設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-153">Functional Dependency Profile</span></span>|<span data-ttu-id="ef6f4-154">報告某個資料行 (相依資料行) 中的值相依於另一個資料行或資料行集合 (行列式資料行) 中之值的程度。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-154">Reports the extent to which the values in one column (the dependent column) depend on the values in another column or set of columns (the determinant column).</span></span><br /><br /> <span data-ttu-id="ef6f4-155">這個設定檔也可協助您識別資料中的問題，例如無效的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-155">This profile also helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="ef6f4-156">舉例來說，您分析了包含「美國郵遞區號」之資料行與「美國州名」之資料行之間的相依性。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-156">For example, you profile the dependency between a column that contains United States Zip Codes and a column that contains states in the United States.</span></span> <span data-ttu-id="ef6f4-157">相同的郵遞區號應該永遠具有相同的州名，但是此設定檔卻發現了這個相依性的違規。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-157">The same Zip Code should always have the same state, but the profile discovers violations of this dependency.</span></span>|  
|<span data-ttu-id="ef6f4-158">值包含設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-158">Value Inclusion Profile</span></span>|<span data-ttu-id="ef6f4-159">計算兩個資料行或資料行集合之間值的重疊。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-159">Computes the overlap in the values between two columns or sets of columns.</span></span> <span data-ttu-id="ef6f4-160">這個設定檔可以判斷資料行或資料行集合是否適合當做選取之資料表之間的外部索引鍵。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-160">This profile can determine whether a column or set of columns is appropriate to serve as a foreign key between the selected tables.</span></span><br /><br /> <span data-ttu-id="ef6f4-161">這個設定檔也可協助您識別資料中的問題，例如無效的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-161">This profile also helps you identify problems in your data, such as values that are not valid.</span></span> <span data-ttu-id="ef6f4-162">舉例來說，您分析了 Sales 資料表的 ProductID 資料行，並發現此資料行包含在 Products 資料表之 ProductID 資料行中找不到的值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-162">For example, you profile the ProductID column of a Sales table and discover that the column contains values that are not found in the ProductID column of the Products table.</span></span>|  
  
## <a name="prerequisites-for-a-valid-profile"></a><span data-ttu-id="ef6f4-163">有效設定檔的必要條件</span><span class="sxs-lookup"><span data-stu-id="ef6f4-163">Prerequisites for a Valid Profile</span></span>  
 <span data-ttu-id="ef6f4-164">除非您選取非空白的資料表和資料行，而且這些資料行包含不適用於設定檔的資料類型，否則設定檔無效。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-164">A profile is not valid unless you select tables and columns that are not empty, and the columns contain data types that are valid for the profile.</span></span>  
  
### <a name="valid-data-types"></a><span data-ttu-id="ef6f4-165">有效的資料類型</span><span class="sxs-lookup"><span data-stu-id="ef6f4-165">Valid Data Types</span></span>  
 <span data-ttu-id="ef6f4-166">有些可用的設定檔僅對某些資料類型有意義。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-166">Some of the available profiles are meaningful only for certain data types.</span></span> <span data-ttu-id="ef6f4-167">例如，針對包含數值或 `datetime` 值的資料行計算資料行模式設定檔是沒有意義的。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-167">For example, computing a Column Pattern profile for a column that contains numeric or `datetime` values is not meaningful.</span></span> <span data-ttu-id="ef6f4-168">因此，這樣的設定檔無效。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-168">Therefore, such a profile is not valid.</span></span>  
  
|<span data-ttu-id="ef6f4-169">設定檔</span><span class="sxs-lookup"><span data-stu-id="ef6f4-169">Profile</span></span>|<span data-ttu-id="ef6f4-170">有效的資料類型\*</span><span class="sxs-lookup"><span data-stu-id="ef6f4-170">Valid Data Types\*</span></span>|  
|-------------|------------------------|  
|<span data-ttu-id="ef6f4-171">ColumnStatisticsProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-171">ColumnStatisticsProfile</span></span>|<span data-ttu-id="ef6f4-172">數值類型或 `datetime` 類型的資料行 (沒有適用於 `mean` 資料行的 `stddev` 和 `datetime`)</span><span class="sxs-lookup"><span data-stu-id="ef6f4-172">Columns of numeric type or `datetime` type (no `mean` and `stddev` for `datetime` column)</span></span>|  
|<span data-ttu-id="ef6f4-173">ColumnNullRatioProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-173">ColumnNullRatioProfile</span></span>|<span data-ttu-id="ef6f4-174">所有資料行\*\*</span><span class="sxs-lookup"><span data-stu-id="ef6f4-174">All columns\*\*</span></span>|  
|<span data-ttu-id="ef6f4-175">ColumnValueDistributionProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-175">ColumnValueDistributionProfile</span></span>|<span data-ttu-id="ef6f4-176">`integer` 類型、`char` 類型和 `datetime` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-176">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="ef6f4-177">ColumnLengthDistributionProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-177">ColumnLengthDistributionProfile</span></span>|<span data-ttu-id="ef6f4-178">`char` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-178">Columns of `char` type</span></span>|  
|<span data-ttu-id="ef6f4-179">ColumnPatternProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-179">ColumnPatternProfile</span></span>|<span data-ttu-id="ef6f4-180">`char` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-180">Columns of `char` type</span></span>|  
|<span data-ttu-id="ef6f4-181">CandidateKeyProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-181">CandidateKeyProfile</span></span>|<span data-ttu-id="ef6f4-182">`integer` 類型、`char` 類型和 `datetime` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-182">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="ef6f4-183">FunctionalDependencyProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-183">FunctionalDependencyProfile</span></span>|<span data-ttu-id="ef6f4-184">`integer` 類型、`char` 類型和 `datetime` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-184">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
|<span data-ttu-id="ef6f4-185">InclusionProfile</span><span class="sxs-lookup"><span data-stu-id="ef6f4-185">InclusionProfile</span></span>|<span data-ttu-id="ef6f4-186">`integer` 類型、`char` 類型和 `datetime` 類型的資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-186">Columns of `integer` type, `char` type, and `datetime` type</span></span>|  
  
 <span data-ttu-id="ef6f4-187">\*在有效資料類型的上一個資料表中， `integer` 、 `char` 、 `datetime` 和 `numeric` 類型包含下列特定的資料類型：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-187">\* In the previous table of valid data types, the `integer`, `char`, `datetime`, and `numeric` types include the following specific data types:</span></span>  
  
 <span data-ttu-id="ef6f4-188">整數類型包括 `bit`、`tinyint`、`smallint`、`int` 和 `bigint`。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-188">Integer types include `bit`, `tinyint`, `smallint`, `int`, and `bigint`.</span></span>  
  
 <span data-ttu-id="ef6f4-189">字元類型包括 `char`、`nchar`, `varchar` 和 `nvarchar,`，但不包括 `varchar(max)` 和 `nvarchar(max)`。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-189">Character types include `char`, `nchar`, `varchar`, and `nvarchar,` but do not include `varchar(max)` and `nvarchar(max)`.</span></span>  
  
 <span data-ttu-id="ef6f4-190">日期和時間類型包括 `datetime`、`smalldatetime` 和 `timestamp`。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-190">Date and time types include `datetime`, `smalldatetime`, and `timestamp`.</span></span>  
  
 <span data-ttu-id="ef6f4-191">數值類型包括 `integer` 類型 (`bit` 除外)、`money`、`smallmoney`、`decimal`、`float`、`real` 和 `numeric`。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-191">Numeric types include `integer` types (except `bit`), `money`, `smallmoney`, `decimal`, `float`, `real`, and `numeric`.</span></span>  
  
 <span data-ttu-id="ef6f4-192">\*\*`image` `text` 對於資料 `XML` `udt` `variant` 行 Null 比例設定檔以外的設定檔，不支援、、、和類型。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-192">\*\* `image`, `text`, `XML`, `udt`, and `variant` types are not supported for profiles other than the Column Null Ratio Profile.</span></span>  
  
### <a name="valid-tables-and-columns"></a><span data-ttu-id="ef6f4-193">有效的資料表和資料行</span><span class="sxs-lookup"><span data-stu-id="ef6f4-193">Valid Tables and Columns</span></span>  
 <span data-ttu-id="ef6f4-194">如果資料表或資料行為空白，資料分析會採取下列動作：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-194">If the table or column is empty, the Data Profiling takes the following actions:</span></span>  
  
-   <span data-ttu-id="ef6f4-195">當選取的資料表或檢視為空白時，資料分析工作不會計算任何設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-195">When the selected table or view is empty, the Data Profiling task does not compute any profiles.</span></span>  
  
-   <span data-ttu-id="ef6f4-196">當選取之資料行中的所有值為 Null 時，資料分析工作僅會計算資料行 Null 比例設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-196">When all the values in the selected column are null, the Data Profiling task computes only the Column Null Ratio profile.</span></span> <span data-ttu-id="ef6f4-197">此工作不會計算資料行長度散發設定檔、資料行模式設定檔、資料行統計資料設定檔或資料行值散發設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-197">The task does not compute the Column Length Distribution profile, Column Pattern profile, Column Statistics profile, or Column Value Distribution profile.</span></span>  
  
## <a name="features-of-the-data-profiling-task"></a><span data-ttu-id="ef6f4-198">資料分析工作的功能</span><span class="sxs-lookup"><span data-stu-id="ef6f4-198">Features of the Data Profiling Task</span></span>  
 <span data-ttu-id="ef6f4-199">資料分析工作具有下列便利的組態選項：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-199">The Data Profiling task has these convenient configuration options:</span></span>  
  
-   <span data-ttu-id="ef6f4-200">**萬用字元資料行**當您要設定設定檔要求時，此工作會接受 **(\*)** 萬用字元來取代資料行名稱。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-200">**Wildcard columns** When you are configuring a profile request, the task accepts the **(\*)** wildcard in place of a column name.</span></span> <span data-ttu-id="ef6f4-201">這會簡化組態，而且更容易發現不熟悉之資料的特性。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-201">This simplifies the configuration and makes it easier to discover the characteristics of unfamiliar data.</span></span> <span data-ttu-id="ef6f4-202">當工作執行時，該工作會分析具有適當資料類型的每個資料行。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-202">When the task runs, the task profiles every column that has an appropriate data type.</span></span>  
  
-   <span data-ttu-id="ef6f4-203">**[快速分析]** You can select [快速分析] to configure the task quickly.</span><span class="sxs-lookup"><span data-stu-id="ef6f4-203">**Quick Profile** You can select Quick Profile to configure the task quickly.</span></span> <span data-ttu-id="ef6f4-204">[快速分析] 會使用所有預設的設定檔和預設值，分析資料表或檢視表。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-204">A Quick Profile profiles a table or view by using all the default profiles and default settings.</span></span>  
  
## <a name="custom-logging-messages-available-on-the-data-profililng-task"></a><span data-ttu-id="ef6f4-205">資料分析工作上所提供的自訂記錄訊息</span><span class="sxs-lookup"><span data-stu-id="ef6f4-205">Custom Logging Messages Available on the Data Profililng Task</span></span>  
 <span data-ttu-id="ef6f4-206">下表列出資料分析工作的自訂記錄項目。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-206">The following table lists the custom log entries for the Data Profiling task.</span></span> <span data-ttu-id="ef6f4-207">如需詳細資訊，請參閱 [Integration Services &#40;SSIS&#41; 記錄](../performance/integration-services-ssis-logging.md)和[自訂訊息以進行記錄](../custom-messages-for-logging.md)。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-207">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="ef6f4-208">記錄項目</span><span class="sxs-lookup"><span data-stu-id="ef6f4-208">Log entry</span></span>|<span data-ttu-id="ef6f4-209">描述</span><span class="sxs-lookup"><span data-stu-id="ef6f4-209">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="ef6f4-210">**DataProfilingTaskTrace**</span><span class="sxs-lookup"><span data-stu-id="ef6f4-210">**DataProfilingTaskTrace**</span></span>|<span data-ttu-id="ef6f4-211">提供有關此工作之狀態的描述性資訊。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-211">Provides descriptive information about the status of the task.</span></span> <span data-ttu-id="ef6f4-212">訊息包括下列資訊：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-212">Messages include the following information:</span></span><br /><br /> <span data-ttu-id="ef6f4-213">開始處理要求</span><span class="sxs-lookup"><span data-stu-id="ef6f4-213">Start Processing Requests</span></span><br /><br /> <span data-ttu-id="ef6f4-214">查詢開始</span><span class="sxs-lookup"><span data-stu-id="ef6f4-214">Query Start</span></span><br /><br /> <span data-ttu-id="ef6f4-215">查詢結束</span><span class="sxs-lookup"><span data-stu-id="ef6f4-215">Query End</span></span><br /><br /> <span data-ttu-id="ef6f4-216">完成計算要求</span><span class="sxs-lookup"><span data-stu-id="ef6f4-216">Finish Computing Request</span></span>|  
  
## <a name="output-and-its-schema"></a><span data-ttu-id="ef6f4-217">輸出及其結構描述</span><span class="sxs-lookup"><span data-stu-id="ef6f4-217">Output and Its Schema</span></span>  
 <span data-ttu-id="ef6f4-218">資料分析工作會將選取的設定檔輸出到根據 DataProfile.xsd 結構描述結構化的 XML。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-218">The Data Profiling task outputs the selected profiles into XML that is structured according to the DataProfile.xsd schema.</span></span> <span data-ttu-id="ef6f4-219">您可以指定此 XML 輸出要以檔案或封裝變數儲存。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-219">You can specify whether this XML output is saved in a file or in a package variable.</span></span> <span data-ttu-id="ef6f4-220">您可以在 [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/) 線上檢視此結構描述。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-220">You can view this schema online at [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/).</span></span> <span data-ttu-id="ef6f4-221">您可以從網頁儲存結構描述的本機複本。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-221">From the webpage, you can save a local copy of the schema.</span></span> <span data-ttu-id="ef6f4-222">然後，您可以在 Microsoft [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] 或其他結構描述編輯器、XML 編輯器，或「記事本」之類的文字編輯器中檢視結構描述的本機複本。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-222">You can then view the local copy of the schema in Microsoft [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] or another schema editor, in an XML editor, or in a text editor such as Notepad.</span></span>  
  
 <span data-ttu-id="ef6f4-223">此資料品質資訊的結構描述對於下列事項可能很實用：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-223">This schema for data quality information could be useful for:</span></span>  
  
-   <span data-ttu-id="ef6f4-224">在組織內部與跨組織交換資料品質資訊。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-224">Exchanging data quality information within and across organizations.</span></span>  
  
-   <span data-ttu-id="ef6f4-225">建立搭配資料品質資訊使用的自訂工具。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-225">Building custom tools that work with data quality information.</span></span>  
  
 <span data-ttu-id="ef6f4-226">在結構描述中，將目標命名空間識別為 [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/)。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-226">The target namespace is identified in the schema as [https://schemas.microsoft.com/sqlserver/2008/DataDebugger/](https://schemas.microsoft.com/sqlserver/2008/DataDebugger/).</span></span>  
  
## <a name="output-in-the-conditional-workflow-of-a-package"></a><span data-ttu-id="ef6f4-227">封裝的條件式工作流程中的輸出</span><span class="sxs-lookup"><span data-stu-id="ef6f4-227">Output in the Conditional Workflow of a Package</span></span>  
 <span data-ttu-id="ef6f4-228">資料分析元件不包含內建功能，無法根據資料分析工作的輸出，在 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 封裝的工作流程中實作條件式邏輯。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-228">The data profiling components do not include built-in functionality to implement conditional logic in the workflow of the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package based on the output of the Data Profiling task.</span></span> <span data-ttu-id="ef6f4-229">不過，您可以利用最少量的程式設計，在指令碼工作中輕鬆加入這個邏輯。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-229">However, you can easily add this logic, with a minimal amount of programming, in a Script task.</span></span> <span data-ttu-id="ef6f4-230">此程式碼會根據 XML 輸出執行 XPath 查詢，然後以封裝變數儲存結果。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-230">This code would perform an XPath query against the XML output, and then save the result in a package variable.</span></span> <span data-ttu-id="ef6f4-231">將指令碼工作連接到後續工作的優先順序條件約束可以使用運算式來判斷工作流程。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-231">Precedence constraints that connect the Script task to subsequent tasks can use an expression to determine the workflow.</span></span> <span data-ttu-id="ef6f4-232">例如，指令碼工作會偵測到 Null 值在資料行中的百分比超出特定的臨界值。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-232">For example, the Script task detects that the percentage of null values in a column exceeds a certain threshold.</span></span> <span data-ttu-id="ef6f4-233">此條件為 true 時，您可能想要先中斷封裝並解決問題，然後再繼續。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-233">When this condition is true, you might want to interrupt the package and resolve the problem before continuing.</span></span>  
  
## <a name="configuration-of-the-data-profiling-task"></a><span data-ttu-id="ef6f4-234">設定資料分析工作</span><span class="sxs-lookup"><span data-stu-id="ef6f4-234">Configuration of the Data Profiling Task</span></span>  
 <span data-ttu-id="ef6f4-235">您可以使用 **[資料分析工作編輯器]** 來設定資料分析工作。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-235">You configure the Data Profiling task by using the **Data Profiling Task Editor**.</span></span> <span data-ttu-id="ef6f4-236">此編輯器有兩個頁面：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-236">The editor has two pages:</span></span>  
  
 [<span data-ttu-id="ef6f4-237">一般頁面</span><span class="sxs-lookup"><span data-stu-id="ef6f4-237">General Page</span></span>](../general-page-of-integration-services-designers-options.md)  
 <span data-ttu-id="ef6f4-238">在 [一般]  頁面上，您可以指定輸出檔案或變數。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-238">On the **General** page, you specify the output file or variable.</span></span> <span data-ttu-id="ef6f4-239">您也可以選取 **[快速分析]** ，利用預設值快速設定工作以計算設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-239">You can also select **Quick Profile** to configure the task quickly to compute profiles by using the default settings.</span></span> <span data-ttu-id="ef6f4-240">如需詳細資訊，請參閱 [單一資料表快速分析表單 &#40;資料分析工作&#41;](data-profiling-task.md)。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-240">For more information, see [Single Table Quick Profile Form &#40;Data Profiling Task&#41;](data-profiling-task.md).</span></span>  
  
 [<span data-ttu-id="ef6f4-241">設定檔要求頁面</span><span class="sxs-lookup"><span data-stu-id="ef6f4-241">Profile Requests Page</span></span>](data-profiling-task-editor-profile-requests-page.md)  
 <span data-ttu-id="ef6f4-242">在 [設定檔要求]  頁面上，您可以指定資料來源，然後選取並設定您要計算的資料設定檔。</span><span class="sxs-lookup"><span data-stu-id="ef6f4-242">On the **Profile Requests** page, you specify the data source, and select and configure the data profiles that you want to compute.</span></span> <span data-ttu-id="ef6f4-243">如需有關您可以設定之各種設定檔的詳細資訊，請參閱下列主題：</span><span class="sxs-lookup"><span data-stu-id="ef6f4-243">For more information about the various profiles that you can configure, see the following topics:</span></span>  
  
-   [<span data-ttu-id="ef6f4-244">候選索引鍵設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-244">Candidate Key Profile Request Options &#40;Data Profiling Task&#41;</span></span>](candidate-key-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-245">資料行長度散發設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-245">Column Length Distribution Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-length-distribution-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-246">資料行 Null 比例設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-246">Column Null Ratio Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-null-ratio-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-247">資料行模式設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-247">Column Pattern Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-pattern-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-248">資料行統計資料設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-248">Column Statistics Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-statistics-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-249">資料行值散發設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-249">Column Value Distribution Profile Request Options &#40;Data Profiling Task&#41;</span></span>](column-value-distribution-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-250">功能相依性設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-250">Functional Dependency Profile Request Options &#40;Data Profiling Task&#41;</span></span>](functional-dependency-profile-request-options-data-profiling-task.md)  
  
-   [<span data-ttu-id="ef6f4-251">值包含設定檔要求選項 &#40;資料分析工作&#41;</span><span class="sxs-lookup"><span data-stu-id="ef6f4-251">Value Inclusion Profile Request Options &#40;Data Profiling Task&#41;</span></span>](value-inclusion-profile-request-options-data-profiling-task.md)  
  
  
