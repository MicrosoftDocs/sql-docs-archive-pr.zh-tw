---
title: 將 Integration Services 服務設定為叢集資源 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 367835aa-9855-4791-a989-b3d08402ad4c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: f55b07f5587720130646b9637b91afbb8f179998
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706666"
---
# <a name="configure-the-integration-services-service-as-a-cluster-resource"></a><span data-ttu-id="0458d-102">將 Integration Services 服務設定為叢集資源</span><span class="sxs-lookup"><span data-stu-id="0458d-102">Configure the Integration Services Service as a Cluster Resource</span></span>
  <span data-ttu-id="0458d-103">本節針對認為將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務設定為叢集資源的優點多於缺點的客戶，提供必要的設定指示。</span><span class="sxs-lookup"><span data-stu-id="0458d-103">For those customers who conclude that the advantages of configuring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource outweigh the disadvantages, this section contains the necessary configuration instructions.</span></span> <span data-ttu-id="0458d-104">不過， [!INCLUDE[msCoName](../includes/msconame-md.md)] 並不建議將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務設定為叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-104">However, [!INCLUDE[msCoName](../includes/msconame-md.md)] does not recommend that the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service be configured as a cluster resource.</span></span>  
  
 <span data-ttu-id="0458d-105">如果要將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務設定為叢集資源，必須完成下列工作。</span><span class="sxs-lookup"><span data-stu-id="0458d-105">To configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource, you need to complete the following tasks.</span></span>  
  
-   <span data-ttu-id="0458d-106">在叢集上安裝 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="0458d-106">Install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on a cluster.</span></span>  
  
     <span data-ttu-id="0458d-107">若要在叢集上安裝 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] ，您必須在叢集中的每個節點上安裝 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="0458d-107">To install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on a cluster, you must install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on each node in the cluster.</span></span>  
  
-   <span data-ttu-id="0458d-108">將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 設定為叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-108">Configure [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource.</span></span>  
  
     <span data-ttu-id="0458d-109">在叢集中的每個節點上安裝 Integration Services 之後，您需要將 Integration Services 設定為叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-109">With Integration Services installed on each node in the cluster, you need to configure Integration Services as a cluster resource.</span></span> <span data-ttu-id="0458d-110">將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務設定為叢集資源後，就可以將該服務加入至與 [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)]相同的資源群組，或加入不同的群組。</span><span class="sxs-lookup"><span data-stu-id="0458d-110">When you configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service as a cluster resource, you can add the service to the same resource group as the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)], or to a different group.</span></span> <span data-ttu-id="0458d-111">下表描述在選取資源群組時的可能優點和缺點。</span><span class="sxs-lookup"><span data-stu-id="0458d-111">The following table describes the possible advantages and disadvantages in selecting a resource group.</span></span>  
  
    |<span data-ttu-id="0458d-112">當 Integration Services 和 SQL Server 位於相同的資源群組</span><span class="sxs-lookup"><span data-stu-id="0458d-112">When Integration Services and SQL Server are in the same resource group</span></span>|<span data-ttu-id="0458d-113">當 Integration Services 和 SQL Server 位於不同的資源群組</span><span class="sxs-lookup"><span data-stu-id="0458d-113">When Integration Services and SQL Server are in different resource groups</span></span>|  
    |-----------------------------------------------------------------------------|-------------------------------------------------------------------------------|  
    |<span data-ttu-id="0458d-114">用戶端電腦可以使用 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 來管理儲存在 msdb 資料庫中的封裝，因為 [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] 和 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務都是在相同的虛擬伺服器上執行。</span><span class="sxs-lookup"><span data-stu-id="0458d-114">Client computers can use [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] to manage packages stored in the msdb database because both the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] and [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service are running on the same virtual server.</span></span> <span data-ttu-id="0458d-115">這項設定可避免雙躍點狀況的委派問題。</span><span class="sxs-lookup"><span data-stu-id="0458d-115">This configuration avoids the delegation issues of the double-hop scenario.</span></span>|<span data-ttu-id="0458d-116">用戶端電腦無法使用 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 來管理儲存在 msdb 資料庫中的封裝。</span><span class="sxs-lookup"><span data-stu-id="0458d-116">Client computers cannot use [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] to manage packages stored in the msdb database.</span></span> <span data-ttu-id="0458d-117">用戶端可以連接到 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務執行所在的虛擬伺服器。</span><span class="sxs-lookup"><span data-stu-id="0458d-117">The client can connect to the virtual server on which the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is running.</span></span> <span data-ttu-id="0458d-118">不過，該電腦無法將使用者的認證委派到 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 執行所在的虛擬伺服器。</span><span class="sxs-lookup"><span data-stu-id="0458d-118">However, that computer cannot delegate the user's credentials to the virtual server on which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="0458d-119">這稱為雙躍點狀況。</span><span class="sxs-lookup"><span data-stu-id="0458d-119">This is known as a double-hop scenario.</span></span>|  
    |<span data-ttu-id="0458d-120">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務會與其他的 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 服務競爭 CPU 和其他電腦資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-120">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service competes with other [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] services for CPU and other computer resources.</span></span>|<span data-ttu-id="0458d-121">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務不會與其他的 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 服務競爭 CPU 和其他電腦資源，因為不同的資源群組是設定在不同的節點上。</span><span class="sxs-lookup"><span data-stu-id="0458d-121">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service does not compete with other [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] services for CPU and other computer resources because the different resource groups are configured on different nodes.</span></span>|  
    |<span data-ttu-id="0458d-122">封裝載入及儲存到 msdb 資料庫的速度會加快，產生的網路傳輸量也較少，因為兩種服務都是在相同電腦上執行。</span><span class="sxs-lookup"><span data-stu-id="0458d-122">The loading and saving of packages to the msdb database is faster and generates less network traffic because both services are running on the same computer.</span></span>|<span data-ttu-id="0458d-123">封裝載入及儲存到 msdb 資料庫的速度可能會減慢，並產生較多的網路傳輸量。</span><span class="sxs-lookup"><span data-stu-id="0458d-123">The loading and saving of packages to the msdb database might be slower and generate more network traffic.</span></span>|  
    |<span data-ttu-id="0458d-124">兩種服務會同時上線或離線。</span><span class="sxs-lookup"><span data-stu-id="0458d-124">Both services are online or offline at the same time.</span></span>|<span data-ttu-id="0458d-125">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務可能會在 [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] 離線時上線；</span><span class="sxs-lookup"><span data-stu-id="0458d-125">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service might be online while the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] is offline.</span></span> <span data-ttu-id="0458d-126">因此，儲存在 [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] 的 msdb 資料庫中的封裝就無法使用。</span><span class="sxs-lookup"><span data-stu-id="0458d-126">Thus, the packages stored in the msdb database of the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)] are unavailable.</span></span>|  
    |<span data-ttu-id="0458d-127">必要的話，無法將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務快速地移至另一個節點。</span><span class="sxs-lookup"><span data-stu-id="0458d-127">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service cannot be moved quickly to another node if it is required.</span></span>|<span data-ttu-id="0458d-128">必要的話，可以將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務快速地移至另一個節點。</span><span class="sxs-lookup"><span data-stu-id="0458d-128">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service can be moved more quickly to another node if it is required.</span></span>|  
  
     <span data-ttu-id="0458d-129">在決定將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]加入至哪一個資源群組之後，就必須將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 設定為該群組中的叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-129">After you have decided to which resource group you will add [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], you have to configure [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource in that group.</span></span>  
  
-   <span data-ttu-id="0458d-130">設定 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務及封裝存放區。</span><span class="sxs-lookup"><span data-stu-id="0458d-130">Configure the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service and package store.</span></span>  
  
     <span data-ttu-id="0458d-131">將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 設定為叢集資源之後，您必須在叢集中的每個節點上，修改 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務組態檔的位置及內容。</span><span class="sxs-lookup"><span data-stu-id="0458d-131">Having configured [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] as a cluster resource, you must modify the location and the content of the configuration file for the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service on each node in the cluster.</span></span> <span data-ttu-id="0458d-132">在進行這些修改後，組態檔及封裝存放區就能在發生容錯移轉時供所有的節點使用。</span><span class="sxs-lookup"><span data-stu-id="0458d-132">These modifications make both the configuration file and the package store available to all nodes if there is a failover.</span></span> <span data-ttu-id="0458d-133">在修改組態檔的位置及內容之後，必須將服務重新連線。</span><span class="sxs-lookup"><span data-stu-id="0458d-133">After you modify the location and content of the configuration file, you have to bring the service online.</span></span>  
  
-   <span data-ttu-id="0458d-134">將 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務連線成叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-134">Bring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service online as a cluster resource.</span></span>  
  
 <span data-ttu-id="0458d-135">在叢集或任何伺服器上設定 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務之後，您可能必須先設定 DCOM 權限，才能從用戶端電腦連接到該服務。</span><span class="sxs-lookup"><span data-stu-id="0458d-135">After configuring the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service on a cluster, or on any server, you might have to configure DCOM permissions before you can connect to the service from a client computer.</span></span> <span data-ttu-id="0458d-136">如需詳細資訊，請參閱[連接到遠端 Integration Services 伺服器 &#40;SSIS 服務&#41;](../../2014/integration-services/connect-to-a-remote-integration-services-server-ssis-service.md)。</span><span class="sxs-lookup"><span data-stu-id="0458d-136">For more information, see [Connect to a Remote Integration Services Server &#40;SSIS Service&#41;](../../2014/integration-services/connect-to-a-remote-integration-services-server-ssis-service.md).</span></span>  
  
 <span data-ttu-id="0458d-137">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務無法委派認證。</span><span class="sxs-lookup"><span data-stu-id="0458d-137">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service cannot delegate credentials.</span></span> <span data-ttu-id="0458d-138">因此，當下列條件成立時，您無法使用 [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)] 來管理儲存在 msdb 資料庫中的封裝：</span><span class="sxs-lookup"><span data-stu-id="0458d-138">Therefore, you cannot use [!INCLUDE[ssManStudio](../includes/ssmanstudio-md.md)] to manage packages stored in the msdb database when the following conditions are true:</span></span>  
  
-   <span data-ttu-id="0458d-139">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務和 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 正在不同的伺服器或虛擬伺服器上執行。</span><span class="sxs-lookup"><span data-stu-id="0458d-139">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service and [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] are running on separate servers or virtual servers.</span></span>  
  
-   <span data-ttu-id="0458d-140">正在執行 [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] 的用戶端是第三台電腦。</span><span class="sxs-lookup"><span data-stu-id="0458d-140">The client that is running [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] is a third computer.</span></span>  
  
 <span data-ttu-id="0458d-141">用戶端可以連接到 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務執行所在的虛擬伺服器。</span><span class="sxs-lookup"><span data-stu-id="0458d-141">The client can connect to the virtual server on which the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is running.</span></span> <span data-ttu-id="0458d-142">不過，該電腦無法將使用者的認證委派到 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 執行所在的虛擬伺服器。</span><span class="sxs-lookup"><span data-stu-id="0458d-142">However, that computer cannot delegate the user's credentials to the virtual server on which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] is running.</span></span> <span data-ttu-id="0458d-143">這稱為雙躍點狀況。</span><span class="sxs-lookup"><span data-stu-id="0458d-143">This is known as a double-hop scenario.</span></span>  
  
### <a name="to-install-integration-services-on-a-cluster"></a><span data-ttu-id="0458d-144">在叢集上安裝 Integration Services</span><span class="sxs-lookup"><span data-stu-id="0458d-144">To Install Integration Services on a Cluster</span></span>  
  
1.  <span data-ttu-id="0458d-145">安裝和設定具有一個或多個節點的叢集。</span><span class="sxs-lookup"><span data-stu-id="0458d-145">Install and configure a cluster with one or more nodes.</span></span>  
  
2.  <span data-ttu-id="0458d-146">(選擇性) 安裝叢集服務，例如 [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="0458d-146">(Optional) Install clustered services, such as the [!INCLUDE[ssDEnoversion](../includes/ssdenoversion-md.md)].</span></span>  
  
3.  <span data-ttu-id="0458d-147">在叢集的每個節點上安裝 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="0458d-147">Install [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] on each node of the cluster.</span></span>  
  
### <a name="to-configure-integration-services-as-a-cluster-resource"></a><span data-ttu-id="0458d-148">將 Integration Services 設定為叢集資源</span><span class="sxs-lookup"><span data-stu-id="0458d-148">To Configure Integration Services as a Cluster Resource</span></span>  
  
1.  <span data-ttu-id="0458d-149">開啟 [叢集管理員]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-149">Open the **Cluster Administrator**.</span></span>  
  
2.  <span data-ttu-id="0458d-150">在主控台樹狀目錄中，選取 [Groups] 資料夾。</span><span class="sxs-lookup"><span data-stu-id="0458d-150">In the console tree, select the Groups folder.</span></span>  
  
3.  <span data-ttu-id="0458d-151">在結果窗格中，選取您打算加入 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]的群組：</span><span class="sxs-lookup"><span data-stu-id="0458d-151">In the results pane, select the group to which you plan to add [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]:</span></span>  
  
    -   <span data-ttu-id="0458d-152">若要將 Integrations Services 當做叢集資源加入與 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]相同的資源群組，請選取 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 所屬的群組。</span><span class="sxs-lookup"><span data-stu-id="0458d-152">To add Integrations Services as a cluster resource to the same resource group as [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], select the group to which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] belongs.</span></span>  
  
    -   <span data-ttu-id="0458d-153">若要將 Integrations Services 當做叢集資源加入至與 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]不同的群組，請選取 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 所屬群組以外的群組。</span><span class="sxs-lookup"><span data-stu-id="0458d-153">To add Integrations Services as a cluster resource to a different group than [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], select a group other than the group to which [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] belongs.</span></span>  
  
4.  <span data-ttu-id="0458d-154">在 [檔案]  功能表上，指向 [開新檔案]  ，然後按一下 [資源]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-154">On the **File** menu, point to **New**, and then click **Resource**.</span></span>  
  
5.  <span data-ttu-id="0458d-155">在 [資源精靈] 的 [新資源]  頁面上鍵入名稱，然後選取 [一般服務]  作為 [服務類型]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-155">On the **New Resource** page of the Resource Wizard, type a name and select **"Generic Service"** as the **Service Type**.</span></span> <span data-ttu-id="0458d-156">請不要變更 [群組]  的值。</span><span class="sxs-lookup"><span data-stu-id="0458d-156">Do not change the value of **Group**.</span></span> <span data-ttu-id="0458d-157">按 [下一步]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-157">Click **Next**.</span></span>  
  
6.  <span data-ttu-id="0458d-158">在 [可能的擁有者]  頁面中，加入或移除作為資源之可能擁有者的叢集節點。</span><span class="sxs-lookup"><span data-stu-id="0458d-158">On the **Possible Owners** page, add or remove the nodes of the cluster as the possible owners of the resource.</span></span> <span data-ttu-id="0458d-159">按 [下一步]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-159">Click **Next**.</span></span>  
  
7.  <span data-ttu-id="0458d-160">若要在 [相依性]  頁面上加入相依性，請選取 [可用的資源]  之下的資源，然後按一下 [加入]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-160">To add dependencies, on the **Dependencies** page, select a resource under **Available resources**, and then click **Add**.</span></span> <span data-ttu-id="0458d-161">在容錯移轉時， [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 和儲存 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 封裝的共用磁碟會在 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 連線之前重新連線。</span><span class="sxs-lookup"><span data-stu-id="0458d-161">In case of a failover, both [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] and the shared disk that stores [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] packages should come back online before [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] is brought online.</span></span> <span data-ttu-id="0458d-162">選取相依性之後，請按一下 [下一步]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-162">After you have selected the dependencies, click **Next**.</span></span>  
  
     <span data-ttu-id="0458d-163">如需詳細資訊，請參閱 [加入 SQL Server 資源的相依性](../sql-server/failover-clusters/windows/add-dependencies-to-a-sql-server-resource.md)。</span><span class="sxs-lookup"><span data-stu-id="0458d-163">For more information, see [Add Dependencies to a SQL Server Resource](../sql-server/failover-clusters/windows/add-dependencies-to-a-sql-server-resource.md).</span></span>  
  
8.  <span data-ttu-id="0458d-164">在 [一般服務參數]  頁面上，輸入 **MsDtsServer** 作為服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="0458d-164">On the **Generic Service Parameters** page, enter **MsDtsServer** as the name of the service.</span></span> <span data-ttu-id="0458d-165">按 [下一步]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-165">Click **Next**.</span></span>  
  
9. <span data-ttu-id="0458d-166">在 [機碼複寫]  頁面上，按一下 [加入]  以加入用來識別 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務組態檔位置的登錄機碼。</span><span class="sxs-lookup"><span data-stu-id="0458d-166">On the **Registry Replication** page, click **Add** to add the registry key that identifies the location of the configuration file for the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span> <span data-ttu-id="0458d-167">此檔案必須位在與 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務相同的資源群組中的共用磁碟上。</span><span class="sxs-lookup"><span data-stu-id="0458d-167">This file must be located on a shared disk that is in the same resource group as the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span>  
  
10. <span data-ttu-id="0458d-168">在 [登錄機碼]  對話方塊中，輸入 **SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile**。</span><span class="sxs-lookup"><span data-stu-id="0458d-168">In the **Registry Key** dialog box, type **SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile**.</span></span> <span data-ttu-id="0458d-169">按一下 [確定]  ，然後按一下 [完成]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-169">Click **OK**, and then click **Finish**.</span></span>  
  
     <span data-ttu-id="0458d-170">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務現在已加入成叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-170">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service has now been added as a cluster resource.</span></span>  
  
### <a name="to-configure-the-integration-services-service-and-package-store"></a><span data-ttu-id="0458d-171">設定 Integration Services 服務和封裝存放區</span><span class="sxs-lookup"><span data-stu-id="0458d-171">To Configure the Integration Services Service and Package Store</span></span>  
  
1.  <span data-ttu-id="0458d-172">尋找位於 %ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.ini.xml 的組態檔。</span><span class="sxs-lookup"><span data-stu-id="0458d-172">Locate the configuration file at %ProgramFiles%\Microsoft SQL Server\100\DTS\Binn\MsDtsSrvr.ini.xml.</span></span> <span data-ttu-id="0458d-173">將該檔案複製到其中加入了 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務的群組的共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="0458d-173">Copy it to the shared disk for the group to which you added the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service.</span></span>  
  
2.  <span data-ttu-id="0458d-174">在共用磁碟上，建立名為 **Packages** 的新資料夾作為封裝存放區。</span><span class="sxs-lookup"><span data-stu-id="0458d-174">On the shared disk, create a new folder named **Packages** to serve as the package store.</span></span> <span data-ttu-id="0458d-175">請將新資料夾的「列出資料夾」和寫入權限授與適當的使用者和群組。</span><span class="sxs-lookup"><span data-stu-id="0458d-175">Grant List Folders and Write permissions on the new folder to appropriate users and groups.</span></span>  
  
3.  <span data-ttu-id="0458d-176">在共用磁碟上，在文字或 XML 編輯器中開啟組態檔。</span><span class="sxs-lookup"><span data-stu-id="0458d-176">On the shared disk, open the configuration file in a text or XML editor.</span></span> <span data-ttu-id="0458d-177">將 `ServerName` 元素的值變更成位在相同資源群組中的虛擬 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] 名稱。</span><span class="sxs-lookup"><span data-stu-id="0458d-177">Change the value of the `ServerName` element to the name of the virtual [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] that is in the same resource group.</span></span>  
  
4.  <span data-ttu-id="0458d-178">將元素的值變更 `StorePath` 為上一個步驟中，在共用磁片上所建立之**封裝**資料夾的完整路徑。</span><span class="sxs-lookup"><span data-stu-id="0458d-178">Change the value of the `StorePath` element to the fully-qualified path of the **Packages** folder created on the shared disk in a previous step.</span></span>  
  
5.  <span data-ttu-id="0458d-179">將登錄中的 **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile** 值，更新為共用磁碟上之服務組態檔的完整路徑和檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="0458d-179">Update the value of **HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\SSIS\ServiceConfigFile** in the Registry to the fully-qualified path and file name of the service configuration file on the shared disk.</span></span>  
  
### <a name="to-bring-the-integration-services-service-online"></a><span data-ttu-id="0458d-180">將 Integration Services 服務連線</span><span class="sxs-lookup"><span data-stu-id="0458d-180">To bring the Integration Services service online</span></span>  
  
-   <span data-ttu-id="0458d-181">請在 [叢集管理員]  中，選取 [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務並按一下滑鼠右鍵，然後從快顯功能表中選取 [上線]  。</span><span class="sxs-lookup"><span data-stu-id="0458d-181">In the **Cluster Administrator**, select the [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service, right-click, and select **Bring Online** from the popup menu.</span></span> <span data-ttu-id="0458d-182">[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] 服務現在已連線成叢集資源。</span><span class="sxs-lookup"><span data-stu-id="0458d-182">The [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] service is now online as a cluster resource.</span></span>  
  
  
