---
title: Attunity Oracle 異動資料擷取服務系統架構 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 1db6c737-3c60-4066-a0a3-3611e1c83e4e
author: chugugrace
ms.author: chugu
ms.openlocfilehash: c78cf38f64abf31fe22392ab7c7bafe90a2e6b11
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87596865"
---
# <a name="change-data-capture-service-for-oracle-by-attunity-system-architecture"></a><span data-ttu-id="e6387-102">Attunity Oracle Change Data Capture (CDC) 服務系統架構</span><span class="sxs-lookup"><span data-stu-id="e6387-102">Change Data Capture Service for Oracle by Attunity System Architecture</span></span>
  <span data-ttu-id="e6387-103">Oracle CDC 服務會將一個或多個來源 Oracle 資料庫中選定資料表所做的變更擷取到位於 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體上的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="e6387-103">The CDC Service for Oracle captures changes made to selected tables in one or more source Oracle databases into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC databases located on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e6387-104">下圖顯示組成 Oracle CDC 服務的元件。</span><span class="sxs-lookup"><span data-stu-id="e6387-104">The following diagram shows the components that make up the CDC Service for Oracle.</span></span>  
  
 <span data-ttu-id="e6387-105">![服務架構](../media/service-architecture.gif "服務架構")</span><span class="sxs-lookup"><span data-stu-id="e6387-105">![Service Architecture](../media/service-architecture.gif "Service Architecture")</span></span>  
  
 <span data-ttu-id="e6387-106">這個圖說明使用的四個平台。</span><span class="sxs-lookup"><span data-stu-id="e6387-106">This figure illustrates four platforms that are used.</span></span> <span data-ttu-id="e6387-107">在許多情況下，這些平台可以重疊，但是這個圖代表標準使用情況。</span><span class="sxs-lookup"><span data-stu-id="e6387-107">In many cases, these platforms can overlap, however this diagram represents a standard use case.</span></span> <span data-ttu-id="e6387-108">例如，以下是合理的情況：Oracle 和 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 資料庫各自在不同的電腦上執行，而且不與 Oracle CDC 服務平台或是設計 CDC 服務所使用的平台共用。</span><span class="sxs-lookup"><span data-stu-id="e6387-108">For example, it makes sense that the Oracle and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases each run on a separate computer and are not shared with the Oracle CDC Service platform or the platform from which the CDC Service is designed.</span></span> <span data-ttu-id="e6387-109">此圖所說明的平台如下：</span><span class="sxs-lookup"><span data-stu-id="e6387-109">The platforms illustrated in this figure are:</span></span>  
  
-   <span data-ttu-id="e6387-110">Oracle CDC 服務：這可以是安裝和執行 Oracle CDC 服務所在的任何支援的 Windows 電腦。</span><span class="sxs-lookup"><span data-stu-id="e6387-110">The Oracle CDC Service: This can be any supported Windows computer where the Oracle CDC Service is installed and run.</span></span> <span data-ttu-id="e6387-111">這個平台也可能代表 Microsoft 容錯移轉叢集中的叢集節點 (本文稍後會討論高可用性組態)。</span><span class="sxs-lookup"><span data-stu-id="e6387-111">This platform may also represent a cluster node in a Microsoft failover cluster (high availability configurations are discussed later in this document).</span></span>  
  
-   <span data-ttu-id="e6387-112">Oracle 資料庫：這可以是執行支援的 Oracle 資料庫版本所在的任何電腦。</span><span class="sxs-lookup"><span data-stu-id="e6387-112">The Oracle Database: This can be any computer where a supported version of the Oracle database runs.</span></span> <span data-ttu-id="e6387-113">其中包括執行 Windows、Linux 或是安裝之 Oracle 資料庫版本所支援的任何其他作業系統的電腦。</span><span class="sxs-lookup"><span data-stu-id="e6387-113">This includes any computer running Windows, Linux, or any other operating system supported by the version of the Oracle database installed.</span></span> <span data-ttu-id="e6387-114">請注意，此圖以複數形式顯示這個平台，因為單一 Oracle CDC 服務可以從多個來源 Oracle 資料庫擷取變更。</span><span class="sxs-lookup"><span data-stu-id="e6387-114">Note that the diagram shows this platform in plural because a single Oracle CDC Service can capture changes from multiple source Oracle databases.</span></span>  
  
-   <span data-ttu-id="e6387-115">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]：這可以是目標 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 資料庫 (執行支援的 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]SKU) 所在的任何電腦。</span><span class="sxs-lookup"><span data-stu-id="e6387-115">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]: This can be any computer where the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database (a supported SKU of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]) runs.</span></span> <span data-ttu-id="e6387-116">Oracle CDC 服務支援一個 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 目標，它會將變更資料表和服務組態儲存在此目標上。</span><span class="sxs-lookup"><span data-stu-id="e6387-116">An Oracle CDC Service supports one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] target where it stores change tables and service configuration.</span></span> <span data-ttu-id="e6387-117">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 平台也可能代表 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] 的叢集執行個體，或是使用 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] AlwaysOn **功能的** 鏡像執行個體。</span><span class="sxs-lookup"><span data-stu-id="e6387-117">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Platform may also represent a clustered instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] or a mirrored instance of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] using the **AlwaysOn** feature.</span></span>  
  
-   <span data-ttu-id="e6387-118">Oracle CDC 設計工具：這可以是可存取來源 Oracle 資料庫和目標 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 資料庫的任何支援的 Windows 電腦。</span><span class="sxs-lookup"><span data-stu-id="e6387-118">The Oracle CDC Designer: This can be any supported Windows computer that can access the source Oracle database and the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="e6387-119">下表描述在上述四個平台上執行的元件。</span><span class="sxs-lookup"><span data-stu-id="e6387-119">The following table describes the components that run on the four platforms described above.</span></span>  
  
|<span data-ttu-id="e6387-120">元件/描述</span><span class="sxs-lookup"><span data-stu-id="e6387-120">Component/Description</span></span>|<span data-ttu-id="e6387-121">元件的組成項目：</span><span class="sxs-lookup"><span data-stu-id="e6387-121">Component consists of:</span></span>|  
|----------------------------|----------------------------|  
|<span data-ttu-id="e6387-122">Oracle CDC 服務：這是異動資料擷取活動執行所在的 Windows 服務。</span><span class="sxs-lookup"><span data-stu-id="e6387-122">Oracle CDC Service: This is a Windows service where the change data capture activity takes place.</span></span>|<span data-ttu-id="e6387-123">Oracle CDC 執行個體：Oracle CDC 服務的一個子處理序，可處理單一來源 Oracle 資料庫的異動資料擷取活動 (每個來源 Oracle 資料庫有一個 Oracle CDC 執行個體)。</span><span class="sxs-lookup"><span data-stu-id="e6387-123">Oracle CDC Instance: A sub-process of the Oracle CDC Service that handles change data capture activity for a single source Oracle database (there is one Oracle CDC instance per source Oracle database).</span></span><br /><br /> <span data-ttu-id="e6387-124">Oracle 記錄讀取器：使用 Oracle 用戶端讀取 Oracle 交易記錄。</span><span class="sxs-lookup"><span data-stu-id="e6387-124">Oracle Log Reader: Reads Oracle transaction logs using the Oracle Client.</span></span><br /><br /> <span data-ttu-id="e6387-125">Oracle 用戶端：用於與 Oracle 通訊的 Oracle Instant Client。</span><span class="sxs-lookup"><span data-stu-id="e6387-125">Oracle Client: The Oracle Instant Client used for communication with Oracle.</span></span> <span data-ttu-id="e6387-126">這是應該從 Oracle 取得的必要元件，而且必須在安裝 Oracle CDC 服務之前安裝。</span><span class="sxs-lookup"><span data-stu-id="e6387-126">This is a prerequisite that should be obtained from Oracle and installed before installing the Oracle CDC Service.</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e6387-127">變更寫入器：這會將擷取的 Oracle 資料表所做的認可變更寫入 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]變更資料表。</span><span class="sxs-lookup"><span data-stu-id="e6387-127">Change Writer: This writes committed changes made to the captured Oracle table to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]change tables.</span></span> <span data-ttu-id="e6387-128">此元件也會在目標 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 資料庫中維護該擷取狀態。</span><span class="sxs-lookup"><span data-stu-id="e6387-128">This component also maintains that capture state within the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database.</span></span><br /><br /> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="e6387-129">ODBC 用戶端：Microsoft Native Client for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="e6387-129">ODBC Client: The Microsoft Native Client for [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="e6387-130">這是應該從 Microsoft 取得的必要元件，而且必須在安裝 Oracle CDC 服務之前安裝。</span><span class="sxs-lookup"><span data-stu-id="e6387-130">This is a prerequisite component that should be obtained from Microsoft and installed before installing the Oracle CDC Service.</span></span>|  
|<span data-ttu-id="e6387-131">Oracle CDC 服務組態：這是建立 Windows 服務並設定其組態的 Microsoft Management Console 嵌入式管理單元。</span><span class="sxs-lookup"><span data-stu-id="e6387-131">Oracle CDC Service Configuration: This is a Microsoft Management Console snap-in that creates the Windows service and sets up its configuration.</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e6387-132">用戶端：隨附在 .NET framework 版本 4 中的 SQL ADO.NET 用戶端。</span><span class="sxs-lookup"><span data-stu-id="e6387-132">Client: The SQL ADO.NET client that ships with version 4 of the .NET framework.</span></span>|  
|<span data-ttu-id="e6387-133">Oracle 資料庫：來源 Oracle 資料庫，可從中擷取選取資料表的變更。</span><span class="sxs-lookup"><span data-stu-id="e6387-133">Oracle Database: A source Oracle database from which changes to select tables are captured.</span></span>|<span data-ttu-id="e6387-134">記錄採礦器：一種 Oracle 元件，可透過此元件讀取 Oracle 交易記錄。</span><span class="sxs-lookup"><span data-stu-id="e6387-134">Log Miner: An Oracle component through which the Oracle transaction logs are read.</span></span><br /><br /> <span data-ttu-id="e6387-135">交易記錄：Oracle 所使用的線上和封存的 Oracle 重做記錄，以確保資料庫可以回復交易，並從失敗復原 (在此情況下，Oracle 資料庫必須在封存-記錄模式中操作)。</span><span class="sxs-lookup"><span data-stu-id="e6387-135">Transaction Logs: The online and archived Oracle Redo Logs that are used by Oracle to ensure that the database can roll back transactions and recover from failures (in this case, the Oracle database must operate in archive-log mode).</span></span>|  
|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e6387-136">執行個體：主控 CDC 資料庫的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e6387-136">Instance: A [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance where the CDC databases are hosted.</span></span> <span data-ttu-id="e6387-137">這可能是 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 叢集執行個體 (容錯移轉叢集) 或鏡像資料庫 (AlwaysOn)。</span><span class="sxs-lookup"><span data-stu-id="e6387-137">This may be a clustered [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance (failover cluster) or a mirrored database (AlwaysOn).</span></span>|<span data-ttu-id="e6387-138">MSXDBCDC 資料庫：用來保存與此 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體一起運作之 CDC 服務相關資訊的資料庫。</span><span class="sxs-lookup"><span data-stu-id="e6387-138">The MSXDBCDC Database: A database where information about the CDC Services working with this [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance is kept.</span></span> <span data-ttu-id="e6387-139">它也會保存有關每一個 CDC 服務所處理之 Oracle CDC 執行個體的資訊。</span><span class="sxs-lookup"><span data-stu-id="e6387-139">It also keeps information on the Oracle CDC Instances handled by each CDC Service.</span></span> <span data-ttu-id="e6387-140">這個資料庫會在建立 CDC 服務的過程中建立。</span><span class="sxs-lookup"><span data-stu-id="e6387-140">This database is created as part of the CDC Service creation process.</span></span><br /><br /> <span data-ttu-id="e6387-141">CDC 資料庫：儲存其中一個來源 Oracle 資料庫所做之變更的 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e6387-141">The CDC Databases: [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases that store changes made to one of the source Oracle databases.</span></span> <span data-ttu-id="e6387-142">CDC 資料庫會啟用 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC，好讓這些資料庫擁有 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC 資料表和函數，如此便可輕鬆地取用來自 Oracle 的變更。</span><span class="sxs-lookup"><span data-stu-id="e6387-142">The CDC Databases are enabled for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC so they have the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] CDC tables and functions, making it easy to consume changes originating from Oracle.</span></span>|  
|<span data-ttu-id="e6387-143">Oracle CDC 設計工具：可幫助建立 Oracle CDC 執行個體的 Microsoft Management Console 嵌入式管理單元。</span><span class="sxs-lookup"><span data-stu-id="e6387-143">Oracle CDC Designer: A Microsoft Management Console snap-in that helps create Oracle CDC Instances.</span></span> <span data-ttu-id="e6387-144">使用這個項目來選取要擷取的資料表和資料行、提供 Oracle 連接資訊及管理 CDC 執行個體的生命週期。</span><span class="sxs-lookup"><span data-stu-id="e6387-144">Use this to select the tables and columns to be captured, provide Oracle connection information and manage the life cycle of CDC Instances.</span></span>|[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="e6387-145">用戶端：隨附在 .NET framework 版本 4 中的 SQL ADO.NET 用戶端。</span><span class="sxs-lookup"><span data-stu-id="e6387-145">Client: The SQL ADO.NET client that ships with version 4 of the .NET framework.</span></span><br /><br /> <span data-ttu-id="e6387-146">Oracle 用戶端：用於與 Oracle 通訊的 Oracle Instant Client。</span><span class="sxs-lookup"><span data-stu-id="e6387-146">Oracle Client: The Oracle Instant Client used for communication with Oracle.</span></span> <span data-ttu-id="e6387-147">這是應該從 Oracle 取得的必要元件，而且必須在安裝 Oracle CDC 服務之前安裝。</span><span class="sxs-lookup"><span data-stu-id="e6387-147">This is a prerequisite component that should be obtained from Oracle and installed before installing the Oracle CDC Service.</span></span>|  
  
 <span data-ttu-id="e6387-148">Oracle CDC 服務和其子項 Oracle CDC 執行個體只能與來源 Oracle 資料庫及當做用戶端的目標 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體通訊。</span><span class="sxs-lookup"><span data-stu-id="e6387-148">The Oracle CDC Service and its child Oracle CDC Instances can communicate only with the source Oracle database(s) and the target [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance as clients.</span></span> <span data-ttu-id="e6387-149">它們不會主動接聽任何網路或其他通訊協定。</span><span class="sxs-lookup"><span data-stu-id="e6387-149">They do not actively listen on any network and other protocols.</span></span> <span data-ttu-id="e6387-150">Oracle CDC 服務會監控 CDC 資料庫中的組態變更，並根據更新的組態更新其作業。</span><span class="sxs-lookup"><span data-stu-id="e6387-150">The Oracle CDC Service monitors the CDC databases for configuration changes and updates its operation based on the updated configuration.</span></span>  
  
  
