---
title: 使用 Oracle CDC 服務 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: 04be5896-2301-45f5-a8ce-5f4ef2b69aa5
author: chugugrace
ms.author: chugu
ms.openlocfilehash: d1946e6b329bfbd0155123707a604e971cd7d65f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87585518"
---
# <a name="working-with-the-oracle-cdc-service"></a><span data-ttu-id="e10c4-102">使用 Oracle CDC 服務</span><span class="sxs-lookup"><span data-stu-id="e10c4-102">Working with the Oracle CDC Service</span></span>
  <span data-ttu-id="e10c4-103">本章節描述 Oracle CDC 服務的一些重要概念。</span><span class="sxs-lookup"><span data-stu-id="e10c4-103">This section describes some important concepts of the Oracle CDC Service.</span></span> <span data-ttu-id="e10c4-104">本章節包含的概念如下：</span><span class="sxs-lookup"><span data-stu-id="e10c4-104">The concepts included in this section are:</span></span>  
  
-   [<span data-ttu-id="e10c4-105">MSXDBCDC 資料庫</span><span class="sxs-lookup"><span data-stu-id="e10c4-105">The MSXDBCDC Database</span></span>](#BKMK_MSXDBCDC)  
  
     <span data-ttu-id="e10c4-106">本章節描述此資料庫中所包含的資料表以及這對於 CDC 的重要性。</span><span class="sxs-lookup"><span data-stu-id="e10c4-106">This section describes the tables that are included in this database and how it is important to CDC.</span></span>  
  
-   [<span data-ttu-id="e10c4-107">CDC 資料庫</span><span class="sxs-lookup"><span data-stu-id="e10c4-107">The CDC Databases</span></span>](#BKMK_CDCdatabase)  
  
     <span data-ttu-id="e10c4-108">本章節提供 CDC 資料庫的簡短描述。</span><span class="sxs-lookup"><span data-stu-id="e10c4-108">This section provides a brief description of the CDC databases.</span></span> <span data-ttu-id="e10c4-109">這些資料庫是使用 Oracle CDC 設計工具主控台所建立。</span><span class="sxs-lookup"><span data-stu-id="e10c4-109">These databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="e10c4-110">如需有關 CDC 資料庫的詳細資訊，請參閱 CDC 設計工具主控台安裝所隨附的文件集。</span><span class="sxs-lookup"><span data-stu-id="e10c4-110">See the documentation included with your installation of the CDC Designer Console for more information about the CDC databases.</span></span>  
  
-   [<span data-ttu-id="e10c4-111">使用命令列來設定 CDC 服務</span><span class="sxs-lookup"><span data-stu-id="e10c4-111">Using the Command Line to Configure the CDC Service</span></span>](#BKMK_CommandConfigCDC)  
  
     <span data-ttu-id="e10c4-112">本章節描述可用於設定 Oracle CDC 服務的命令列命令。</span><span class="sxs-lookup"><span data-stu-id="e10c4-112">This section describes the command-line commands that can be used to configure the Oracle CDC Service.</span></span>  
  
##  <a name="the-msxdbcdc-database"></a><a name="BKMK_MSXDBCDC"></a> <span data-ttu-id="e10c4-113">MSXDBCDC 資料庫</span><span class="sxs-lookup"><span data-stu-id="e10c4-113">The MSXDBCDC Database</span></span>  
 <span data-ttu-id="e10c4-114">MSXDBCDC (Microsoft 外部資料庫 CDC) 資料庫是一種特殊的資料庫，當搭配 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體使用 Oracle CDC 服務時便需要它。</span><span class="sxs-lookup"><span data-stu-id="e10c4-114">The MSXDBCDC (Microsoft External-Database CDC) database is a special database that is required when using the CDC Service for Oracle with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="e10c4-115">這個資料庫的名稱不得變更。</span><span class="sxs-lookup"><span data-stu-id="e10c4-115">The name of this database cannot be changed.</span></span> <span data-ttu-id="e10c4-116">如果名為 MSXDBCDC 的資料庫存在於主機 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體上而且包含 Oracle CDC 服務所定義之資料表以外的資料表，則不得使用主機 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-116">If a database called MSXDBCDC exists on the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and contains tables other than those defined by the CDC Service for Oracle, the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance cannot be used.</span></span>  
  
 <span data-ttu-id="e10c4-117">此資料庫的主要用途如下：</span><span class="sxs-lookup"><span data-stu-id="e10c4-117">The main uses for this database are to:</span></span>  
  
-   <span data-ttu-id="e10c4-118">當做與 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體關聯之 Oracle CDC 服務的登錄。</span><span class="sxs-lookup"><span data-stu-id="e10c4-118">Serve as a registry of Oracle CDC Services associated with a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-119">此資訊會用於服務組態和設計元件，以及支援協調不同節點上相同名稱的多個 CDC 服務 (其中有一個節點為使用中節點)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-119">This information is used for the service configuration and design components and to support coordination of multiple CDC services by the same name on different nodes over which one is the active one.</span></span>  
  
-   <span data-ttu-id="e10c4-120">當做 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體內包含之 Oracle CDC 執行個體的登錄，處理每一個執行個體以及每一個執行個體使用之組態版本的 CDC 服務。</span><span class="sxs-lookup"><span data-stu-id="e10c4-120">Serve as a registry of the Oracle CDC instances contained in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance, the CDC service that handles each instance, and the configuration version each uses.</span></span> <span data-ttu-id="e10c4-121">此資訊相當於 master 資料庫中 **sys.databases** 資料表內的 **is_cdc_enabled** 資料行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-121">This information is equivalent to the **is_cdc_enabled** column in the **sys.databases** table of the master database.</span></span> <span data-ttu-id="e10c4-122">CDC 服務會定期掃描 **dbo.xdbcdc_databases** 資料表，以識別對 CDC 組態或對擷取的執行個體清單所做的變更。</span><span class="sxs-lookup"><span data-stu-id="e10c4-122">The CDC service periodically scans the **dbo.xdbcdc_databases** table to identify changes made to the CDC configuration or to the list of captured instances.</span></span>  
  
-   <span data-ttu-id="e10c4-123">持有 **sysadmin**擁有的預存程序，有助於建立及維護 CDC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-123">Hold **sysadmin**-owned stored procedures that help create and maintain CDC instances.</span></span> <span data-ttu-id="e10c4-124">這些類似於用於實作 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CDC 功能的系統程序。</span><span class="sxs-lookup"><span data-stu-id="e10c4-124">These are similar to the system procedures that are used for the implementation of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] CDC feature.</span></span>  
  
### <a name="creating-the-msxdbcdc-database"></a><span data-ttu-id="e10c4-125">建立 MSXDBCDC 資料庫</span><span class="sxs-lookup"><span data-stu-id="e10c4-125">Creating the MSXDBCDC Database</span></span>  
 <span data-ttu-id="e10c4-126">在可以定義 Oracle CDC 服務之前，必須建立 MSXDBCDC 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e10c4-126">An MSXDBCDC database must be created before the Oracle CDC Service can be defined.</span></span> <span data-ttu-id="e10c4-127">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體上只能建立一個 MSXDBCDC 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e10c4-127">You can create only one MSXDBCDC database on a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-128">當您為 Oracle CDC 準備 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫時，便會建立 MSXDBCDC 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e10c4-128">The MSXDBCDC database is created when you prepare a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database for Oracle CDC.</span></span> <span data-ttu-id="e10c4-129">若要執行這項作業，請使用 Oracle CDC 服務組態主控台，或是執行 CDC 服務組態主控台所產生的建立指令碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-129">This can be done by using the Oracle CDC Service Configuration Console or by running a creation script that is generated by the CDC Service Configuration Console.</span></span>  
  
 <span data-ttu-id="e10c4-130">此資料庫的擁有者為 Oracle CDC 服務管理員，他可以控制在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體之下主控的所有 Oracle CDC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-130">The owner of this database is the Oracle CDC Service Administrator, who can control all of the Oracle CDC instances hosted under the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
 <span data-ttu-id="e10c4-131">**另請參閱：**</span><span class="sxs-lookup"><span data-stu-id="e10c4-131">**See also:**</span></span>  
  
 [<span data-ttu-id="e10c4-132">如何準備 SQL Server 以使用 CDC</span><span class="sxs-lookup"><span data-stu-id="e10c4-132">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  
  
### <a name="the-msxdbcdc-database-tables"></a><span data-ttu-id="e10c4-133">MSXDBCDC 資料庫資料表</span><span class="sxs-lookup"><span data-stu-id="e10c4-133">The MSXDBCDC Database Tables</span></span>  
 <span data-ttu-id="e10c4-134">本節描述 MSXDBCDC 資料庫中的以下資料表。</span><span class="sxs-lookup"><span data-stu-id="e10c4-134">This section describes the following tables in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="e10c4-135">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="e10c4-135">dbo.xdbcdc_trace</span></span>](#BKMK_dboxdbcdc_trace)  
  
-   [<span data-ttu-id="e10c4-136">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="e10c4-136">dbo.xdbcdc_databases</span></span>](#BKMK_dboxdbcdc_databases)  
  
-   [<span data-ttu-id="e10c4-137">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="e10c4-137">dbo.xdbcdc_services</span></span>](#BKMK_dboxdbcdc_services)  
  
###  <a name="dboxdbcdc_trace"></a><a name="BKMK_dboxdbcdc_trace"></a> <span data-ttu-id="e10c4-138">dbo.xdbcdc_trace</span><span class="sxs-lookup"><span data-stu-id="e10c4-138">dbo.xdbcdc_trace</span></span>  
 <span data-ttu-id="e10c4-139">此資料表會儲存 Oracle CDC 服務的追蹤資訊。</span><span class="sxs-lookup"><span data-stu-id="e10c4-139">This table stores tracing information for the Oracle CDC Service.</span></span> <span data-ttu-id="e10c4-140">儲存在這個資料表中的資訊包括顯著的狀態變更及追蹤記錄。</span><span class="sxs-lookup"><span data-stu-id="e10c4-140">The information stored in this table includes notable status changes and trace records.</span></span>  
  
 <span data-ttu-id="e10c4-141">Oracle CDC 服務會將錯誤記錄和某些資訊記錄寫入 Windows 事件記錄檔和追蹤資料表中。</span><span class="sxs-lookup"><span data-stu-id="e10c4-141">The Oracle CDC Service writes error records and some of the information records to both the Windows event log and the trace table.</span></span> <span data-ttu-id="e10c4-142">在某些情況下可能無法存取追蹤資料表，此時可從事件記錄檔存取錯誤資訊。</span><span class="sxs-lookup"><span data-stu-id="e10c4-142">In some cases the trace table may not be accessible, in which case the error information is accessible from the event log.</span></span>  
  
 <span data-ttu-id="e10c4-143">以下描述 **dbo.xdbcdc_trace** 資料表中包含的項目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-143">The following describes the items that are included in the **dbo.xdbcdc_trace** table.</span></span>  
  
|<span data-ttu-id="e10c4-144">Item</span><span class="sxs-lookup"><span data-stu-id="e10c4-144">Item</span></span>|<span data-ttu-id="e10c4-145">描述</span><span class="sxs-lookup"><span data-stu-id="e10c4-145">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="e10c4-146">timestamp</span><span class="sxs-lookup"><span data-stu-id="e10c4-146">timestamp</span></span>|<span data-ttu-id="e10c4-147">寫入追蹤記錄的精確 UTC 時間戳記。</span><span class="sxs-lookup"><span data-stu-id="e10c4-147">The exact UTC timestamp when the trace record was written.</span></span>|  
|<span data-ttu-id="e10c4-148">type</span><span class="sxs-lookup"><span data-stu-id="e10c4-148">type</span></span>|<span data-ttu-id="e10c4-149">包含下列其中一個值。</span><span class="sxs-lookup"><span data-stu-id="e10c4-149">Contains one of the following values.</span></span><br /><br /> <span data-ttu-id="e10c4-150">ERROR</span><span class="sxs-lookup"><span data-stu-id="e10c4-150">ERROR</span></span><br /><br /> <span data-ttu-id="e10c4-151">INFO</span><span class="sxs-lookup"><span data-stu-id="e10c4-151">INFO</span></span><br /><br /> <span data-ttu-id="e10c4-152">TRACE</span><span class="sxs-lookup"><span data-stu-id="e10c4-152">TRACE</span></span>|  
|<span data-ttu-id="e10c4-153">node</span><span class="sxs-lookup"><span data-stu-id="e10c4-153">node</span></span>|<span data-ttu-id="e10c4-154">寫入記錄的節點名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-154">The name of the node on which the record was written.</span></span>|  
|<span data-ttu-id="e10c4-155">status</span><span class="sxs-lookup"><span data-stu-id="e10c4-155">status</span></span>|<span data-ttu-id="e10c4-156">狀態資料表使用的狀態碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-156">The status code that is used by the state table.</span></span>|  
|<span data-ttu-id="e10c4-157">sub_status</span><span class="sxs-lookup"><span data-stu-id="e10c4-157">sub_status</span></span>|<span data-ttu-id="e10c4-158">狀態資料表使用的子狀態碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-158">The substatus code that is used by the state table.</span></span>|  
|<span data-ttu-id="e10c4-159">status_message</span><span class="sxs-lookup"><span data-stu-id="e10c4-159">status_message</span></span>|<span data-ttu-id="e10c4-160">狀態資料表使用的狀態訊息。</span><span class="sxs-lookup"><span data-stu-id="e10c4-160">The status message that is used by the state table.</span></span>|  
|<span data-ttu-id="e10c4-161">source</span><span class="sxs-lookup"><span data-stu-id="e10c4-161">source</span></span>|<span data-ttu-id="e10c4-162">產生追蹤記錄的 Oracle CDC 元件名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-162">The name of the Oracle CDC component that produced the trace record.</span></span>|  
|<span data-ttu-id="e10c4-163">text_data</span><span class="sxs-lookup"><span data-stu-id="e10c4-163">text_data</span></span>|<span data-ttu-id="e10c4-164">當錯誤或追蹤記錄包含文字裝載時的其他文字資料。</span><span class="sxs-lookup"><span data-stu-id="e10c4-164">Additional text data for cases when the error or trace record contains a textual payload.</span></span>|  
|<span data-ttu-id="e10c4-165">binary_data</span><span class="sxs-lookup"><span data-stu-id="e10c4-165">binary_data</span></span>|<span data-ttu-id="e10c4-166">當錯誤或追蹤記錄包含二進位裝載時的其他二進位資料。</span><span class="sxs-lookup"><span data-stu-id="e10c4-166">Additional binary data for cases when the error or trace record contains a binary payload.</span></span>|  
  
 <span data-ttu-id="e10c4-167">Oracle CDC 執行個體將會根據變更資料表保留原則來刪除舊的追蹤資料表資料列。</span><span class="sxs-lookup"><span data-stu-id="e10c4-167">The Oracle CDC instance will delete old trace table rows according to the change tables retention policy.</span></span>  
  
###  <a name="dboxdbcdc_databases"></a><a name="BKMK_dboxdbcdc_databases"></a> <span data-ttu-id="e10c4-168">dbo.xdbcdc_databases</span><span class="sxs-lookup"><span data-stu-id="e10c4-168">dbo.xdbcdc_databases</span></span>  
 <span data-ttu-id="e10c4-169">此資料表會包含目前 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體中 Oracle CDC 資料庫的 CDC 服務名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-169">This table contains the names of CDC Service for Oracle CDC databases in the current [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-170">每個資料庫都會對應到 Oracle CDC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-170">Each database corresponds to an Oracle CDC instance.</span></span> <span data-ttu-id="e10c4-171">Oracle CDC 服務會使用此資料表來判斷哪些執行個體要啟動或停止，以及哪些執行個體要重新設定。</span><span class="sxs-lookup"><span data-stu-id="e10c4-171">The Oracle CDC Service uses this table to determine which instances to start or stop and which instances to reconfigure.</span></span>  
  
 <span data-ttu-id="e10c4-172">下表描述 **dbo.xdbcdc_databases** 資料表中包含的項目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-172">The following table describes the items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="e10c4-173">Item</span><span class="sxs-lookup"><span data-stu-id="e10c4-173">Item</span></span>|<span data-ttu-id="e10c4-174">描述</span><span class="sxs-lookup"><span data-stu-id="e10c4-174">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="e10c4-175">NAME</span><span class="sxs-lookup"><span data-stu-id="e10c4-175">name</span></span>|<span data-ttu-id="e10c4-176">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體中 Oracle 資料庫的名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-176">The name of the Oracle database in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>|  
|<span data-ttu-id="e10c4-177">config_version</span><span class="sxs-lookup"><span data-stu-id="e10c4-177">config_version</span></span>|<span data-ttu-id="e10c4-178">對應 CDC 資料庫 **xdbcdc_config** 資料表中上次變更的時間戳記 (UTC)，或是此資料表中目前資料列的時間戳記 (UTC)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-178">The timestamp (UTC) for the last change in the corresponding CDC database **xdbcdc_config** table or the timestamp (UTC) for the current row in this table.</span></span><br /><br /> <span data-ttu-id="e10c4-179">UPDATE 觸發程序會針對這個項目強制使用 GETUTCDATE() 的值。</span><span class="sxs-lookup"><span data-stu-id="e10c4-179">The UPDATE trigger enforces a value of GETUTCDATE() for this item.</span></span> <span data-ttu-id="e10c4-180">**config_version** 可讓 CDC 服務識別需要檢查是否有組態變更或啟用/停用的 CDC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-180">**config_version** lets the CDC service identify the CDC instance that needs to be checked for configuration change or for enabling/disabling.</span></span>|  
|<span data-ttu-id="e10c4-181">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="e10c4-181">cdc_service_name</span></span>|<span data-ttu-id="e10c4-182">這個項目會判斷哪一個 Oracle CDC 服務處理選取的 Oracle 資料庫。</span><span class="sxs-lookup"><span data-stu-id="e10c4-182">This item determines which Oracle CDC Service handles the selected Oracle database.</span></span>|  
|<span data-ttu-id="e10c4-183">已啟用</span><span class="sxs-lookup"><span data-stu-id="e10c4-183">enabled</span></span>|<span data-ttu-id="e10c4-184">指出 Oracle CDC 執行個體為使用中 (1) 還是停用 (0) 狀態。</span><span class="sxs-lookup"><span data-stu-id="e10c4-184">Indicates whether the Oracle CDC instance is active (1) or disabled (0).</span></span> <span data-ttu-id="e10c4-185">當 Oracle CDC 服務啟動時，只會啟動標示為啟用 (1) 的執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-185">When the Oracle CDC Service starts only the instances marked enable (1) are started.</span></span><br /><br /> <span data-ttu-id="e10c4-186">**注意**：發生無法重試的錯誤時，Oracle CDC 執行個體可能會停用。</span><span class="sxs-lookup"><span data-stu-id="e10c4-186">**Note**: An Oracle CDC instance can become disabled due to an error that is not retryable.</span></span> <span data-ttu-id="e10c4-187">在此情況下，必須在解決錯誤之後手動重新啟動執行個體。</span><span class="sxs-lookup"><span data-stu-id="e10c4-187">In this case, the instance must be restarted manually after the error is resolved.</span></span>|  
  
###  <a name="dboxdbcdc_services"></a><a name="BKMK_dboxdbcdc_services"></a> <span data-ttu-id="e10c4-188">dbo.xdbcdc_services</span><span class="sxs-lookup"><span data-stu-id="e10c4-188">dbo.xdbcdc_services</span></span>  
 <span data-ttu-id="e10c4-189">此資料表列出與主機 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體相關聯的 CDC 服務。</span><span class="sxs-lookup"><span data-stu-id="e10c4-189">This table lists the CDC services associated with the host [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-190">CDC 設計工具主控台會使用此資料表來判斷針對本機 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體設定的 CDC 服務清單。</span><span class="sxs-lookup"><span data-stu-id="e10c4-190">This table is used by the CDC Designer Console to determine the list of CDC services that are configured for the local [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-191">CDC 服務也會使用此資料表來確保只有一個執行中的 Windows 服務會處理給定的 Oracle CDC 服務名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-191">It is also used by the CDC service to ensure that only one running Windows service handles a given Oracle CDC Service name.</span></span>  
  
 <span data-ttu-id="e10c4-192">以下描述 **dbo.xdbcdc_databases** 資料表中包含的擷取狀態項目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-192">The following describes the capture state items that are included in the **dbo.xdbcdc_databases** table.</span></span>  
  
|<span data-ttu-id="e10c4-193">Item</span><span class="sxs-lookup"><span data-stu-id="e10c4-193">Item</span></span>|<span data-ttu-id="e10c4-194">描述</span><span class="sxs-lookup"><span data-stu-id="e10c4-194">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="e10c4-195">cdc_service_name</span><span class="sxs-lookup"><span data-stu-id="e10c4-195">cdc_service_name</span></span>|<span data-ttu-id="e10c4-196">Oracle CDC 服務的名稱 (Windows 服務名稱)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-196">The name of the Oracle CDC Service (the Windows service name).</span></span>|  
|<span data-ttu-id="e10c4-197">cdc_service_sql_login</span><span class="sxs-lookup"><span data-stu-id="e10c4-197">cdc_service_sql_login</span></span>|<span data-ttu-id="e10c4-198">Oracle CDC 服務為了連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體所使用的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 登入名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-198">The name of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] login used by the Oracle CDC Service to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-199">隨即建立名為 cdc_service 的新 SQL 使用者並與這個登入名稱產生關聯，然後針對此服務處理的每一個 CDC 資料庫，將此使用者當做 db_ddladmin、db_datareader 和 db_datawriter 固定資料庫角色的成員加入。</span><span class="sxs-lookup"><span data-stu-id="e10c4-199">A new SQL User named cdc_service is created and associated with this login name and is then added as a member of the db_ddladmin, db_datareader and db_datawriter fixed database roles for each CDC database handled by the service.</span></span>|  
|<span data-ttu-id="e10c4-200">ref_count</span><span class="sxs-lookup"><span data-stu-id="e10c4-200">ref_count</span></span>|<span data-ttu-id="e10c4-201">這個項目會計算安裝相同 Oracle CDC 服務的電腦數目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-201">This item counts the number of machines where the same Oracle CDC Service is installed.</span></span> <span data-ttu-id="e10c4-202">每次加入相同名稱的 Oracle CDC 服務時，這個數目就會遞增，每當移除這類服務時，這個數目就會遞減。</span><span class="sxs-lookup"><span data-stu-id="e10c4-202">It gets incremented with each addition of same-named Oracle CDC service, and it is decremented when such a service is removed.</span></span> <span data-ttu-id="e10c4-203">當計數器到達零時，這個資料列會遭到刪除。</span><span class="sxs-lookup"><span data-stu-id="e10c4-203">When the counter reaches zero, this row is deleted.</span></span>|  
|<span data-ttu-id="e10c4-204">active_service_node</span><span class="sxs-lookup"><span data-stu-id="e10c4-204">active_service_node</span></span>|<span data-ttu-id="e10c4-205">目前處理 CDC 服務的 Windows 節點名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-205">The name of the Windows node that currently handles the CDC service.</span></span> <span data-ttu-id="e10c4-206">當此服務正確停止時，這個資料行會設定為 null，表示不再有使用中的服務。</span><span class="sxs-lookup"><span data-stu-id="e10c4-206">When the service is stopped correctly, this column is set to null, indicating that there is no longer an active service.</span></span>|  
|<span data-ttu-id="e10c4-207">active_service_heartbeat</span><span class="sxs-lookup"><span data-stu-id="e10c4-207">active_service_heartbeat</span></span>|<span data-ttu-id="e10c4-208">這個項目會追蹤目前的 CDC 服務來判斷它是否依然使用中。</span><span class="sxs-lookup"><span data-stu-id="e10c4-208">This item tracks the current CDC service to determine if it still active.</span></span><br /><br /> <span data-ttu-id="e10c4-209">對於固定間隔的使用中 CDC 服務而言，將會使用目前資料庫 UTC 時間戳記來更新這個項目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-209">This item is updated with the current database UTC timestamp for the active CDC service at regular intervals.</span></span> <span data-ttu-id="e10c4-210">預設間隔為 30 秒，但是可以設定間隔。</span><span class="sxs-lookup"><span data-stu-id="e10c4-210">The default interval is 30 seconds, however the interval is configurable.</span></span><br /><br /> <span data-ttu-id="e10c4-211">當暫止的 CDC 服務偵測到經過設定的間隔時間後並未更新活動訊號時，暫止的服務會嘗試接管使用中的 CDC 服務角色。</span><span class="sxs-lookup"><span data-stu-id="e10c4-211">When a pending CDC service detects that the heartbeat was not updated after the configured interval has passed, the pending service attempts to take over the active CDC service role.</span></span>|  
|<span data-ttu-id="e10c4-212">選項</span><span class="sxs-lookup"><span data-stu-id="e10c4-212">options</span></span>|<span data-ttu-id="e10c4-213">這個項目會指定次要選項，例如追蹤或微調。</span><span class="sxs-lookup"><span data-stu-id="e10c4-213">This item specifies the secondary options, such as tracing or tuning.</span></span> <span data-ttu-id="e10c4-214">它會以 **name[=value][; ]** 格式寫入。</span><span class="sxs-lookup"><span data-stu-id="e10c4-214">It is written in the form of **name[=value][; ]**.</span></span> <span data-ttu-id="e10c4-215">選項字串會使用與 ODBC 連接字串相同的語意。</span><span class="sxs-lookup"><span data-stu-id="e10c4-215">The options string uses the same semantics as the ODBC connection string.</span></span> <span data-ttu-id="e10c4-216">如果選項為布林值 (值為是/否)，此值只能包含名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-216">If the option is Boolean (with a value of yes/no), the value can include the name only.</span></span><br /><br /> <span data-ttu-id="e10c4-217">追蹤具有下列可能的值：</span><span class="sxs-lookup"><span data-stu-id="e10c4-217">trace has the following possible values:</span></span><br /><br /> <span data-ttu-id="e10c4-218">true</span><span class="sxs-lookup"><span data-stu-id="e10c4-218">true</span></span><br /><br /> <span data-ttu-id="e10c4-219">on</span><span class="sxs-lookup"><span data-stu-id="e10c4-219">on</span></span><br /><br /> <span data-ttu-id="e10c4-220">false</span><span class="sxs-lookup"><span data-stu-id="e10c4-220">false</span></span><br /><br /> <span data-ttu-id="e10c4-221">關</span><span class="sxs-lookup"><span data-stu-id="e10c4-221">off</span></span><br /><br /> <span data-ttu-id="e10c4-222">\<class name>[,類別名稱>]</span><span class="sxs-lookup"><span data-stu-id="e10c4-222">\<class name>[,class name>]</span></span><br /><br /> <span data-ttu-id="e10c4-223">預設值為 **false**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-223">The default value is **false**.</span></span><br /><br /> <br /><br /> <span data-ttu-id="e10c4-224">**service_heartbeat_interval** 是此服務更新 active_service_heartbeat 資料行的時間間隔 (以秒數為單位)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-224">**service_heartbeat_interval** is the time interval (in seconds) for the service to update the active_service_heartbeat column.</span></span> <span data-ttu-id="e10c4-225">預設值是 **30**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-225">The default value is **30**.</span></span> <span data-ttu-id="e10c4-226">最大值為 **3600**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-226">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="e10c4-227">**service_config_polling_interval** 是 CDC 服務檢查組態變更的輪詢間隔 (以秒數為單位)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-227">**service_config_polling_interval** is the polling interval (in seconds) for the CDC service to check for configuration changes.</span></span> <span data-ttu-id="e10c4-228">預設值是 **30**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-228">The default value is **30**.</span></span> <span data-ttu-id="e10c4-229">最大值為 **3600**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-229">The maximum value is **3600**.</span></span><br /><br /> <span data-ttu-id="e10c4-230">**sql_command_timeout** 是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]所使用的命令逾時。</span><span class="sxs-lookup"><span data-stu-id="e10c4-230">**sql_command_timeout** is the command timeout that works with the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="e10c4-231">預設值是 **1**秒。</span><span class="sxs-lookup"><span data-stu-id="e10c4-231">The default value is **1**.</span></span> <span data-ttu-id="e10c4-232">最大值為 **3600**。</span><span class="sxs-lookup"><span data-stu-id="e10c4-232">The maximum value is **3600**.</span></span>|  
||  
  
### <a name="the-msxdbcdc-database-stored-procedures"></a><span data-ttu-id="e10c4-233">MSXDBCDC 資料庫預存程序</span><span class="sxs-lookup"><span data-stu-id="e10c4-233">The MSXDBCDC Database Stored Procedures</span></span>  
 <span data-ttu-id="e10c4-234">本節描述 MSXDBCDC 資料庫中的以下預存程序。</span><span class="sxs-lookup"><span data-stu-id="e10c4-234">This section describes the following stored procedures in the MSXDBCDC database.</span></span>  
  
-   [<span data-ttu-id="e10c4-235">dbo.xcbcdc_reset_db(資料庫名稱)</span><span class="sxs-lookup"><span data-stu-id="e10c4-235">dbo.xcbcdc_reset_db(Database Name)</span></span>](#BKMK_dboxcbcdc_reset_db)  
  
-   [<span data-ttu-id="e10c4-236">dbo.xdbcdc_disable_db(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-236">dbo.xdbcdc_disable_db(dbname)</span></span>](#BKMK_dboxdbcdc_disable_db)  
  
-   [<span data-ttu-id="e10c4-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="e10c4-237">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>](#BKMK_dboxcbcdc_add_service)  
  
-   [<span data-ttu-id="e10c4-238">dbo.xdbcdc_start(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-238">dbo.xdbcdc_start(dbname)</span></span>](#BKMK_dboxdbcdc_start)  
  
-   [<span data-ttu-id="e10c4-239">dbo.xdbcdc_stop(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-239">dbo.xdbcdc_stop(dbname)</span></span>](#BKMK_dboxdbcdc_stop)  
  
###  <a name="dboxcbcdc_reset_dbdatabase-name"></a><a name="BKMK_dboxcbcdc_reset_db"></a> <span data-ttu-id="e10c4-240">dbo.xcbcdc_reset_db(資料庫名稱)</span><span class="sxs-lookup"><span data-stu-id="e10c4-240">dbo.xcbcdc_reset_db(Database Name)</span></span>  
 <span data-ttu-id="e10c4-241">此程序會清除 Oracle CDC 執行個體的資料。</span><span class="sxs-lookup"><span data-stu-id="e10c4-241">This procedure clears the data of an Oracle CDC instance.</span></span> <span data-ttu-id="e10c4-242">其用途如下：</span><span class="sxs-lookup"><span data-stu-id="e10c4-242">It is used:</span></span>  
  
-   <span data-ttu-id="e10c4-243">為了重新開始資料擷取並忽略之前的資料，例如在來源資料庫復原之後，或是在某些 Oracle 交易記錄無法使用而停止活動之後。</span><span class="sxs-lookup"><span data-stu-id="e10c4-243">To restart data capturing while disregarding previous data, for example following source database recovery or following inactivity where some of the Oracle transaction logs are not available.</span></span>  
  
-   <span data-ttu-id="e10c4-244">當 CDC 狀態中有損毀情況時 (特別是在任何 cdc.\*tables 資料中)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-244">When there is a corruption in the CDC state (specifically in the any cdc.\*tables data).</span></span>  
  
 <span data-ttu-id="e10c4-245">**dbo.xcbcdc_reset_db** 程序會執行以下工作：</span><span class="sxs-lookup"><span data-stu-id="e10c4-245">The **dbo.xcbcdc_reset_db** procedure performs the following tasks:</span></span>  
  
-   <span data-ttu-id="e10c4-246">停止 CDC 執行個體 (若為使用中)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-246">Stops the CDC instance (if active).</span></span>  
  
-   <span data-ttu-id="e10c4-247">截斷變更資料表： **cdc_lsn_mapping** 資料表和 **cdc_ddl_history** 資料表。</span><span class="sxs-lookup"><span data-stu-id="e10c4-247">Truncates the change tables, the **cdc_lsn_mapping** table, and the **cdc_ddl_history** table.</span></span>  
  
-   <span data-ttu-id="e10c4-248">清除 **cdc_xdbcdc_state** 資料表。</span><span class="sxs-lookup"><span data-stu-id="e10c4-248">Clears the **cdc_xdbcdc_state** table.</span></span>  
  
-   <span data-ttu-id="e10c4-249">清除 **cdc_change_table**之每一個資料列的 start_lsn 資料行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-249">Clears the start_lsn column for each row of the **cdc_change_table**.</span></span>  
  
 <span data-ttu-id="e10c4-250">若要使用 **dbo.xcbcdc_reset_db** 程序，使用者必須是所指名之 CDC 執行個體資料庫的 **db_owner** 資料庫角色成員，或是 **sysadmin** 或 **serveradmin** 固定伺服器角色的成員。</span><span class="sxs-lookup"><span data-stu-id="e10c4-250">To use the **dbo.xcbcdc_reset_db** procedure, the user must be a member of the **db_owner** database role for the CDC Instance database being named or else member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="e10c4-251">如需 CDC 資料表的詳細資訊，請參閱 CDC 設計工具主控台中說明系統內的 *CDC 資料庫* 。</span><span class="sxs-lookup"><span data-stu-id="e10c4-251">For more information about the CDC tables, see *The CDC Databases* in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxdbcdc_disable_dbdbname"></a><a name="BKMK_dboxdbcdc_disable_db"></a> <span data-ttu-id="e10c4-252">dbo.xdbcdc_disable_db(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-252">dbo.xdbcdc_disable_db(dbname)</span></span>  
 <span data-ttu-id="e10c4-253">**dbo.xcbcdc_disable_db** 程序會執行以下工作：</span><span class="sxs-lookup"><span data-stu-id="e10c4-253">The **dbo.xcbcdc_disable_db** procedure performs the following task:</span></span>  
  
-   <span data-ttu-id="e10c4-254">移除選定 CDC 資料庫中 MSXDBCDC.xdbcdc_databases 資料表的項目。</span><span class="sxs-lookup"><span data-stu-id="e10c4-254">Removes the entry for the selected CDC database in the MSXDBCDC.xdbcdc_databases table.</span></span>  
  
 <span data-ttu-id="e10c4-255">若要使用 **dbo.xcbcdc_disable_db** 程序，使用者必須是所指名之 CDC 執行個體的 **db_owner** 資料庫角色成員，或是 **sysadmin** 或 **serveradmin** 固定伺服器角色的成員。</span><span class="sxs-lookup"><span data-stu-id="e10c4-255">To use the **dbo.xcbcdc_disable_db** procedure, the user must be a member of the **db_owner** database role for the CDC instance being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
 <span data-ttu-id="e10c4-256">如需有關 CDC 資料表的詳細資訊，請參閱 CDC 設計工具主控台中說明系統內的＜CDC 資料庫＞。</span><span class="sxs-lookup"><span data-stu-id="e10c4-256">For more information about the CDC tables, see The CDC Databases in the help system in the CDC Designer Console.</span></span>  
  
###  <a name="dboxcbcdc_add_servicesvcnamesqlusr"></a><a name="BKMK_dboxcbcdc_add_service"></a> <span data-ttu-id="e10c4-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span><span class="sxs-lookup"><span data-stu-id="e10c4-257">dbo.xcbcdc_add_service(svcname,sqlusr)</span></span>  
 <span data-ttu-id="e10c4-258">**dbo.xcbcdc_add_service** 程序會將項目加入至 **MSXDBCDC.xdbcdc_services** 資料表，並針對 **MSXDBCDC.xdbcdc_services** 資料表中的服務名稱將 1 的遞增值加入 ref_count 資料行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-258">The **dbo.xcbcdc_add_service** procedure adds an entry to the **MSXDBCDC.xdbcdc_services** table and adds an increment of one to the ref_count column for the service name in the **MSXDBCDC.xdbcdc_services** table.</span></span> <span data-ttu-id="e10c4-259">當 **ref_count** 為 0 時，它會刪除資料列。</span><span class="sxs-lookup"><span data-stu-id="e10c4-259">When the **ref_count** is 0, it deletes the row.</span></span>  
  
 <span data-ttu-id="e10c4-260">若要使用 **dbo.xcbcdc_add_service\<service name, username>** 程序，使用者必須是所指名 CDC 執行個體資料庫的 **db_owner** 資料庫角色成員，或 **sysadmin** 或 **serveradmin** 固定伺服器角色的成員。</span><span class="sxs-lookup"><span data-stu-id="e10c4-260">To use the **dbo.xcbcdc_add_service\<service name, username>** procedure, the user must be a member of the **db_owner** database role for the CDC instance database being named or a member of the **sysadmin** or **serveradmin** fixed server role.</span></span>  
  
###  <a name="dboxdbcdc_startdbname"></a><a name="BKMK_dboxdbcdc_start"></a> <span data-ttu-id="e10c4-261">dbo.xdbcdc_start(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-261">dbo.xdbcdc_start(dbname)</span></span>  
 <span data-ttu-id="e10c4-262">**dbo.xdbcdc_start** 程序會傳送啟動要求給 CDC 服務，此服務會處理選取的 CDC 執行個體來開始變更處理。</span><span class="sxs-lookup"><span data-stu-id="e10c4-262">The **dbo.xdbcdc_start** procedure sends a start request to the CDC service that handles the selected CDC instance to start the change processing.</span></span>  
  
 <span data-ttu-id="e10c4-263">若要使用 **dbo.xcdcdc_start** 程序，使用者必須是 CDC 資料庫的 **db_owner** 資料庫角色成員，或是 **執行個體之** sysadmin **或** serveradmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 角色的成員。</span><span class="sxs-lookup"><span data-stu-id="e10c4-263">To use the **dbo.xcdcdc_start** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
###  <a name="dboxdbcdc_stopdbname"></a><a name="BKMK_dboxdbcdc_stop"></a> <span data-ttu-id="e10c4-264">dbo.xdbcdc_stop(dbname)</span><span class="sxs-lookup"><span data-stu-id="e10c4-264">dbo.xdbcdc_stop(dbname)</span></span>  
 <span data-ttu-id="e10c4-265">**dbo.xdbcdc_stop** 程序會傳送停止要求給 CDC 服務，此服務會處理選取的 CDC 執行個體來停止變更處理。</span><span class="sxs-lookup"><span data-stu-id="e10c4-265">The **dbo.xdbcdc_stop** procedure sends a stop request to the CDC service that handles the selected CDC instance to stop the change processing.</span></span>  
  
 <span data-ttu-id="e10c4-266">若要使用 **dbo.xcdcdc_stop** 程序，使用者必須是 CDC 資料庫的 **db_owner** 資料庫角色成員，或是 **執行個體之** sysadmin **或** serveradmin [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 角色的成員。</span><span class="sxs-lookup"><span data-stu-id="e10c4-266">To use the **dbo.xcdcdc_stop** procedure, the user must be a member of the **db_owner** database role for the CDC database or be a member of either the **sysadmin** or **serveradmin** roles for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span>  
  
##  <a name="the-cdc-databases"></a><a name="BKMK_CDCdatabase"></a> <span data-ttu-id="e10c4-267">CDC 資料庫</span><span class="sxs-lookup"><span data-stu-id="e10c4-267">The CDC Databases</span></span>  
 <span data-ttu-id="e10c4-268">CDC 服務中使用的每一個 Oracle CDC 執行個體都與稱為 CDC 資料庫的特定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫有關聯。</span><span class="sxs-lookup"><span data-stu-id="e10c4-268">Each Oracle CDC instance used in a CDC service is associated with a specific [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database called the CDC Database.</span></span> <span data-ttu-id="e10c4-269">這個 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫會在與 Oracle CDC 服務相關聯的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體中主控。</span><span class="sxs-lookup"><span data-stu-id="e10c4-269">This [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database is hosted in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance associated with the Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="e10c4-270">CDC 資料庫包含特殊的 cdc 結構描述。</span><span class="sxs-lookup"><span data-stu-id="e10c4-270">The CDC Database contains a special cdc schema.</span></span> <span data-ttu-id="e10c4-271">Oracle CDC 服務會搭配前置詞為 **xdbcdc_** 的資料表名稱使用這個結構描述。</span><span class="sxs-lookup"><span data-stu-id="e10c4-271">The Oracle CDC Service uses this schema with table names with the prefix **xdbcdc_**.</span></span> <span data-ttu-id="e10c4-272">此結構描述的用途是為了安全性和一致性。</span><span class="sxs-lookup"><span data-stu-id="e10c4-272">This schema is used for security and consistency purposes.</span></span>  
  
 <span data-ttu-id="e10c4-273">Oracle CDC 執行個體和 CDC 資料庫都是使用 Oracle CDC 設計工具主控台所建立。</span><span class="sxs-lookup"><span data-stu-id="e10c4-273">Both the Oracle CDC instance and the CDC databases are created using the Oracle CDC Designer Console.</span></span> <span data-ttu-id="e10c4-274">如需有關 CDC 資料庫的詳細資訊，請參閱 Oracle CDC 設計工具主控台安裝所隨附的文件集。</span><span class="sxs-lookup"><span data-stu-id="e10c4-274">For more information about the CDC databases, see the documentation included with your installation of the Oracle CDC Designer Console.</span></span>  
  
##  <a name="using-the-command-line-to-configure-the-cdc-service"></a><a name="BKMK_CommandConfigCDC"></a> <span data-ttu-id="e10c4-275">使用命令列來設定 CDC 服務</span><span class="sxs-lookup"><span data-stu-id="e10c4-275">Using the Command Line to Configure the CDC Service</span></span>  
 <span data-ttu-id="e10c4-276">您可以從命令列操作 Oracle CDC 服務程式 (xdbcdcsvc.exe)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-276">You can operate the Oracle CDC Service program (xdbcdcsvc.exe) from the command line.</span></span> <span data-ttu-id="e10c4-277">CDC 服務程式是原生 32 位元/64 位元的 Windows 可執行檔。</span><span class="sxs-lookup"><span data-stu-id="e10c4-277">The CDC service program is a native 32-bit/64-bit Windows executable file.</span></span>  
  
 <span data-ttu-id="e10c4-278">**另請參閱**</span><span class="sxs-lookup"><span data-stu-id="e10c4-278">**See also**</span></span>  
  
 [<span data-ttu-id="e10c4-279">如何使用 CDC 服務命令列介面</span><span class="sxs-lookup"><span data-stu-id="e10c4-279">How to Use the CDC Service Command-Line Interface</span></span>](how-to-use-the-cdc-service-command-line-interface.md)  
  
### <a name="service-program-commands"></a><span data-ttu-id="e10c4-280">服務程式命令</span><span class="sxs-lookup"><span data-stu-id="e10c4-280">Service Program Commands</span></span>  
 <span data-ttu-id="e10c4-281">本章節描述用來設定 CDC 服務的以下命令。</span><span class="sxs-lookup"><span data-stu-id="e10c4-281">The section describes the following commands that are used to configure the CDC service.</span></span>  
  
-   [<span data-ttu-id="e10c4-282">Config</span><span class="sxs-lookup"><span data-stu-id="e10c4-282">Config</span></span>](#BKMK_config)  
  
-   [<span data-ttu-id="e10c4-283">建立</span><span class="sxs-lookup"><span data-stu-id="e10c4-283">Create</span></span>](#BKMK_create)  
  
-   [<span data-ttu-id="e10c4-284">刪除</span><span class="sxs-lookup"><span data-stu-id="e10c4-284">Delete</span></span>](#BKMK_delete)  
  
###  <a name="config"></a><a name="BKMK_config"></a> <span data-ttu-id="e10c4-285">Config</span><span class="sxs-lookup"><span data-stu-id="e10c4-285">Config</span></span>  
 <span data-ttu-id="e10c4-286">使用 `Config` 可從指令碼更新 Oracle CDC 服務組態。</span><span class="sxs-lookup"><span data-stu-id="e10c4-286">Use `Config` to update an Oracle CDC Service configuration from a script.</span></span> <span data-ttu-id="e10c4-287">此命令只能用於更新 CDC 服務組態的特定部分 (例如，只有連接字串，而不知道非對稱金鑰密碼)。</span><span class="sxs-lookup"><span data-stu-id="e10c4-287">The command can be used to update only specific parts of the CDC service configuration (for example, only the connection string without knowing the asymmetric key password).</span></span> <span data-ttu-id="e10c4-288">此命令必須由電腦管理員執行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-288">The command must be run by a computer administrator.</span></span> <span data-ttu-id="e10c4-289">以下是 `Config` 命令的範例。</span><span class="sxs-lookup"><span data-stu-id="e10c4-289">The following is an example of the `Config` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" config  
     <cdc-service-name>  
     [connect= <sql-server-connection-string>]  
     [key= <asym-key-password>]  
     [svcacct= <windows-account> <windows-password>]  
     [sqlacct= <sql-username> <sql-password>]  
  
```  
  
 <span data-ttu-id="e10c4-290">其中：</span><span class="sxs-lookup"><span data-stu-id="e10c4-290">Where:</span></span>  
  
 <span data-ttu-id="e10c4-291">**cdc-service-name** 是要更新的 CDC 服務名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-291">**cdc-service-name** is the name of the CDC service to be updated.</span></span> <span data-ttu-id="e10c4-292">這是必要參數。</span><span class="sxs-lookup"><span data-stu-id="e10c4-292">This is a required parameter.</span></span>  
  
 <span data-ttu-id="e10c4-293">**sql-server-connection-string** 是要更新的連接字串。</span><span class="sxs-lookup"><span data-stu-id="e10c4-293">**sql-server-connection-string** is the connect string to be updated.</span></span> <span data-ttu-id="e10c4-294">如果連接字串包含空格或引號，則必須用雙引號 (") 括住。</span><span class="sxs-lookup"><span data-stu-id="e10c4-294">If the connect string contains spaces or quotes then it must be wrapped in double-quotation marks (").</span></span> <span data-ttu-id="e10c4-295">放置兩個引號會讓內嵌引號逸出。</span><span class="sxs-lookup"><span data-stu-id="e10c4-295">Embedded quotes are escaped by doubling the quotation marks.</span></span>  
  
 <span data-ttu-id="e10c4-296">**asym-key-password** 是要更新的密碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-296">**asym-key-password** is the password to be updated.</span></span>  
  
 <span data-ttu-id="e10c4-297">**windows-account**和 **windows-password** 為正在更新之服務的 Windows 帳戶認證。</span><span class="sxs-lookup"><span data-stu-id="e10c4-297">**windows-account**, **windows-password** are the Windows account credentials for the service that is being updated.</span></span>  
  
 <span data-ttu-id="e10c4-298">**sql-username**和 **sql-password** 為正在更新的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 驗證認證。</span><span class="sxs-lookup"><span data-stu-id="e10c4-298">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] authentication credentials being updated.</span></span> <span data-ttu-id="e10c4-299">如果 sqlacct 同時有空的使用者名稱和空的密碼，Oracle CDC 服務會使用 Windows 驗證連接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="e10c4-299">If sqlacct has both an empty username and empty password, then the Oracle CDC Service connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="e10c4-300">**注意**：必須用雙引號 (") 括住任何包含空格或雙引號的參數。</span><span class="sxs-lookup"><span data-stu-id="e10c4-300">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="e10c4-301">內嵌雙引號必須成對 (例如，若要使用 **"A#B" D** 當作密碼，請輸入 **""A#B"" D"** )。</span><span class="sxs-lookup"><span data-stu-id="e10c4-301">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
###  <a name="create"></a><a name="BKMK_create"></a> <span data-ttu-id="e10c4-302">建立</span><span class="sxs-lookup"><span data-stu-id="e10c4-302">Create</span></span>  
 <span data-ttu-id="e10c4-303">使用 `Create` 可從指令碼建立 Oracle CDC 服務。</span><span class="sxs-lookup"><span data-stu-id="e10c4-303">Use `Create` to create an Oracle CDC Service from a script.</span></span> <span data-ttu-id="e10c4-304">此命令必須由電腦管理員執行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-304">The command must be run by a computer administrator.</span></span> <span data-ttu-id="e10c4-305">以下是 `Create` 命令的範例：</span><span class="sxs-lookup"><span data-stu-id="e10c4-305">The following is an example of the `Create` command:</span></span>  
  
```  
"<path>xdbcdcsvc.exe" create  
     <cdc-service-name>  
     [connect= "<sql-server-connection-string>"]  
     [key= <asym-key-password>]  
     [svcacct <windows-account> <windows-password>]  
     [sqlacct <sql-username> <sql-password>]  
```  
  
 <span data-ttu-id="e10c4-306">其中：</span><span class="sxs-lookup"><span data-stu-id="e10c4-306">Where:</span></span>  
  
 <span data-ttu-id="e10c4-307">**cdc-service-name** 是新建立服務的名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-307">**cdc-service-name** is the name of the newly created service.</span></span> <span data-ttu-id="e10c4-308">如果已經有這個名稱的服務，此程式會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="e10c4-308">If there is already a service with this name, the program returns an error.</span></span> <span data-ttu-id="e10c4-309">您不應該使用完整名稱或是有空格的名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-309">You should not use long names or names with spaces.</span></span> <span data-ttu-id="e10c4-310">"/" 和 "\\" 字元在服務名稱中是無效的字元。</span><span class="sxs-lookup"><span data-stu-id="e10c4-310">The characters "/" and "\\" are not valid characters in a service name.</span></span> <span data-ttu-id="e10c4-311">這是必要參數。</span><span class="sxs-lookup"><span data-stu-id="e10c4-311">This is a required parameter.</span></span>  
  
 <span data-ttu-id="e10c4-312">**sql-server-connection-string** 是用來連接與新 Oracle CDC 服務相關聯之 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體的連接字串。</span><span class="sxs-lookup"><span data-stu-id="e10c4-312">**sql-server-connection-string** is the connect string to use to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance that is associated with the new Oracle CDC Service.</span></span>  
  
 <span data-ttu-id="e10c4-313">**asym-key-password** 是保護非對稱金鑰的密碼，該金鑰是用來儲存來源資料庫的記錄採礦認證。</span><span class="sxs-lookup"><span data-stu-id="e10c4-313">**asym-key-password** is the password that protects the asymmetric key used for storing the source database log-mining credentials.</span></span>  
  
 <span data-ttu-id="e10c4-314">**windows-account**和 **windows-password** 是與所建立之 Oracle CDC 服務相關聯的帳戶名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-314">**windows-account**, **windows-password** are the account name and password associated with the Oracle CDC Service being created.</span></span>  
  
 <span data-ttu-id="e10c4-315">**sql-username**和 **sql-password** 是用來連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 帳戶名稱和密碼。</span><span class="sxs-lookup"><span data-stu-id="e10c4-315">**sql-username**, **sql-password** are the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] account name and password used to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="e10c4-316">如果這兩個參數都是空的，則 Oracle CDC 服務會使用 Windows 驗證連接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="e10c4-316">If both of these parameters are empty, then CDC Service for Oracle connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using Windows authentication.</span></span>  
  
 <span data-ttu-id="e10c4-317">**注意**：必須用雙引號 (") 括住任何包含空格或雙引號的參數。</span><span class="sxs-lookup"><span data-stu-id="e10c4-317">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="e10c4-318">內嵌雙引號必須成對 (例如，若要使用 **"A#B" D** 當作密碼，請輸入 **""A#B"" D"** )。</span><span class="sxs-lookup"><span data-stu-id="e10c4-318">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**.</span></span>  
  
###  <a name="delete"></a><a name="BKMK_delete"></a> <span data-ttu-id="e10c4-319">Delete</span><span class="sxs-lookup"><span data-stu-id="e10c4-319">Delete</span></span>  
 <span data-ttu-id="e10c4-320">使用 `Delete` 可從指令碼完全刪除 Oracle CDC 服務。</span><span class="sxs-lookup"><span data-stu-id="e10c4-320">Use `Delete` to cleanly delete the Oracle CDC Service from a script.</span></span> <span data-ttu-id="e10c4-321">此命令必須由電腦管理員執行。</span><span class="sxs-lookup"><span data-stu-id="e10c4-321">This command must be run by a computer administrator.</span></span> <span data-ttu-id="e10c4-322">以下是 `Delete` 命令的範例。</span><span class="sxs-lookup"><span data-stu-id="e10c4-322">The following is an example of the `Delete` command.</span></span>  
  
```  
"<path>xdbcdcsvc.exe" delete  
    <cdc-service-name>  
  
```  
  
 <span data-ttu-id="e10c4-323">其中：</span><span class="sxs-lookup"><span data-stu-id="e10c4-323">Where:</span></span>  
  
 <span data-ttu-id="e10c4-324">**cdc-service-name** 是要刪除的 CDC 服務名稱。</span><span class="sxs-lookup"><span data-stu-id="e10c4-324">**cdc-service-name** is the name of the CDC service to be deleted.</span></span>  
  
 <span data-ttu-id="e10c4-325">**注意**：必須用雙引號 (") 括住任何包含空格或雙引號的參數。</span><span class="sxs-lookup"><span data-stu-id="e10c4-325">**Note**: Any parameter that contains spaces or double quotes must be wrapped with double quotes (").</span></span> <span data-ttu-id="e10c4-326">內嵌雙引號必須成對 (例如，若要使用 **"A#B" D** 當作密碼，請輸入 **""A#B"" D"** )。</span><span class="sxs-lookup"><span data-stu-id="e10c4-326">Embedded double quotation marks must be doubled (for example to use **"A#B" D** as a password enter **""A#B"" D"**).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e10c4-327">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e10c4-327">See Also</span></span>  
 <span data-ttu-id="e10c4-328">[如何使用 CDC 服務命令列介面](how-to-use-the-cdc-service-command-line-interface.md) </span><span class="sxs-lookup"><span data-stu-id="e10c4-328">[How to Use the CDC Service Command-Line Interface](how-to-use-the-cdc-service-command-line-interface.md) </span></span>  
 [<span data-ttu-id="e10c4-329">如何準備 SQL Server 以使用 CDC</span><span class="sxs-lookup"><span data-stu-id="e10c4-329">How to Prepare SQL Server for CDC</span></span>](prepare-sql-server-for-cdc.md)  
