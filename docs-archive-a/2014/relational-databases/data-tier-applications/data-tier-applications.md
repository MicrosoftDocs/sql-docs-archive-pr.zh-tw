---
title: 資料層應用程式 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- designing DACs
- How to [DAC]
- data-tier application [SQL Server], designing
- wizard [DAC]
ms.assetid: a04a2aba-d07a-4423-ab8a-0a31658f6317
author: stevestein
ms.author: sstein
ms.openlocfilehash: 4975f09a29f7b25d248f3a4bc8c5c333e4ac3d06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698284"
---
# <a name="data-tier-applications"></a><span data-ttu-id="d7bc7-102">資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-102">Data-tier Applications</span></span>
  <span data-ttu-id="d7bc7-103">資料層應用程式 (DAC) 是邏輯資料庫管理實體，會定義與使用者資料庫相關聯的所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 物件，例如資料表、檢視表，以及包括登入的執行個體物件。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-103">A data-tier application (DAC) is a logical database management entity that defines all of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] objects - like tables, views, and instance objects, including logins - associated with a user's database.</span></span> <span data-ttu-id="d7bc7-104">DAC 是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫部署的自主單位，可讓資料層開發人員和資料庫管理員將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 物件包裝為可攜式成品，稱為 DAC 封裝，又稱為 DACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-104">A DAC is a self-contained unit of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database deployment that enables data-tier developers and database administrators to package [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] objects into a portable artifact called a DAC package, also known as a DACPAC.</span></span>  
  
 <span data-ttu-id="d7bc7-105">BACPAC 是相關的成品，會封裝資料庫結構描述，以及在資料庫中儲存的資料。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-105">A BACPAC is a related artifact that encapsulates the database schema as well as the data stored in the database.</span></span>  
  
## <a name="benefits-of-data-tier-applications"></a><span data-ttu-id="d7bc7-106">資料層應用程式的優點</span><span class="sxs-lookup"><span data-stu-id="d7bc7-106">Benefits of Data-tier Applications</span></span>  
 <span data-ttu-id="d7bc7-107">大多數資料庫應用程式的開發週期包含開發人員和 DBA 共用及交換應用程式更新和維護活動的指令碼和特定整合注意事項。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-107">The lifecycle of most database applications involves developers and DBAs sharing and exchanging scripts and ad hoc integration notes for application update and maintenance activities.</span></span> <span data-ttu-id="d7bc7-108">雖然這對小量資料庫是可接受的，但是一旦資料庫數目、大小和複雜性等方面都增加時，這很快會變得無法擴充。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-108">While this is acceptable for a small number of databases, it quickly becomes unscalable once databases grow in number, size, and complexity.</span></span>  
  
 <span data-ttu-id="d7bc7-109">DAC 是資料庫生命週期管理和生產力工具，讓宣告式資料庫開發可以簡化部署和管理。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-109">A DAC is a database lifecycle management and productivity tool that enables declarative database development to simplify deployment and management.</span></span> <span data-ttu-id="d7bc7-110">開發人員可以在 SQL Server Data Tools 資料庫專案中撰寫資料庫，然後建立資料庫成為 DACPAC 以遞交給 DBA。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-110">A developer can author a database in SQL Server Data Tool database project and then build the database into a DACPAC for handoff to a DBA.</span></span> <span data-ttu-id="d7bc7-111">DBA 可以使用 SQL Server Management Studio，將 DAC 部署至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 測試或實際執行的執行個體或 [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-111">The DBA can deploy the DAC using SQL Server Management Studio to a test or production instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)].</span></span> <span data-ttu-id="d7bc7-112">或者，DBA 可以使用 DACPAC 來升級以前使用 SQL Server Management Studio 部署的資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-112">Alternatively, the DBA can use the DACPAC to upgrade a previously deployed database using SQL Server Management Studio.</span></span> <span data-ttu-id="d7bc7-113">為了完成開發週期，DBA 可以將資料庫擷取至 DACPAC 並將它遞交給開發人員，以反映測試或實際執行調整，或啟用進一步的資料庫設計變更以回應應用程式變更。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-113">To complete the lifecycle, the DBA can extract the database into a DACPAC and hand it off to a developer to either reflect test or production adjustments, or to enable further database design changes in response to changes in the application.</span></span>  
  
 <span data-ttu-id="d7bc7-114">DAC 驅動部署優於指令碼驅動方法，因為此工具協助 DBA 識別及驗證不同來源和目標資料庫的行為。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-114">The advantage of a DAC-driven deployment over a script driven exercise is that the tool helps the DBA with identifying and validating behaviors from different source and target databases.</span></span> <span data-ttu-id="d7bc7-115">在升級期間，如果升級可能會導致資料遺失，工具會警告 DBA，而且還提供升級計畫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-115">During upgrades, the tool warns the DBA if the upgrade might cause data loss, and also provide an upgrade plan.</span></span> <span data-ttu-id="d7bc7-116">DBA 可以評估該計畫，然後利用該工具進行升級。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-116">The DBA can evaluate the plan and then utilize the  tool to proceed with the upgrade.</span></span>  
  
 <span data-ttu-id="d7bc7-117">DAC 還支援版本設定，協助開發人員和 DBA 維護和管理資料庫生命週期中的資料庫歷程。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-117">DAC's also support versioning to help the developer and the DBA maintain and manage the database lineage through its lifecycle.</span></span>  
  
## <a name="dac-concepts"></a><span data-ttu-id="d7bc7-118">DAC 概念</span><span class="sxs-lookup"><span data-stu-id="d7bc7-118">DAC Concepts</span></span>  
 <span data-ttu-id="d7bc7-119">DAC 會簡化支援應用程式之資料層元素的開發、部署與管理：</span><span class="sxs-lookup"><span data-stu-id="d7bc7-119">A DAC simplifies the development, deployment, and management of data-tier elements that support an application:</span></span>  
  
-   <span data-ttu-id="d7bc7-120">資料層應用程式 (DAC) 是邏輯資料庫管理實體，會定義與使用者資料庫相關聯的所有 SQL Server 物件，例如資料表、檢視表和執行個體物件。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-120">A data-tier application (DAC) is a logical database management entity that defines all SQL Server objects - such as tables, views, and instance objects - associated with a user's database.</span></span> <span data-ttu-id="d7bc7-121">它是 SQL Server 資料庫部署的自主單位，可讓資料層開發人員和 DBA 將 SQL Server 物件包裝為可攜式成品，稱為 DAC 封裝或 .dacpac 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-121">It is a self-contained unit of SQL Server database deployment that enables data-tier developers and DBAs to package SQL Server objects into a portable artifact called a DAC package, or .dacpac file.</span></span>  
  
-   <span data-ttu-id="d7bc7-122">SQL Server 資料庫若要被視為 DAC，必須註冊，無論是透過使用者作業明確註冊，或其中一個 DAC 作業隱含註冊。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-122">For a SQL Server database to be treated as a DAC, it must be registered - either explicitly by a user operation, or implicitly by one of the DAC operations.</span></span> <span data-ttu-id="d7bc7-123">當資料庫註冊時，就會記錄 DAC 版本和其他屬性做為資料庫中繼資料的一部分。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-123">When a database is registered, the DAC version and other properties are recorded as part of the metadata of the database.</span></span> <span data-ttu-id="d7bc7-124">相反地，資料庫也可以取消註冊並移除其 DAC 屬性。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-124">Conversely, a database can also be unregistered and have its DAC properties removed.</span></span>  
  
-   <span data-ttu-id="d7bc7-125">DAC 工具通常能夠讀取舊版 SQL Server DAC 工具所產生的 DACPAC 檔案，也可以將 DACPAC 部署至舊版 SQL Server。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-125">In general, DAC tools are capable of reading DACPAC files generated by DAC tools from previous SQL Server versions, and can also deploy DACPAC's to previous versions of SQL Server.</span></span> <span data-ttu-id="d7bc7-126">不過，舊版 DAC 工具無法讀取新版 DAC 工具所產生的 DACPAC 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-126">However, DAC tools from earlier versions cannot read DACPAC files generated by DAC tools from later versions.</span></span> <span data-ttu-id="d7bc7-127">具體來說：</span><span class="sxs-lookup"><span data-stu-id="d7bc7-127">Specifically:</span></span>  
  
    -   <span data-ttu-id="d7bc7-128">DAC 作業是在 SQL Server 2008 R2 中導入。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-128">DAC operations were introduced in SQL Server 2008 R2.</span></span> <span data-ttu-id="d7bc7-129">除了 SQL Server 2008 R2 資料庫之外，工具還支援 SQL Server 2008、SQL Server 2005 和 SQL Server 2000 資料庫所產生的 DACPAC 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-129">In addition to SQL Server 2008 R2 databases, the tools support generation of DACPAC files from SQL Server 2008, SQL Server 2005 and SQL Server 2000 databases.</span></span>  
  
    -   <span data-ttu-id="d7bc7-130">除了 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] 資料庫之外，[!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] 隨附的工具還可以讀取 SQL Server 2008 R2 或 SQL Server 2012 隨附的 DAC 工具所產生的 DACPAC 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-130">In addition to [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] databases, the tools shipped with [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] can read DACPAC files generated by DAC tools shipped with SQL Server 2008 R2 or SQL Server 2012.</span></span> <span data-ttu-id="d7bc7-131">這包含 SQL Server 2012、SQL Server 2008 R2、SQL Server 2008 和 SQL Server 2005 資料庫，但不包含 SQL Server 2000 資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-131">This includes databases from SQL Server 2012, SQL Server 2008 R2, SQL Server 2008, and SQL Server 2005, but not SQL Server 2000.</span></span>  
  
    -   <span data-ttu-id="d7bc7-132">SQL Server 2008 R2 的 DAC 工具無法讀取 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 或 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 工具所產生的 DACPAC 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-132">DAC tools from SQL Server 2008 R2 cannot read DACPAC files generated by tools from [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="d7bc7-133">DACPAC 是副檔名為 .dacpac 的 Windows 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-133">A DACPAC is a Windows file with a .dacpac extension.</span></span> <span data-ttu-id="d7bc7-134">檔案支援開放式格式，包含代表 DACPAC 來源詳細資料、資料庫的物件和其他特性的多個 XML 區段。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-134">The file supports an open format consisting of multiple XML sections representing details of the DACPAC origin, the objects in the database, and other characteristics.</span></span> <span data-ttu-id="d7bc7-135">進階使用者可以使用產品隨附的 DacUnpack.exe 公用程式來解除封裝檔案，更仔細檢查每個區段。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-135">An advanced user can unpack the file using the DacUnpack.exe utility that ships with the product to inspect each section more closely.</span></span>  
  
-   <span data-ttu-id="d7bc7-136">使用者必須是 dbmanager 角色的成員或被指派 CREATE DATABASE 權限，才能建立資料庫，包括部署 DAC 封裝來建立資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-136">The user must be a member of the dbmanager role or assigned CREATE DATABASE permissions to create a database, including creating a database by deploying a DAC package.</span></span> <span data-ttu-id="d7bc7-137">使用者必須是 dbmanager 角色的成員或被指派 DROP DATABASE 權限，才能卸除資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-137">The user must be a member of the dbmanager role, or have been assigned DROP DATABASE permissions to drop a database.</span></span>  
  
## <a name="dac-tools"></a><span data-ttu-id="d7bc7-138">DAC 工具</span><span class="sxs-lookup"><span data-stu-id="d7bc7-138">DAC Tools</span></span>  
 <span data-ttu-id="d7bc7-139">DACPAC 可以橫跨 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 隨附的多個工具緊密地使用。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-139">A DACPAC can be seamlessly used across multiple tools that ship with [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="d7bc7-140">這些工具將 DACPAC 做為互通性單位，解決不同使用者角色的需求。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-140">These tools address the requirements of different user personas using a DACPAC as the unit of interoperability.</span></span>  
  
-   <span data-ttu-id="d7bc7-141">應用程式開發人員</span><span class="sxs-lookup"><span data-stu-id="d7bc7-141">Application Developer</span></span>  
  
    -   <span data-ttu-id="d7bc7-142">資料庫開發人員可以使用 SQL Server Data Tools 資料庫專案來設計資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-142">A database developer can use a SQL Server Data Tools database project to design a database.</span></span> <span data-ttu-id="d7bc7-143">此專案成功建立會導致產生包含在 .dacpac 檔案中的 DACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-143">A successful build of this project results in the generation of a DACPAC contained in a .dacpac file.</span></span>  
  
    -   <span data-ttu-id="d7bc7-144">此外，開發人員可以將 DACPAC 匯入資料庫專案中並繼續進行資料庫設計。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-144">In addition, the developer can import a DACPAC into a database project and continue to design the database.</span></span>  
  
    -   <span data-ttu-id="d7bc7-145">SQL Server Data Tools 還支援 Local DB，以進行未連接的用戶端資料庫應用程式開發。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-145">SQL Server Data Tools also supports a Local DB for unconnected, client-side database application development.</span></span> <span data-ttu-id="d7bc7-146">開發人員可以取得此本機資料庫的快照集，以建立包含在 .dacpac 檔案中的 DACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-146">The developer can take a snapshot of this local database to create DACPAC contained in a .dacpac file.</span></span>  
  
    -   <span data-ttu-id="d7bc7-147">開發人員可以獨立地將資料庫專案直接發行至資料庫，甚至不需產生 DACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-147">Independently, the developer can publish a database project directly to a database without even generating a DACPAC.</span></span> <span data-ttu-id="d7bc7-148">發行作業遵循類似於其他工具部署作業的行為。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-148">The publish operation follows similar behavior as the deploy operation from other tools.</span></span>  
  
-   <span data-ttu-id="d7bc7-149">資料庫管理員</span><span class="sxs-lookup"><span data-stu-id="d7bc7-149">Database Administrator</span></span>  
  
    -   <span data-ttu-id="d7bc7-150">DBA 可以使用 SQL Server Management Studio 從現有的資料庫中擷取 DACPAC，也可以執行其他 DAC 作業。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-150">A DBA can use SQL Server Management Studio to extract a DACPAC from an existing database, and also perform other DAC operations.</span></span>  
  
    -   <span data-ttu-id="d7bc7-151">此外，[!INCLUDE[ssSDS](../../includes/sssds-md.md)] 的 DBA 可以使用 SQL Azure 管理入口網站執行 DAC 作業。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-151">In addition, the DBA for a [!INCLUDE[ssSDS](../../includes/sssds-md.md)] can use the Management Portal for SQL Azure for DAC operations.</span></span>  
  
-   <span data-ttu-id="d7bc7-152">獨立軟體廠商</span><span class="sxs-lookup"><span data-stu-id="d7bc7-152">Independent Software Vendor</span></span>  
  
    -   <span data-ttu-id="d7bc7-153">SQL Server 主機服務和其他資料管理產品可以使用 DACFx API 執行 DAC 作業。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-153">Hosting services and other data management products for SQL Server can use the DACFx API for DAC operations.</span></span>  
  
-   <span data-ttu-id="d7bc7-154">IT 管理員</span><span class="sxs-lookup"><span data-stu-id="d7bc7-154">IT Administrator</span></span>  
  
    -   <span data-ttu-id="d7bc7-155">IT 系統整合人員和管理員可以使用 SqlPackage.exe 命令列工具執行 DAC 作業。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-155">IT systems integrators and administrators can use the SqlPackage.exe command line tool for DAC operations.</span></span>  
  
## <a name="dac-operations"></a><span data-ttu-id="d7bc7-156">DAC 作業</span><span class="sxs-lookup"><span data-stu-id="d7bc7-156">DAC Operations</span></span>  
 <span data-ttu-id="d7bc7-157">DAC 支援下列作業：</span><span class="sxs-lookup"><span data-stu-id="d7bc7-157">A DAC supports the following operations:</span></span>  
  
-   <span data-ttu-id="d7bc7-158">**EXTRACT** - 使用者可將資料庫擷取到 DACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-158">**EXTRACT** - the user can extract a database into a DACPAC.</span></span>  
  
-   <span data-ttu-id="d7bc7-159">**DEPLOY** - 使用者可將 DACPAC 部署到主機伺服器。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-159">**DEPLOY** - the user can deploy a DACPAC to a host server.</span></span> <span data-ttu-id="d7bc7-160">從管理功能工具 (如 SQL Server Management Studio 或 SQL Azure 管理入口網站) 完成部署後，主機伺服器上所產生的資料庫會隱含註冊為資料層應用程式。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-160">When the deployment is done from a manageability tool like SQL Server Management Studio or the Management Portal for SQL Azure, the resulting database in the host server is implicitly registered as a data-tier application.</span></span>  
  
-   <span data-ttu-id="d7bc7-161">**REGISTER** - 使用者可將資料庫註冊為資料層應用程式。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-161">**REGISTER** - the user can register a database as a data-tier application.</span></span>  
  
-   <span data-ttu-id="d7bc7-162">**UNREGISTER** - 以前註冊為 DAC 的資料庫可以取消註冊。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-162">**UNREGISTER** - a database previously registered as a DAC can be unregistered.</span></span>  
  
-   <span data-ttu-id="d7bc7-163">**UPGRADE** - 可以使用 DACPAC 來升級資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-163">**UPGRADE** - a database can be upgraded using a DACPAC.</span></span> <span data-ttu-id="d7bc7-164">即使以前未註冊為資料層應用程式的資料庫也支援升級，但因為升級，資料庫會隱含註冊。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-164">Upgrade is supported even on databases that are not previously registered as data-tier applications, but as a consequence of the upgrade, the database will be implicitly registered.</span></span>  
  
## <a name="backup-package-bacpac"></a><span data-ttu-id="d7bc7-165">備份封裝 (.bacpac)</span><span class="sxs-lookup"><span data-stu-id="d7bc7-165">Backup Package (.bacpac)</span></span>  
 <span data-ttu-id="d7bc7-166">BACPAC 是封裝資料庫結構描述和資料庫中所儲存之資料的成品。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-166">A BACPAC is an artifact that encapsulates the database schema as well as the data stored in the database.</span></span> <span data-ttu-id="d7bc7-167">BACPAC 是副檔名為 .bacpac 的 Windows 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-167">The BACPAC is a Windows file with a .bacpac extension.</span></span> <span data-ttu-id="d7bc7-168">類似於 DACPAC，BACPAC 檔案格式是開放式；BACPAC 的結構描述內容與 DACPAC 的結構描述內容相同。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-168">Similar to the DACPAC, the BACPAC file format is open - the schema contents of the BACPAC are identical to that of the DACPAC.</span></span> <span data-ttu-id="d7bc7-169">資料是以 JSON 格式儲存。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-169">The data is stored in JSON format.</span></span>  
  
 <span data-ttu-id="d7bc7-170">DACPAC 和 BACPAC 相似，但它們以不同的案例為目標。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-170">DACPAC and BACPAC are similar but they target different scenarios.</span></span> <span data-ttu-id="d7bc7-171">DACPAC 專注於擷取及部署架結構描述，包括升級現有資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-171">A DACPAC is focused on capturing and deploying schema, including upgrading an existing database.</span></span> <span data-ttu-id="d7bc7-172">DACPAC 的主要使用案例是將嚴格定義的架構部署至開發、測試和生產環境，以及反向：捕捉生產的架構，並將它套用至測試和開發環境。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-172">The primary use case for a DACPAC is to deploy a tightly defined schema to development, test, and then production environments, and the reverse: capturing production's schema and applying it to back to test and development environments.</span></span>  
  
 <span data-ttu-id="d7bc7-173">另一方面，BACPAC 專注於擷取結構描述和資料。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-173">A BACPAC, on the other hand, is focused on capturing schema and data.</span></span> <span data-ttu-id="d7bc7-174">BACPAC 是資料庫備份的邏輯對等項目，並不能用來升級現有資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-174">A BACPAC is the logical equivalent of a database backup and cannot be used to upgrade existing databases.</span></span> <span data-ttu-id="d7bc7-175">BACPAC 的主要使用案例是將資料庫從某個伺服器移至另個伺服器 (或從本機伺服器移至雲端)，以及以開放式格式封存現有資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-175">The primary use case for a BACPAC is to move a database from one server to another - or from a local server to the cloud - and archiving an existing database in an open format.</span></span>  
  
 <span data-ttu-id="d7bc7-176">BACPAC 支援兩個主要作業：</span><span class="sxs-lookup"><span data-stu-id="d7bc7-176">A BACPAC supports two main operations:</span></span>  
  
-   <span data-ttu-id="d7bc7-177">**EXPORT** - 使用者可將資料庫的結構描述和資料匯出至 BACPAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-177">**EXPORT**- The user can export the schema and the data of a database to a BACPAC.</span></span>  
  
-   <span data-ttu-id="d7bc7-178">**IMPORT** - 使用者可以將結構描述和資料匯入主機伺服器中的新資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-178">**IMPORT** - The user can import the schema and the data into a new database in the host server.</span></span>  
  
 <span data-ttu-id="d7bc7-179">這些功能都受到資料庫管理工具支援：Server Management Studio、SQL Azure 管理入口網站和 DACFx API。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-179">Both these capabilities are supported by the database management tools: Server Management Studio, the Management Portal for SQL Azure, and the DACFx API.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="d7bc7-180">權限</span><span class="sxs-lookup"><span data-stu-id="d7bc7-180">Permissions</span></span>  
 <span data-ttu-id="d7bc7-181">您必須是 `dbmanager` 角色的成員或被指派 `CREATE DATABASE` 權限，才能建立資料庫，包括部署 DAC 封裝來建立資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-181">You must be a member of the `dbmanager` role or assigned `CREATE DATABASE` permissions to create a database, including creating a database by deploying a DAC package.</span></span> <span data-ttu-id="d7bc7-182">您必須是 `dbmanager` 角色的成員或被指派 `DROP DATABASE` 權限，才能卸除資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-182">You must be a member of the `dbmanager` role, or have been assigned `DROP DATABASE` permissions to drop a database.</span></span>  
  
## <a name="data-tier-application-tasks"></a><span data-ttu-id="d7bc7-183">資料層應用程式工作</span><span class="sxs-lookup"><span data-stu-id="d7bc7-183">Data-tier Application Tasks</span></span>  
  
|<span data-ttu-id="d7bc7-184">工作描述</span><span class="sxs-lookup"><span data-stu-id="d7bc7-184">Task Description</span></span>|<span data-ttu-id="d7bc7-185">主題</span><span class="sxs-lookup"><span data-stu-id="d7bc7-185">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="d7bc7-186">描述如何使用 DAC 封裝檔案來建立新的 DAC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-186">Describes how to use a DAC package file to create a new DAC instance.</span></span>|[<span data-ttu-id="d7bc7-187">部署資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-187">Deploy a Data-tier Application</span></span>](deploy-a-data-tier-application.md)|  
|<span data-ttu-id="d7bc7-188">描述如何使用新的 DAC 封裝檔案，將執行個體升級為新版的 DAC。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-188">Describes how to use a new DAC package file to upgrade an instance to a new version of the DAC.</span></span>|[<span data-ttu-id="d7bc7-189">升級資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-189">Upgrade a Data-tier Application</span></span>](upgrade-a-data-tier-application.md)|  
|<span data-ttu-id="d7bc7-190">描述如何移除 DAC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-190">Describes how to remove a DAC instance.</span></span> <span data-ttu-id="d7bc7-191">您可以選擇同時卸離或卸除相關聯的資料庫，或讓資料庫保持完整。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-191">You can choose to also detach or drop the associated database, or leave the database intact.</span></span>|[<span data-ttu-id="d7bc7-192">刪除資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-192">Delete a Data-tier Application</span></span>](delete-a-data-tier-application.md)|  
|<span data-ttu-id="d7bc7-193">描述如何使用 SQL Server 公用程式來檢視目前已部署 DAC 的健全狀態。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-193">Describes how to view the health of currently deployed DACs by using the SQL Server Utility.</span></span>|[<span data-ttu-id="d7bc7-194">監視資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-194">Monitor Data-tier Applications</span></span>](data-tier-applications.md)|  
|<span data-ttu-id="d7bc7-195">描述如何建立包含在 DAC 中的資料和中繼資料之封存的 .bacpac 檔案。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-195">Describes how to create a .bacpac file that contains an archive of the data and metadata in a DAC.</span></span>|[<span data-ttu-id="d7bc7-196">匯出資料層應用程式</span><span class="sxs-lookup"><span data-stu-id="d7bc7-196">Export a Data-tier Application</span></span>](export-a-data-tier-application.md)|  
|<span data-ttu-id="d7bc7-197">描述如何使用 DAC 封存檔案 (.bacpac) 執行 DAC 的邏輯還原，或將 DAC 移轉至另一個 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 或 [!INCLUDE[ssSDS](../../includes/sssds-md.md)] 的執行個體。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-197">Describes how to use a DAC archive file (.bacpac) to either perform a logical restore of a DAC, or to migrate the DAC to another instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] or [!INCLUDE[ssSDS](../../includes/sssds-md.md)].</span></span>|[<span data-ttu-id="d7bc7-198">匯入 BACPAC 檔案以建立新的使用者資料庫</span><span class="sxs-lookup"><span data-stu-id="d7bc7-198">Import a BACPAC File to Create a New User Database</span></span>](import-a-bacpac-file-to-create-a-new-user-database.md)|  
|<span data-ttu-id="d7bc7-199">描述如何匯入 BACPAC 檔案，在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體內建立新的使用者資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-199">Describes how to import a BACPAC file to create a new user database within an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|[<span data-ttu-id="d7bc7-200">從資料庫解壓縮 DAC</span><span class="sxs-lookup"><span data-stu-id="d7bc7-200">Extract a DAC From a Database</span></span>](extract-a-dac-from-a-database.md)|  
|<span data-ttu-id="d7bc7-201">描述如何將現有的資料庫升級為 DAC 執行個體。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-201">Describes how to promote an existing database to be a DAC instance.</span></span> <span data-ttu-id="d7bc7-202">DAC 定義會建立並儲存在系統資料庫中。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-202">A DAC definition is built and stored in the system databases.</span></span>|[<span data-ttu-id="d7bc7-203">將資料庫註冊為 DAC</span><span class="sxs-lookup"><span data-stu-id="d7bc7-203">Register a Database As a DAC</span></span>](register-a-database-as-a-dac.md)|  
|<span data-ttu-id="d7bc7-204">描述如何先檢閱 DAC 封裝的內容以及 DAC 升級要執行的動作，再於實際執行系統中使用該封裝。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-204">Describes how to review the contents of a DAC package and the actions a DAC upgrade will perform before using the package in a production system.</span></span>|[<span data-ttu-id="d7bc7-205">驗證 DAC 封裝</span><span class="sxs-lookup"><span data-stu-id="d7bc7-205">Validate a DAC Package</span></span>](validate-a-dac-package.md)|  
|<span data-ttu-id="d7bc7-206">描述如何先將 DAC 封裝的內容放入資料庫管理員可以檢閱 DAC 作用的資料夾，再將它部署至實際伺服器。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-206">Describes how to place the contents of a DAC package into a folder where a database administrator can review what the DAC does before deploying it to a production server.</span></span>|[<span data-ttu-id="d7bc7-207">解除封裝 DAC 封裝</span><span class="sxs-lookup"><span data-stu-id="d7bc7-207">Unpack a DAC Package</span></span>](unpack-a-dac-package.md)|  
|<span data-ttu-id="d7bc7-208">描述如何使用精靈來部署現有的資料庫。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-208">Describes how to use a wizard to deploy an existing database.</span></span> <span data-ttu-id="d7bc7-209">精靈會使用 DAC 來執行這種部署。</span><span class="sxs-lookup"><span data-stu-id="d7bc7-209">The wizard uses DACs to perform the deployment.</span></span>|[<span data-ttu-id="d7bc7-210">使用 DAC 部署資料庫</span><span class="sxs-lookup"><span data-stu-id="d7bc7-210">Deploy a Database By Using a DAC</span></span>](deploy-a-database-by-using-a-dac.md)|  
  
## <a name="see-also"></a><span data-ttu-id="d7bc7-211">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d7bc7-211">See Also</span></span>  
 [<span data-ttu-id="d7bc7-212">SQL Server 物件與版本的 DAC 支援</span><span class="sxs-lookup"><span data-stu-id="d7bc7-212">DAC Support For SQL Server Objects and Versions</span></span>](dac-support-for-sql-server-objects-and-versions.md)  
  
  
