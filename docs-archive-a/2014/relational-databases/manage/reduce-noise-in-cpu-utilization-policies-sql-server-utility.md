---
title: 降低 CPU 使用量原則的雜訊 (SQL Server 公用程式) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
f1_keywords:
- sql12.SWB.UE.ReduceNoise.F1
ms.assetid: 94bf4d93-c0ff-4869-bde7-80c24866092e
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 70677d5b21b47af87d596db1f18d0b5bc14145a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706490"
---
# <a name="reduce-noise-in-cpu-utilization-policies-sql-server-utility"></a><span data-ttu-id="72e3b-102">降低 CPU 使用量原則的雜訊 (SQL Server 公用程式)</span><span class="sxs-lookup"><span data-stu-id="72e3b-102">Reduce Noise in CPU Utilization Policies (SQL Server Utility)</span></span>
  <span data-ttu-id="72e3b-103">使用下列策略，在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 公用程式資源使用量原則中減少報告雜訊及不必要的違規。</span><span class="sxs-lookup"><span data-stu-id="72e3b-103">Use the following strategies to reduce reporting noise and unwanted violations in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Utility resource utilization policies.</span></span>  
  
## <a name="how-frequently-should-processor-utilization-be-in-violation-before-it-is-reported-as-overutilized"></a><span data-ttu-id="72e3b-104">將處理器使用量報告為過高之前，其違規的頻率應該是多少？</span><span class="sxs-lookup"><span data-stu-id="72e3b-104">How frequently should processor utilization be in violation before it is reported as overutilized?</span></span>  
 <span data-ttu-id="72e3b-105">您可以在公用程式總管中，使用 **[公用程式管理]** 節點的 **[原則]** 索引標籤設定來設定評估期間和違規百分比的容錯。</span><span class="sxs-lookup"><span data-stu-id="72e3b-105">The evaluation time period and tolerance for percent violations are both configurable using the **Policy** tab settings in the **Utility Administration** node of Utility Explorer.</span></span> <span data-ttu-id="72e3b-106">若要變更原則，請使用原則描述右邊的滑動軸控制項，然後按一下 **[套用]** 。</span><span class="sxs-lookup"><span data-stu-id="72e3b-106">To change policies, use the slider controls to the right of policy descriptions, then click **Apply**.</span></span> <span data-ttu-id="72e3b-107">您也可以使用顯示畫面底部的按鈕來還原預設值或捨棄變更。</span><span class="sxs-lookup"><span data-stu-id="72e3b-107">You can also restore default values or discard changes using buttons at the bottom of the display.</span></span>  
  
-   <span data-ttu-id="72e3b-108">資料收集間隔是 15 分鐘。</span><span class="sxs-lookup"><span data-stu-id="72e3b-108">The data collection interval is 15 minutes.</span></span> <span data-ttu-id="72e3b-109">您無法設定這個值。</span><span class="sxs-lookup"><span data-stu-id="72e3b-109">This value is not configurable.</span></span>  
  
-   <span data-ttu-id="72e3b-110">處理器使用量原則的預設臨界值上限為 70%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-110">The default upper threshold processor utilization policy is 70%.</span></span> <span data-ttu-id="72e3b-111">選項的範圍是從 0% 到 100%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-111">Options range from 0% to 100%.</span></span>  
  
-   <span data-ttu-id="72e3b-112">處理器使用量過高的預設評估期間是 1 小時。</span><span class="sxs-lookup"><span data-stu-id="72e3b-112">The default evaluation period for processor overutilization is 1 hour.</span></span> <span data-ttu-id="72e3b-113">選項的範圍是從 1 小時到 1 週。</span><span class="sxs-lookup"><span data-stu-id="72e3b-113">Options range from 1 hour to 1 week.</span></span>  
  
-   <span data-ttu-id="72e3b-114">將 CPU 報告為使用量過高之前，資料點違規的預設百分比為 20%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-114">The default percentage of data points in violation before CPU is reported as overutilized is 20%.</span></span> <span data-ttu-id="72e3b-115">選項的範圍是從 0% 到 100%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-115">Options range from 0% to 100%.</span></span>  
  
 <span data-ttu-id="72e3b-116">例如，根據預設值，每個小時將會收集 4 個資料點，而且原則臨界值為 20%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-116">For example, based on default values, 4 data points will be collected every hour, and the policy threshold is 20%.</span></span> <span data-ttu-id="72e3b-117">因此，根據預設值，1 小時收集期間內的任何違規將會是 4 個資料點的 25%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-117">So by default, any violation in a 1-hour collection period will be 25% of 4 data points.</span></span> <span data-ttu-id="72e3b-118">預設值會報告 CPU 使用量過高原則臨界值的任何違規。</span><span class="sxs-lookup"><span data-stu-id="72e3b-118">The default values report any violation of the CPU overutilization policy threshold.</span></span>  
  
 <span data-ttu-id="72e3b-119">若要減少單一違規所產生的雜訊，請考慮下列選項：</span><span class="sxs-lookup"><span data-stu-id="72e3b-119">To reduce noise generated by a single violation, consider the following options:</span></span>  
  
-   <span data-ttu-id="72e3b-120">增加評估期間的 1 個增量，使其成為 6 小時。</span><span class="sxs-lookup"><span data-stu-id="72e3b-120">Increase the evaluation period by 1 increment to 6 hours.</span></span> <span data-ttu-id="72e3b-121">6 小時內的單一違規將會是取樣大小 24 中的 1 個資料點。</span><span class="sxs-lookup"><span data-stu-id="72e3b-121">A single violation in 6 hours would be 1 data point in a sample size of 24.</span></span> <span data-ttu-id="72e3b-122">在此情況下，原則將會容許 6 個小時內原則臨界值有 4 個違規 (16.7% 的資料點)，但是會在 6 小時的收集期間內，報告 5 或 5 個以上的違規有使用量過高情形 (>20% 的資料點)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-122">In this case, the policy would tolerate 4 violations of the policy threshold (16.7% of data points) in 6 hours, but would report overutilization for 5 or more violations (>20% of data points) in a 6-hour collection period.</span></span>  
  
-   <span data-ttu-id="72e3b-123">將違規的百分比容錯提高 1 個增量，成為 30%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-123">Increase the tolerance for percentage of violations by 1 increment to 30%.</span></span> <span data-ttu-id="72e3b-124">1 小時內的單一違規將會是取樣大小 4 中的 1 個資料點。</span><span class="sxs-lookup"><span data-stu-id="72e3b-124">A single violation in 1 hour would be 1 data point in a sample size of 4.</span></span> <span data-ttu-id="72e3b-125">在此情況下，此原則將會容許每個小時有 1 個違規，但是會在 1 小時的收集期間內，報告 2 或 2 個以上的違規有使用量過高情形 (>30% 的資料點)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-125">In this case, the policy would tolerate 1 violation per hour, but would report overutilization for 2 or more violations (>30% of data points) in a 1-hour collection period.</span></span>  
  
-   <span data-ttu-id="72e3b-126">提高 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Managed 執行個體和資料層應用程式之處理器使用量的原則臨界值。</span><span class="sxs-lookup"><span data-stu-id="72e3b-126">Increase policy thresholds for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] managed instance and data-tier application processor utilization.</span></span> <span data-ttu-id="72e3b-127">如需如何變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 受管理的執行個體或資料層應用程式之全域 CPU 使用量原則的詳細資訊，請參閱 [公用程式管理 &#40;SQL Server 公用程式&#41;](../../database-engine/utility-administration-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-127">For more information about how to change the global CPU utilization policies for managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or data-tier applications, see [Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md).</span></span> <span data-ttu-id="72e3b-128">如需如何變更個別 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體之 CPU 使用量原則的詳細資訊，請參閱[受管理的執行個體詳細資料 &#40;SQL Server 公用程式&#41;](../../database-engine/managed-instance-details-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-128">For more information about how to change CPU utilization policies for individual instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Managed Instance Details &#40;SQL Server Utility&#41;](../../database-engine/managed-instance-details-sql-server-utility.md).</span></span> <span data-ttu-id="72e3b-129">如需如何變更個別資料層應用程式之 CPU 使用量原則的詳細資訊，請參閱[部署的資料層應用程式詳細資料 &#40;SQL Server 公用程式&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-129">For more information about how to change CPU utilization policies for individual data-tier applications, see [Deployed Data-tier Application Details &#40;SQL Server Utility&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span></span>  
  
## <a name="how-frequently-should-processor-utilization-be-in-violation-before-it-is-reported-as-underutilized"></a><span data-ttu-id="72e3b-130">將處理器使用量報告為過低之前，其違規的頻率應該是多少？</span><span class="sxs-lookup"><span data-stu-id="72e3b-130">How frequently should processor utilization be in violation before it is reported as underutilized?</span></span>  
 <span data-ttu-id="72e3b-131">您可以在公用程式總管中，使用 **[公用程式管理]** 節點的 **[原則]** 索引標籤設定來設定評估期間和違規百分比的容錯。</span><span class="sxs-lookup"><span data-stu-id="72e3b-131">The evaluation time period and tolerance for percent violations are both configurable using the **Policy** tab settings in the **Utility Administration** node of Utility Explorer.</span></span> <span data-ttu-id="72e3b-132">若要變更原則，請使用原則描述右邊的滑動軸控制項，然後按一下 **[套用]** 。</span><span class="sxs-lookup"><span data-stu-id="72e3b-132">To change policies, use the slider controls to the right of policy descriptions, then click **Apply**.</span></span> <span data-ttu-id="72e3b-133">您也可以使用顯示畫面底部的按鈕來還原預設值或捨棄變更。</span><span class="sxs-lookup"><span data-stu-id="72e3b-133">You can also restore default values or discard changes using buttons at the bottom of the display.</span></span>  
  
-   <span data-ttu-id="72e3b-134">資料收集間隔是 15 分鐘。</span><span class="sxs-lookup"><span data-stu-id="72e3b-134">The data collection interval is 15 minutes.</span></span> <span data-ttu-id="72e3b-135">您無法設定這個值。</span><span class="sxs-lookup"><span data-stu-id="72e3b-135">This value is not configurable.</span></span>  
  
-   <span data-ttu-id="72e3b-136">處理器使用量原則的預設臨界值下限為 0%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-136">The default lower threshold for processor utilization policy is 0%.</span></span> <span data-ttu-id="72e3b-137">選項的範圍是從 0% 到 100%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-137">Options range from 0% to 100%.</span></span>  
  
-   <span data-ttu-id="72e3b-138">處理器使用量過低的預設評估期間是 1 週。</span><span class="sxs-lookup"><span data-stu-id="72e3b-138">The default evaluation period for processor underutilization is 1 week.</span></span> <span data-ttu-id="72e3b-139">選項的範圍是從 1 天到 1 個月。</span><span class="sxs-lookup"><span data-stu-id="72e3b-139">Options range from 1 day to 1 month.</span></span>  
  
-   <span data-ttu-id="72e3b-140">將 CPU 報告為使用量過低之前，資料點違規的預設百分比為 90%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-140">The default percentage of data points in violation before CPU is reported as underutilized is 90%.</span></span> <span data-ttu-id="72e3b-141">選項的範圍是從 0% 到 100%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-141">Options range from 0% to 100%.</span></span>  
  
 <span data-ttu-id="72e3b-142">根據預設值，每週將會收集 672 個資料點，而且原則臨界值為 0%。</span><span class="sxs-lookup"><span data-stu-id="72e3b-142">Based on default values, 672 data points are collected every week, but the policy threshold is 0%.</span></span> <span data-ttu-id="72e3b-143">所以根據預設，這個原則不會產生處理器使用量過低的違規情形。</span><span class="sxs-lookup"><span data-stu-id="72e3b-143">So by default, this policy does not generate processor underutilization violations.</span></span> <span data-ttu-id="72e3b-144">如需如何變更 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 受管理的執行個體或資料層應用程式之全域 CPU 使用量原則的詳細資訊，請參閱 [公用程式管理 &#40;SQL Server 公用程式&#41;](../../database-engine/utility-administration-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-144">For more information about how to change the global CPU utilization policies for managed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] or data-tier applications, see [Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md).</span></span> <span data-ttu-id="72e3b-145">如需如何變更個別 SQL Server 執行個體之 CPU 使用量原則的詳細資訊，請參閱[受管理的執行個體詳細資料 &#40;SQL Server 公用程式&#41;](../../database-engine/managed-instance-details-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-145">For more information about how to change CPU utilization policies for individual instances of SQL Server, see [Managed Instance Details &#40;SQL Server Utility&#41;](../../database-engine/managed-instance-details-sql-server-utility.md).</span></span> <span data-ttu-id="72e3b-146">如需如何變更個別資料層應用程式之 CPU 使用量原則的詳細資訊，請參閱[部署的資料層應用程式詳細資料 &#40;SQL Server 公用程式&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md)。</span><span class="sxs-lookup"><span data-stu-id="72e3b-146">For more information about how to change CPU utilization policies for individual data-tier applications, see [Deployed Data-tier Application Details &#40;SQL Server Utility&#41;](../../database-engine/deployed-data-tier-application-details-sql-server-utility.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="72e3b-147">另請參閱</span><span class="sxs-lookup"><span data-stu-id="72e3b-147">See Also</span></span>  
 <span data-ttu-id="72e3b-148">[公用程式管理 &#40;SQL Server 公用程式&#41;](../../database-engine/utility-administration-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="72e3b-148">[Utility Administration &#40;SQL Server Utility&#41;](../../database-engine/utility-administration-sql-server-utility.md) </span></span>  
 <span data-ttu-id="72e3b-149">[監視 SQL Server 公用程式中的 SQL Server 執行個體](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="72e3b-149">[Monitor Instances of SQL Server in the SQL Server Utility](monitor-instances-of-sql-server-in-the-sql-server-utility.md) </span></span>  
 <span data-ttu-id="72e3b-150">[修改資源健康情況原則定義 &#40;SQL Server 公用程式&#41;](modify-a-resource-health-policy-definition-sql-server-utility.md) </span><span class="sxs-lookup"><span data-stu-id="72e3b-150">[Modify a Resource Health Policy Definition &#40;SQL Server Utility&#41;](modify-a-resource-health-policy-definition-sql-server-utility.md) </span></span>  
 [<span data-ttu-id="72e3b-151">SQL Server 公用程式的功能與工作</span><span class="sxs-lookup"><span data-stu-id="72e3b-151">SQL Server Utility Features and Tasks</span></span>](sql-server-utility-features-and-tasks.md)  
  
  
