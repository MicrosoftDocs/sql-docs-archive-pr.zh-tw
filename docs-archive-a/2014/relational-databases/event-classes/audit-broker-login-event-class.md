---
title: Audit Broker Login 事件類別 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
topic_type:
- apiref
helpviewer_keywords:
- Audit Broker Login event class
ms.assetid: af9b1153-2791-40ef-a95c-50923cd0cc97
author: stevestein
ms.author: sstein
ms.openlocfilehash: 200ef467f5c1fc64e4d5056cb60fc442ec998f77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87701203"
---
# <a name="audit-broker-login-event-class"></a><span data-ttu-id="9030d-102">Audit Broker 登入事件類別</span><span class="sxs-lookup"><span data-stu-id="9030d-102">Audit Broker Login Event Class</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9030d-103">會建立 **Audit Broker Login** 事件，以報告與 Service Broker 傳輸安全性相關的稽核訊息。</span><span class="sxs-lookup"><span data-stu-id="9030d-103">creates an **Audit Broker Login** event to report audit messages related to Service Broker transport security.</span></span>  
  
## <a name="audit-broker-login-event-class-data-columns"></a><span data-ttu-id="9030d-104">Audit Broker 登入事件類別的資料行</span><span class="sxs-lookup"><span data-stu-id="9030d-104">Audit Broker Login Event Class Data Columns</span></span>  
  
|<span data-ttu-id="9030d-105">資料行</span><span class="sxs-lookup"><span data-stu-id="9030d-105">Data column</span></span>|<span data-ttu-id="9030d-106">類型</span><span class="sxs-lookup"><span data-stu-id="9030d-106">Type</span></span>|<span data-ttu-id="9030d-107">描述</span><span class="sxs-lookup"><span data-stu-id="9030d-107">Description</span></span>|<span data-ttu-id="9030d-108">資料行編號</span><span class="sxs-lookup"><span data-stu-id="9030d-108">Column number</span></span>|<span data-ttu-id="9030d-109">可篩選</span><span class="sxs-lookup"><span data-stu-id="9030d-109">Filterable</span></span>|  
|-----------------|----------|-----------------|-------------------|----------------|  
|<span data-ttu-id="9030d-110">**ApplicationName**</span><span class="sxs-lookup"><span data-stu-id="9030d-110">**ApplicationName**</span></span>|<span data-ttu-id="9030d-111">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-111">**nvarchar**</span></span>|<span data-ttu-id="9030d-112">在此事件類別中未使用。</span><span class="sxs-lookup"><span data-stu-id="9030d-112">Unused in this event class.</span></span>|<span data-ttu-id="9030d-113">10</span><span class="sxs-lookup"><span data-stu-id="9030d-113">10</span></span>|<span data-ttu-id="9030d-114">是</span><span class="sxs-lookup"><span data-stu-id="9030d-114">Yes</span></span>|  
|<span data-ttu-id="9030d-115">**ClientProcessID**</span><span class="sxs-lookup"><span data-stu-id="9030d-115">**ClientProcessID**</span></span>|<span data-ttu-id="9030d-116">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-116">**int**</span></span>|<span data-ttu-id="9030d-117">在此事件類別中未使用。</span><span class="sxs-lookup"><span data-stu-id="9030d-117">Unused in this event class.</span></span>|<span data-ttu-id="9030d-118">9</span><span class="sxs-lookup"><span data-stu-id="9030d-118">9</span></span>|<span data-ttu-id="9030d-119">是</span><span class="sxs-lookup"><span data-stu-id="9030d-119">Yes</span></span>|  
|<span data-ttu-id="9030d-120">**DatabaseID**</span><span class="sxs-lookup"><span data-stu-id="9030d-120">**DatabaseID**</span></span>|<span data-ttu-id="9030d-121">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-121">**int**</span></span>|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="9030d-122">資料行，則 **ServerName** 會顯示資料庫的名稱。</span><span class="sxs-lookup"><span data-stu-id="9030d-122">displays the name of the database if the **ServerName** data column is captured in the trace and the server is available.</span></span> <span data-ttu-id="9030d-123">請使用 DB_ID 函數判斷資料庫的值。</span><span class="sxs-lookup"><span data-stu-id="9030d-123">Determine the value for a database by using the DB_ID function.</span></span>|<span data-ttu-id="9030d-124">3</span><span class="sxs-lookup"><span data-stu-id="9030d-124">3</span></span>|<span data-ttu-id="9030d-125">是</span><span class="sxs-lookup"><span data-stu-id="9030d-125">Yes</span></span>|  
|<span data-ttu-id="9030d-126">**EventClass**</span><span class="sxs-lookup"><span data-stu-id="9030d-126">**EventClass**</span></span>|<span data-ttu-id="9030d-127">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-127">**int**</span></span>|<span data-ttu-id="9030d-128">擷取的事件類別類型。</span><span class="sxs-lookup"><span data-stu-id="9030d-128">The type of event class captured.</span></span> <span data-ttu-id="9030d-129">**Audit Broker Login** 永遠是 **159**。</span><span class="sxs-lookup"><span data-stu-id="9030d-129">Always **159** for **Audit Broker Login**.</span></span>|<span data-ttu-id="9030d-130">27</span><span class="sxs-lookup"><span data-stu-id="9030d-130">27</span></span>|<span data-ttu-id="9030d-131">否</span><span class="sxs-lookup"><span data-stu-id="9030d-131">No</span></span>|  
|<span data-ttu-id="9030d-132">**EventSequence**</span><span class="sxs-lookup"><span data-stu-id="9030d-132">**EventSequence**</span></span>|<span data-ttu-id="9030d-133">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-133">**int**</span></span>|<span data-ttu-id="9030d-134">此事件的序號。</span><span class="sxs-lookup"><span data-stu-id="9030d-134">Sequence number for this event.</span></span>|<span data-ttu-id="9030d-135">51</span><span class="sxs-lookup"><span data-stu-id="9030d-135">51</span></span>|<span data-ttu-id="9030d-136">否</span><span class="sxs-lookup"><span data-stu-id="9030d-136">No</span></span>|  
|<span data-ttu-id="9030d-137">**EventSubClass**</span><span class="sxs-lookup"><span data-stu-id="9030d-137">**EventSubClass**</span></span>|<span data-ttu-id="9030d-138">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-138">**int**</span></span>|<span data-ttu-id="9030d-139">事件子類別的類型，針對每個事件類別提供更詳細的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="9030d-139">The type of event subclass, providing further information about each event class.</span></span> <span data-ttu-id="9030d-140">下表列出此事件的事件子類別值。</span><span class="sxs-lookup"><span data-stu-id="9030d-140">The table below lists the event subclass values for this event.</span></span>|<span data-ttu-id="9030d-141">21</span><span class="sxs-lookup"><span data-stu-id="9030d-141">21</span></span>|<span data-ttu-id="9030d-142">是</span><span class="sxs-lookup"><span data-stu-id="9030d-142">Yes</span></span>|  
|<span data-ttu-id="9030d-143">**FileName**</span><span class="sxs-lookup"><span data-stu-id="9030d-143">**FileName**</span></span>|<span data-ttu-id="9030d-144">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-144">**nvarchar**</span></span>|<span data-ttu-id="9030d-145">遠端 Broker 驗證層級。</span><span class="sxs-lookup"><span data-stu-id="9030d-145">Remote broker authentication level.</span></span> <span data-ttu-id="9030d-146">在遠端 Broker 結束點上設定的支援驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-146">Supported authentication method configured on the remote broker endpoint.</span></span> <span data-ttu-id="9030d-147">可用的方法超過一種時，接受 (目標) 端點會判斷要先嘗試哪種方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-147">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="9030d-148">可能的值包括：</span><span class="sxs-lookup"><span data-stu-id="9030d-148">Possible values are:</span></span><br /><br /> <span data-ttu-id="9030d-149">**None**：</span><span class="sxs-lookup"><span data-stu-id="9030d-149">**None**.</span></span> <span data-ttu-id="9030d-150">未設定任何驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-150">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="9030d-151">**NTLM**。</span><span class="sxs-lookup"><span data-stu-id="9030d-151">**NTLM**.</span></span> <span data-ttu-id="9030d-152">需要 NTLM 驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-152">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="9030d-153">**KERBEROS**。</span><span class="sxs-lookup"><span data-stu-id="9030d-153">**KERBEROS**.</span></span> <span data-ttu-id="9030d-154">需要 Kerberos 驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-154">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="9030d-155">**NEGOTIATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-155">**NEGOTIATE**.</span></span> <span data-ttu-id="9030d-156">Windows 會交涉驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-156">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="9030d-157">**CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-157">**CERTIFICATE**.</span></span> <span data-ttu-id="9030d-158">需要為端點設定的憑證，它是儲存在 **master** 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="9030d-158">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="9030d-159">**NTLM、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-159">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-160">接受 NTLM 或 SSL 憑證驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-160">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="9030d-161">**KERBEROS、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-161">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-162">接受 Kerberos 或結束點憑證驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-162">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="9030d-163">**NEGOTIATE、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-163">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-164">由 Windows 交涉要使用的驗證方法，或可以使用端點憑證來進行驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-164">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="9030d-165">**CERTIFICATE、NTLM**。</span><span class="sxs-lookup"><span data-stu-id="9030d-165">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="9030d-166">接受使用端點憑證或 NTLM 來進行驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-166">Accepts an endpoint certificate or NTLM for authentication.</span></span><br /><br /> <span data-ttu-id="9030d-167">**CERTIFICATE、KERBEROS**。</span><span class="sxs-lookup"><span data-stu-id="9030d-167">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="9030d-168">接受使用端點憑證或 Kerberos 來進行驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-168">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="9030d-169">**CERTIFICATE、NEGOTIATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-169">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="9030d-170">接受用以驗證的結束點憑證或由 Windows 交涉驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-170">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="9030d-171">36</span><span class="sxs-lookup"><span data-stu-id="9030d-171">36</span></span>|<span data-ttu-id="9030d-172">否</span><span class="sxs-lookup"><span data-stu-id="9030d-172">No</span></span>|  
|<span data-ttu-id="9030d-173">**HostName**</span><span class="sxs-lookup"><span data-stu-id="9030d-173">**HostName**</span></span>|<span data-ttu-id="9030d-174">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-174">**nvarchar**</span></span>|<span data-ttu-id="9030d-175">在此事件類別中未使用。</span><span class="sxs-lookup"><span data-stu-id="9030d-175">Unused in this event class.</span></span>|<span data-ttu-id="9030d-176">8</span><span class="sxs-lookup"><span data-stu-id="9030d-176">8</span></span>|<span data-ttu-id="9030d-177">是</span><span class="sxs-lookup"><span data-stu-id="9030d-177">Yes</span></span>|  
|<span data-ttu-id="9030d-178">**IsSystem**</span><span class="sxs-lookup"><span data-stu-id="9030d-178">**IsSystem**</span></span>|<span data-ttu-id="9030d-179">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-179">**int**</span></span>|<span data-ttu-id="9030d-180">指出事件是發生在系統處理序或使用者處理序。</span><span class="sxs-lookup"><span data-stu-id="9030d-180">Indicates whether the event occurred on a system process or a user process.</span></span> <span data-ttu-id="9030d-181">1 = 系統，0 = 使用者。</span><span class="sxs-lookup"><span data-stu-id="9030d-181">1 = system, 0 = user.</span></span>|<span data-ttu-id="9030d-182">60</span><span class="sxs-lookup"><span data-stu-id="9030d-182">60</span></span>|<span data-ttu-id="9030d-183">否</span><span class="sxs-lookup"><span data-stu-id="9030d-183">No</span></span>|  
|<span data-ttu-id="9030d-184">**LoginSid**</span><span class="sxs-lookup"><span data-stu-id="9030d-184">**LoginSid**</span></span>|<span data-ttu-id="9030d-185">**image**</span><span class="sxs-lookup"><span data-stu-id="9030d-185">**image**</span></span>|<span data-ttu-id="9030d-186">已登入之使用者的安全性識別碼 (SID)。</span><span class="sxs-lookup"><span data-stu-id="9030d-186">The security identification number (SID) of the logged-in user.</span></span> <span data-ttu-id="9030d-187">伺服器上的每一個登入之 SID 是唯一的。</span><span class="sxs-lookup"><span data-stu-id="9030d-187">Each SID is unique for each login in the server.</span></span>|<span data-ttu-id="9030d-188">41</span><span class="sxs-lookup"><span data-stu-id="9030d-188">41</span></span>|<span data-ttu-id="9030d-189">是</span><span class="sxs-lookup"><span data-stu-id="9030d-189">Yes</span></span>|  
|<span data-ttu-id="9030d-190">**NTDomainName**</span><span class="sxs-lookup"><span data-stu-id="9030d-190">**NTDomainName**</span></span>|<span data-ttu-id="9030d-191">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-191">**nvarchar**</span></span>|<span data-ttu-id="9030d-192">使用者所隸屬的 Windows 網域。</span><span class="sxs-lookup"><span data-stu-id="9030d-192">The Windows domain to which the user belongs.</span></span>|<span data-ttu-id="9030d-193">7</span><span class="sxs-lookup"><span data-stu-id="9030d-193">7</span></span>|<span data-ttu-id="9030d-194">是</span><span class="sxs-lookup"><span data-stu-id="9030d-194">Yes</span></span>|  
|<span data-ttu-id="9030d-195">**NTUserName**</span><span class="sxs-lookup"><span data-stu-id="9030d-195">**NTUserName**</span></span>|<span data-ttu-id="9030d-196">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-196">**nvarchar**</span></span>|<span data-ttu-id="9030d-197">擁有產生此事件之連接的使用者名稱。</span><span class="sxs-lookup"><span data-stu-id="9030d-197">The name of the user that owns the connection that generated this event.</span></span>|<span data-ttu-id="9030d-198">6</span><span class="sxs-lookup"><span data-stu-id="9030d-198">6</span></span>|<span data-ttu-id="9030d-199">是</span><span class="sxs-lookup"><span data-stu-id="9030d-199">Yes</span></span>|  
|<span data-ttu-id="9030d-200">**ObjectName**</span><span class="sxs-lookup"><span data-stu-id="9030d-200">**ObjectName**</span></span>|<span data-ttu-id="9030d-201">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-201">**nvarchar**</span></span>|<span data-ttu-id="9030d-202">用於此連接的連接字串。</span><span class="sxs-lookup"><span data-stu-id="9030d-202">The connect string used for this connection.</span></span>|<span data-ttu-id="9030d-203">34</span><span class="sxs-lookup"><span data-stu-id="9030d-203">34</span></span>|<span data-ttu-id="9030d-204">否</span><span class="sxs-lookup"><span data-stu-id="9030d-204">No</span></span>|  
|<span data-ttu-id="9030d-205">**OwnerName**</span><span class="sxs-lookup"><span data-stu-id="9030d-205">**OwnerName**</span></span>|<span data-ttu-id="9030d-206">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-206">**nvarchar**</span></span>|<span data-ttu-id="9030d-207">在本機 Broker 結束點上設定的支援驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-207">Supported authentication method configured on the local broker endpoint.</span></span> <span data-ttu-id="9030d-208">可用的方法超過一種時，接受 (目標) 端點會判斷要先嘗試哪種方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-208">When more than one method is available, the accepting (target) endpoint determines which method is tried first.</span></span> <span data-ttu-id="9030d-209">可能的值包括：</span><span class="sxs-lookup"><span data-stu-id="9030d-209">Possible values are:</span></span><br /><br /> <span data-ttu-id="9030d-210">**None**：</span><span class="sxs-lookup"><span data-stu-id="9030d-210">**None**.</span></span> <span data-ttu-id="9030d-211">未設定任何驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-211">No authentication method is configured.</span></span><br /><br /> <span data-ttu-id="9030d-212">**NTLM**。</span><span class="sxs-lookup"><span data-stu-id="9030d-212">**NTLM**.</span></span> <span data-ttu-id="9030d-213">需要 NTLM 驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-213">Requires NTLM authentication.</span></span><br /><br /> <span data-ttu-id="9030d-214">**KERBEROS**。</span><span class="sxs-lookup"><span data-stu-id="9030d-214">**KERBEROS**.</span></span> <span data-ttu-id="9030d-215">需要 Kerberos 驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-215">Requires Kerberos authentication.</span></span><br /><br /> <span data-ttu-id="9030d-216">**NEGOTIATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-216">**NEGOTIATE**.</span></span> <span data-ttu-id="9030d-217">Windows 會交涉驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-217">Windows negotiates the authentication method.</span></span><br /><br /> <span data-ttu-id="9030d-218">**CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-218">**CERTIFICATE**.</span></span> <span data-ttu-id="9030d-219">需要為端點設定的憑證，它是儲存在 **master** 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="9030d-219">Requires the certificate configured for the endpoint, which is stored in the **master** database.</span></span><br /><br /> <span data-ttu-id="9030d-220">**NTLM、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-220">**NTLM, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-221">接受 NTLM 或 SSL 憑證驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-221">Accepts NTLM or SSL certificate authentication.</span></span><br /><br /> <span data-ttu-id="9030d-222">**KERBEROS、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-222">**KERBEROS, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-223">接受 Kerberos 或結束點憑證驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-223">Accepts Kerberos or the endpoint certificate authentication.</span></span><br /><br /> <span data-ttu-id="9030d-224">**NEGOTIATE、CERTIFICATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-224">**NEGOTIATE, CERTIFICATE**.</span></span> <span data-ttu-id="9030d-225">由 Windows 交涉要使用的驗證方法，或可以使用端點憑證來進行驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-225">Windows negotiates the authentication method or an endpoint certificate can be used for authentication.</span></span><br /><br /> <span data-ttu-id="9030d-226">**CERTIFICATE、NTLM**。</span><span class="sxs-lookup"><span data-stu-id="9030d-226">**CERTIFICATE, NTLM**.</span></span> <span data-ttu-id="9030d-227">接受結束點憑證或供 NTLM 驗證之用。</span><span class="sxs-lookup"><span data-stu-id="9030d-227">Accepts an endpoint certificate or for NTLM authentication.</span></span><br /><br /> <span data-ttu-id="9030d-228">**CERTIFICATE、KERBEROS**。</span><span class="sxs-lookup"><span data-stu-id="9030d-228">**CERTIFICATE, KERBEROS**.</span></span> <span data-ttu-id="9030d-229">接受使用端點憑證或 Kerberos 來進行驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-229">Accepts an endpoint certificate or Kerberos for authentication.</span></span><br /><br /> <span data-ttu-id="9030d-230">**CERTIFICATE、NEGOTIATE**。</span><span class="sxs-lookup"><span data-stu-id="9030d-230">**CERTIFICATE, NEGOTIATE**.</span></span> <span data-ttu-id="9030d-231">接受用以驗證的結束點憑證或由 Windows 交涉驗證方法。</span><span class="sxs-lookup"><span data-stu-id="9030d-231">Accepts an endpoint certificate for authentication or Windows negotiates the authentication method..</span></span>|<span data-ttu-id="9030d-232">37</span><span class="sxs-lookup"><span data-stu-id="9030d-232">37</span></span>|<span data-ttu-id="9030d-233">否</span><span class="sxs-lookup"><span data-stu-id="9030d-233">No</span></span>|  
|<span data-ttu-id="9030d-234">**ProviderName**</span><span class="sxs-lookup"><span data-stu-id="9030d-234">**ProviderName**</span></span>|<span data-ttu-id="9030d-235">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-235">**nvarchar**</span></span>|<span data-ttu-id="9030d-236">此連接所使用的驗證方法</span><span class="sxs-lookup"><span data-stu-id="9030d-236">The authentication method used for this connection</span></span>|<span data-ttu-id="9030d-237">46</span><span class="sxs-lookup"><span data-stu-id="9030d-237">46</span></span>|<span data-ttu-id="9030d-238">否</span><span class="sxs-lookup"><span data-stu-id="9030d-238">No</span></span>|  
|<span data-ttu-id="9030d-239">**RoleName**</span><span class="sxs-lookup"><span data-stu-id="9030d-239">**RoleName**</span></span>|<span data-ttu-id="9030d-240">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-240">**nvarchar**</span></span>|<span data-ttu-id="9030d-241">連接的角色。</span><span class="sxs-lookup"><span data-stu-id="9030d-241">The role of the connection.</span></span> <span data-ttu-id="9030d-242">為 **initiator** 或 **target**其中一個角色。</span><span class="sxs-lookup"><span data-stu-id="9030d-242">This is either **initiator** or **target**.</span></span>|<span data-ttu-id="9030d-243">38</span><span class="sxs-lookup"><span data-stu-id="9030d-243">38</span></span>|<span data-ttu-id="9030d-244">否</span><span class="sxs-lookup"><span data-stu-id="9030d-244">No</span></span>|  
|<span data-ttu-id="9030d-245">**ServerName**</span><span class="sxs-lookup"><span data-stu-id="9030d-245">**ServerName**</span></span>|<span data-ttu-id="9030d-246">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-246">**nvarchar**</span></span>|<span data-ttu-id="9030d-247">被追蹤的 SQL Server 執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="9030d-247">The name of the instance of SQL Server being traced.</span></span>|<span data-ttu-id="9030d-248">26</span><span class="sxs-lookup"><span data-stu-id="9030d-248">26</span></span>|<span data-ttu-id="9030d-249">否</span><span class="sxs-lookup"><span data-stu-id="9030d-249">No</span></span>|  
|<span data-ttu-id="9030d-250">**SPID**</span><span class="sxs-lookup"><span data-stu-id="9030d-250">**SPID**</span></span>|<span data-ttu-id="9030d-251">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-251">**int**</span></span>|<span data-ttu-id="9030d-252">由 SQL Server 指派給用戶端關聯之處理序的伺服器處理序識別碼。</span><span class="sxs-lookup"><span data-stu-id="9030d-252">The server process ID assigned by SQL Server to the process associated with the client.</span></span>|<span data-ttu-id="9030d-253">12</span><span class="sxs-lookup"><span data-stu-id="9030d-253">12</span></span>|<span data-ttu-id="9030d-254">是</span><span class="sxs-lookup"><span data-stu-id="9030d-254">Yes</span></span>|  
|<span data-ttu-id="9030d-255">**StartTime**</span><span class="sxs-lookup"><span data-stu-id="9030d-255">**StartTime**</span></span>|<span data-ttu-id="9030d-256">**datetime**</span><span class="sxs-lookup"><span data-stu-id="9030d-256">**datetime**</span></span>|<span data-ttu-id="9030d-257">事件啟動的時間 (如果有的話)。</span><span class="sxs-lookup"><span data-stu-id="9030d-257">The time at which the event started, when available.</span></span>|<span data-ttu-id="9030d-258">14</span><span class="sxs-lookup"><span data-stu-id="9030d-258">14</span></span>|<span data-ttu-id="9030d-259">是</span><span class="sxs-lookup"><span data-stu-id="9030d-259">Yes</span></span>|  
|<span data-ttu-id="9030d-260">**State**</span><span class="sxs-lookup"><span data-stu-id="9030d-260">**State**</span></span>|<span data-ttu-id="9030d-261">**int**</span><span class="sxs-lookup"><span data-stu-id="9030d-261">**int**</span></span>|<span data-ttu-id="9030d-262">指出產生事件的 SQL Server 原始程式碼內的位置。</span><span class="sxs-lookup"><span data-stu-id="9030d-262">Indicates the location within the SQL Server source code that produced the event.</span></span> <span data-ttu-id="9030d-263">每個可能產生此事件的位置都有不同的狀態碼。</span><span class="sxs-lookup"><span data-stu-id="9030d-263">Each location that may produce this event has a different state code.</span></span> <span data-ttu-id="9030d-264">Microsoft 支援工程師可以使用此狀態碼來尋找產生事件的位置。</span><span class="sxs-lookup"><span data-stu-id="9030d-264">A Microsoft support engineer can use this state code to find where the event was produced.</span></span>|<span data-ttu-id="9030d-265">30</span><span class="sxs-lookup"><span data-stu-id="9030d-265">30</span></span>|<span data-ttu-id="9030d-266">否</span><span class="sxs-lookup"><span data-stu-id="9030d-266">No</span></span>|  
|<span data-ttu-id="9030d-267">**TargetUserName**</span><span class="sxs-lookup"><span data-stu-id="9030d-267">**TargetUserName**</span></span>|<span data-ttu-id="9030d-268">**nvarchar**</span><span class="sxs-lookup"><span data-stu-id="9030d-268">**nvarchar**</span></span>|<span data-ttu-id="9030d-269">登入狀態。</span><span class="sxs-lookup"><span data-stu-id="9030d-269">Login state.</span></span> <span data-ttu-id="9030d-270">值為下列其中之一：</span><span class="sxs-lookup"><span data-stu-id="9030d-270">One of:</span></span><br /><br /> <span data-ttu-id="9030d-271">INITIAL</span><span class="sxs-lookup"><span data-stu-id="9030d-271">INITIAL</span></span><br /><br /> <span data-ttu-id="9030d-272">WAIT LOGIN NEGOTIATE</span><span class="sxs-lookup"><span data-stu-id="9030d-272">WAIT LOGIN NEGOTIATE</span></span><br /><br /> <span data-ttu-id="9030d-273">ONE ISC</span><span class="sxs-lookup"><span data-stu-id="9030d-273">ONE ISC</span></span><br /><br /> <span data-ttu-id="9030d-274">ONE ASC</span><span class="sxs-lookup"><span data-stu-id="9030d-274">ONE ASC</span></span><br /><br /> <span data-ttu-id="9030d-275">TWO ISC</span><span class="sxs-lookup"><span data-stu-id="9030d-275">TWO ISC</span></span><br /><br /> <span data-ttu-id="9030d-276">TWO ASC</span><span class="sxs-lookup"><span data-stu-id="9030d-276">TWO ASC</span></span><br /><br /> <span data-ttu-id="9030d-277">WAIT ISC Confirm</span><span class="sxs-lookup"><span data-stu-id="9030d-277">WAIT ISC Confirm</span></span><br /><br /> <span data-ttu-id="9030d-278">WAIT ASC Confirm</span><span class="sxs-lookup"><span data-stu-id="9030d-278">WAIT ASC Confirm</span></span><br /><br /> <span data-ttu-id="9030d-279">WAIT REJECT</span><span class="sxs-lookup"><span data-stu-id="9030d-279">WAIT REJECT</span></span><br /><br /> <span data-ttu-id="9030d-280">WAIT PRE-MASTER SECRET</span><span class="sxs-lookup"><span data-stu-id="9030d-280">WAIT PRE-MASTER SECRET</span></span><br /><br /> <span data-ttu-id="9030d-281">WAIT VALIDATION</span><span class="sxs-lookup"><span data-stu-id="9030d-281">WAIT VALIDATION</span></span><br /><br /> <span data-ttu-id="9030d-282">WAIT ARBITRATION</span><span class="sxs-lookup"><span data-stu-id="9030d-282">WAIT ARBITRATION</span></span><br /><br /> <span data-ttu-id="9030d-283">ONLINE</span><span class="sxs-lookup"><span data-stu-id="9030d-283">ONLINE</span></span><br /><br /> <span data-ttu-id="9030d-284">ERROR</span><span class="sxs-lookup"><span data-stu-id="9030d-284">ERROR</span></span><br /><br /> <span data-ttu-id="9030d-285">**注意**ISC = 起始安全性內容。</span><span class="sxs-lookup"><span data-stu-id="9030d-285">**Note** ISC = Initiate Security Context.</span></span> <span data-ttu-id="9030d-286">ASC = Accept Security Context (接受安全性內容)</span><span class="sxs-lookup"><span data-stu-id="9030d-286">ASC = Accept Security Context</span></span>|<span data-ttu-id="9030d-287">39</span><span class="sxs-lookup"><span data-stu-id="9030d-287">39</span></span>|<span data-ttu-id="9030d-288">否</span><span class="sxs-lookup"><span data-stu-id="9030d-288">No</span></span>|  
|<span data-ttu-id="9030d-289">**TransactionID**</span><span class="sxs-lookup"><span data-stu-id="9030d-289">**TransactionID**</span></span>|<span data-ttu-id="9030d-290">**bigint**</span><span class="sxs-lookup"><span data-stu-id="9030d-290">**bigint**</span></span>|<span data-ttu-id="9030d-291">系統指派的交易識別碼。</span><span class="sxs-lookup"><span data-stu-id="9030d-291">The system-assigned ID of the transaction.</span></span>|<span data-ttu-id="9030d-292">4</span><span class="sxs-lookup"><span data-stu-id="9030d-292">4</span></span>|<span data-ttu-id="9030d-293">否</span><span class="sxs-lookup"><span data-stu-id="9030d-293">No</span></span>|  
  
 <span data-ttu-id="9030d-294">下表列出此事件類別的子類別值。</span><span class="sxs-lookup"><span data-stu-id="9030d-294">The table below lists the subclass values for this event class.</span></span>  
  
|<span data-ttu-id="9030d-295">ID</span><span class="sxs-lookup"><span data-stu-id="9030d-295">ID</span></span>|<span data-ttu-id="9030d-296">子類別</span><span class="sxs-lookup"><span data-stu-id="9030d-296">Subclass</span></span>|<span data-ttu-id="9030d-297">描述</span><span class="sxs-lookup"><span data-stu-id="9030d-297">Description</span></span>|  
|--------|--------------|-----------------|  
|<span data-ttu-id="9030d-298">1</span><span class="sxs-lookup"><span data-stu-id="9030d-298">1</span></span>|<span data-ttu-id="9030d-299">Login Success</span><span class="sxs-lookup"><span data-stu-id="9030d-299">Login Success</span></span>|<span data-ttu-id="9030d-300">Login Success 事件是用以報告已成功完成相鄰的 Broker 登入處理序。</span><span class="sxs-lookup"><span data-stu-id="9030d-300">A Login Success event reports that the adjacent broker login process has finished successfully.</span></span>|  
|<span data-ttu-id="9030d-301">2</span><span class="sxs-lookup"><span data-stu-id="9030d-301">2</span></span>|<span data-ttu-id="9030d-302">Login Protocol Error</span><span class="sxs-lookup"><span data-stu-id="9030d-302">Login Protocol Error</span></span>|<span data-ttu-id="9030d-303">Login Protocol Error 事件是用以報告 Broker 所收到的訊息格式正確，但對於登入處理序目前的狀態無效。</span><span class="sxs-lookup"><span data-stu-id="9030d-303">A Login Protocol Error event reports that the broker receives a message that is well-formed but not valid for the current state of the of the login process.</span></span> <span data-ttu-id="9030d-304">此訊息可能已遺失或未按照順序送出。</span><span class="sxs-lookup"><span data-stu-id="9030d-304">The message may have been lost or sent out-of-sequence.</span></span>|  
|<span data-ttu-id="9030d-305">3</span><span class="sxs-lookup"><span data-stu-id="9030d-305">3</span></span>|<span data-ttu-id="9030d-306">Message Format Error</span><span class="sxs-lookup"><span data-stu-id="9030d-306">Message Format Error</span></span>|<span data-ttu-id="9030d-307">Message Format Error 事件是用以報告 Broker 所收到訊息與預期的格式不符。</span><span class="sxs-lookup"><span data-stu-id="9030d-307">A Message Format Error event reports that the broker received a message that does not match the expected format.</span></span> <span data-ttu-id="9030d-308">該訊息可能已損毀，或是 SQL Server 以外的程式可能有傳送訊息給 Service Broker 所使用的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="9030d-308">The message may have been corrupted, or a program other than SQL Server may be sending messages to the port that Service Broker uses.</span></span>|  
|<span data-ttu-id="9030d-309">4</span><span class="sxs-lookup"><span data-stu-id="9030d-309">4</span></span>|<span data-ttu-id="9030d-310">Negotiate Failure</span><span class="sxs-lookup"><span data-stu-id="9030d-310">Negotiate Failure</span></span>|<span data-ttu-id="9030d-311">Negotiate Failure 事件是用以報告本機 Broker 與遠端 Broker 支援驗證的互斥層級。</span><span class="sxs-lookup"><span data-stu-id="9030d-311">A Negotiate Failure event reports that the local broker and the remote broker support mutually exclusive levels of authentication.</span></span>|  
|<span data-ttu-id="9030d-312">5</span><span class="sxs-lookup"><span data-stu-id="9030d-312">5</span></span>|<span data-ttu-id="9030d-313">Authentication Failure</span><span class="sxs-lookup"><span data-stu-id="9030d-313">Authentication Failure</span></span>|<span data-ttu-id="9030d-314">Authentication Failure 事件是用以報告由於發生錯誤，而使 Service Broker 無法執行要連接的驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-314">An Authentication Failure event reports that Service Broker cannot perform authentication for the connection due to an error.</span></span> <span data-ttu-id="9030d-315">對於 Windows 驗證而言，此事件是用以報告 Service Broker 無法使用 Windows 驗證。</span><span class="sxs-lookup"><span data-stu-id="9030d-315">For Windows Authentication, this event reports that Service Broker is unable to use Windows Authentication.</span></span> <span data-ttu-id="9030d-316">對於以憑證為基礎的驗證，此事件是用以報告 Service Broker 無法存取憑證。</span><span class="sxs-lookup"><span data-stu-id="9030d-316">For certificate-based authentication, this event reports that Service Broker is unable to access the certificate.</span></span>|  
|<span data-ttu-id="9030d-317">6</span><span class="sxs-lookup"><span data-stu-id="9030d-317">6</span></span>|<span data-ttu-id="9030d-318">授權失敗</span><span class="sxs-lookup"><span data-stu-id="9030d-318">Authorization Failure</span></span>|<span data-ttu-id="9030d-319">Authorization Failure 事件是用以報告 Service Broker 拒絕連接的授權。</span><span class="sxs-lookup"><span data-stu-id="9030d-319">An Authorization Failure event reports that Service Broker denied authorization for the connection.</span></span> <span data-ttu-id="9030d-320">對於 Windows 驗證，此事件是用以報告連接的安全性識別碼與資料庫使用者不相符。</span><span class="sxs-lookup"><span data-stu-id="9030d-320">For Windows Authentication, this event reports that the security identifier for the connection does not match a database user.</span></span> <span data-ttu-id="9030d-321">對於以憑證為基礎的驗證，此事件是用以報告訊息中所傳遞的公開金鑰與資料庫中的憑證不一致。</span><span class="sxs-lookup"><span data-stu-id="9030d-321">For certificate-based authentication, this event reports that the public key delivered in the message does not correspond to a certificate in the database.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="9030d-322">另請參閱</span><span class="sxs-lookup"><span data-stu-id="9030d-322">See Also</span></span>  
 <span data-ttu-id="9030d-323">[CREATE ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="9030d-323">[CREATE ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-endpoint-transact-sql) </span></span>  
 <span data-ttu-id="9030d-324">[ALTER ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-endpoint-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="9030d-324">[ALTER ENDPOINT &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-endpoint-transact-sql) </span></span>  
 [<span data-ttu-id="9030d-325">SQL Server Service Broker</span><span class="sxs-lookup"><span data-stu-id="9030d-325">SQL Server Service Broker</span></span>](../../database-engine/configure-windows/sql-server-service-broker.md)  
  
  
