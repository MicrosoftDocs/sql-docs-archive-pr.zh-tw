---
title: FILESTREAM 與其他 SQL Server 功能的相容性 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: filestream
ms.topic: conceptual
helpviewer_keywords:
- FILESTREAM [SQL Server], other SQL Server features and
- FILESTREAM [SQL Server], limitations
ms.assetid: d2c145dc-d49a-4f5b-91e6-89a2b0adb4f3
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 53bb99ea094261fd96f2a821dfaa5203e9796d8c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584586"
---
# <a name="filestream-compatibility-with-other-sql-server-features"></a><span data-ttu-id="81f01-102">FILESTREAM 與其他 SQL Server 功能的相容性</span><span class="sxs-lookup"><span data-stu-id="81f01-102">FILESTREAM Compatibility with Other SQL Server Features</span></span>
  <span data-ttu-id="81f01-103">由於 FILESTREAM 資料位於檔案系統中，所以本主題提供了搭配下列 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]功能使用 FILESTREAM 的一些考量、指導方針和限制：</span><span class="sxs-lookup"><span data-stu-id="81f01-103">Because FILESTREAM data is in the file system, this topic provides some considerations, guidelines, and limitations for using FILESTREAM with the following features in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:</span></span>  
  
-   [<span data-ttu-id="81f01-104">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="81f01-104">SQL Server Integration Services (SSIS)</span></span>](#ssis)  
  
-   [<span data-ttu-id="81f01-105">分散式查詢和連結的伺服器</span><span class="sxs-lookup"><span data-stu-id="81f01-105">Distributed Queries and Linked Servers</span></span>](#distqueries)  
  
-   [<span data-ttu-id="81f01-106">加密</span><span class="sxs-lookup"><span data-stu-id="81f01-106">Encryption</span></span>](#encryption)  
  
-   [<span data-ttu-id="81f01-107">資料庫快照集</span><span class="sxs-lookup"><span data-stu-id="81f01-107">Database Snapshots</span></span>](#DatabaseSnapshot)  
  
-   [<span data-ttu-id="81f01-108">複寫</span><span class="sxs-lookup"><span data-stu-id="81f01-108">Replication</span></span>](#Replication)  
  
-   [<span data-ttu-id="81f01-109">記錄傳送</span><span class="sxs-lookup"><span data-stu-id="81f01-109">Log Shipping</span></span>](#LogShipping)  
  
-   [<span data-ttu-id="81f01-110">資料庫鏡像</span><span class="sxs-lookup"><span data-stu-id="81f01-110">Database Mirroring</span></span>](#DatabaseMirroring)  
  
-   [<span data-ttu-id="81f01-111">全文檢索索引</span><span class="sxs-lookup"><span data-stu-id="81f01-111">Full-Text Indexing</span></span>](#FullText)  
  
-   [<span data-ttu-id="81f01-112">容錯移轉叢集</span><span class="sxs-lookup"><span data-stu-id="81f01-112">Failover Clustering</span></span>](#FailoverClustering)  
  
-   [<span data-ttu-id="81f01-113">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="81f01-113">SQL Server Express</span></span>](#SQLServerExpress)  
  
-   [<span data-ttu-id="81f01-114">自主資料庫</span><span class="sxs-lookup"><span data-stu-id="81f01-114">Contained Databases</span></span>](#contained)  
  
##  <a name="sql-server-integration-services-ssis"></a><a name="ssis"></a> <span data-ttu-id="81f01-115">SQL Server Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="81f01-115">SQL Server Integration Services (SSIS)</span></span>  
 <span data-ttu-id="81f01-116">SQL Server Integration Services (SSIS) 會使用 DT_IMAGE SSIS 資料類型來處理資料流程中的 FILESTREAM 資料，就像處理任何其他 BLOB 資料一樣。</span><span class="sxs-lookup"><span data-stu-id="81f01-116">SQL Server Integration Services (SSIS) handles FILESTREAM data in the data flow like any other BLOB data by using the DT_IMAGE SSIS data type.</span></span>  
  
 <span data-ttu-id="81f01-117">您可以使用匯入資料行轉換，將檔案系統中的檔案載入 FILESTREAM 資料行中。</span><span class="sxs-lookup"><span data-stu-id="81f01-117">You can use the Import Column transformation to load files from the file system into a FILESTREAM column.</span></span> <span data-ttu-id="81f01-118">您也可以使用匯出資料行轉換，將檔案從 FILESTREAM 資料行擷取至檔案系統中的其他位置。</span><span class="sxs-lookup"><span data-stu-id="81f01-118">You can also use the Export Column transformation to extract files from a FILESTREAM column to another location in the file system.</span></span>  
  
##  <a name="distributed-queries-and-linked-servers"></a><a name="distqueries"></a> <span data-ttu-id="81f01-119">分散式查詢和連結的伺服器</span><span class="sxs-lookup"><span data-stu-id="81f01-119">Distributed Queries and Linked Servers</span></span>  
 <span data-ttu-id="81f01-120">您可以透過分散式查詢和連結的伺服器來使用 FILESTREAM 資料，方法是將它視為 `varbinary(max)` 資料。</span><span class="sxs-lookup"><span data-stu-id="81f01-120">You can work with FILESTREAM data through distributed queries and linked servers by treating it as `varbinary(max)` data.</span></span> <span data-ttu-id="81f01-121">在使用四部分名稱的分散式查詢中，即使此名稱參考本機伺服器，也無法使用 FILESTREAM **PathName()** 函數。</span><span class="sxs-lookup"><span data-stu-id="81f01-121">You cannot use the FILESTREAM **PathName()** function in distributed queries that use a four-part name, even when the name refers to the local server.</span></span> <span data-ttu-id="81f01-122">不過， **PathName()** 可在使用 **OPENQUERY()** 之傳遞查詢的內部查詢中使用。</span><span class="sxs-lookup"><span data-stu-id="81f01-122">However you can use **PathName()** in the inner query of a pass-through query that uses **OPENQUERY()**.</span></span>  
  
##  <a name="encryption"></a><a name="encryption"></a> <span data-ttu-id="81f01-123">加密</span><span class="sxs-lookup"><span data-stu-id="81f01-123">Encryption</span></span>  
 <span data-ttu-id="81f01-124">即使啟用了透明資料加密，FILESTREAM 資料也不會加密。</span><span class="sxs-lookup"><span data-stu-id="81f01-124">FILESTREAM data is not encrypted even when transparent data encryption is enabled.</span></span>  
  
##  <a name="database-snapshots"></a><a name="DatabaseSnapshot"></a> <span data-ttu-id="81f01-125">資料庫快照集</span><span class="sxs-lookup"><span data-stu-id="81f01-125">Database Snapshots</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="81f01-126">不支援將 [資料庫快照集](../databases/database-snapshots-sql-server.md) 用於 FILESTREAM 檔案群組。</span><span class="sxs-lookup"><span data-stu-id="81f01-126">does not support [database snapshots](../databases/database-snapshots-sql-server.md) for FILESTREAM filegroups.</span></span> <span data-ttu-id="81f01-127">如果 FILESTREAM 檔案群組包含在 CREATE DATABASE ON 子句中，此陳述式將會失敗，並引發錯誤。</span><span class="sxs-lookup"><span data-stu-id="81f01-127">If a FILESTREAM filegroup is included in a CREATE DATABASE ON clause, the statement will fail and an error will be raised.</span></span>  
  
 <span data-ttu-id="81f01-128">當您使用 FILESTREAM 時，可以建立標準 (非 FILESTREAM) 檔案群組的資料庫快照集。</span><span class="sxs-lookup"><span data-stu-id="81f01-128">When you are using FILESTREAM, you can create database snapshots of standard (non-FILESTREAM) filegroups.</span></span> <span data-ttu-id="81f01-129">FILESTREAM 檔案群組將會針對這些資料庫快照集標示為離線。</span><span class="sxs-lookup"><span data-stu-id="81f01-129">The FILESTREAM filegroups are marked as offline for those database snapshots.</span></span>  
  
 <span data-ttu-id="81f01-130">在資料庫快照集中，FILESTREAM 資料表上執行的 SELECT 陳述式不能包含 FILESTREAM 資料行，否則會傳回下列錯誤訊息：</span><span class="sxs-lookup"><span data-stu-id="81f01-130">A SELECT statement that is executed on a FILESTREAM table in a database snapshot must not include a FILESTREAM column; otherwise, the following error message will be returned:</span></span>  
  
 `Could not continue scan with NOLOCK due to data movement.`  
  
##  <a name="replication"></a><a name="Replication"></a> <span data-ttu-id="81f01-131">Replication</span><span class="sxs-lookup"><span data-stu-id="81f01-131">Replication</span></span>  
 <span data-ttu-id="81f01-132">在簽發者上啟用 FILESTREAM 屬性的 `varbinary(max)` 資料行可以複寫到訂閱者上 (不論有沒有 FILESTREAM 屬性)。</span><span class="sxs-lookup"><span data-stu-id="81f01-132">A `varbinary(max)` column that has the FILESTREAM attribute enabled at the Publisher can be replicated to a Subscriber with or without the FILESTREAM attribute.</span></span> <span data-ttu-id="81f01-133">若要指定複寫資料行的方式，請使用 [發行項屬性 - \<Article>] 對話方塊或是 [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) 或 [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) 的 @schema_option 參數。</span><span class="sxs-lookup"><span data-stu-id="81f01-133">To specify the way in which the column is replicated, use the **Article Properties - \<Article>** dialog box or the @schema_option parameter of [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql) or [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="81f01-134">複寫到沒有 FILESTREAM 屬性之 `varbinary(max)` 資料行的資料不能超過該資料類型的 2-GB 限制，否則會產生執行階段錯誤。</span><span class="sxs-lookup"><span data-stu-id="81f01-134">Data that is replicated to a `varbinary(max)` column that does not have the FILESTREAM attribute must not exceed the 2-GB limit for that data type; otherwise, a run-time error is generated.</span></span> <span data-ttu-id="81f01-135">我們建議您複寫 FILESTREAM 屬性，除非您要將資料複寫至「 [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] 訂閱者」，而不支援將它複寫至「訂閱者」，而不論指定的架構選項為何。</span><span class="sxs-lookup"><span data-stu-id="81f01-135">We recommend that you replicate the FILESTREAM attribute, unless you are replicating data to [!INCLUDE[ssVersion2005](../../includes/ssversion2000-md.md)] Subscribers is not supported, regardless of the schema option that is specified.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="81f01-136">將大型資料值從 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 複寫到 [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] 訂閱者受到最大 256 MB 資料值的限制。</span><span class="sxs-lookup"><span data-stu-id="81f01-136">Replicating large data values from [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Subscribers is limited to a maximum of 256 MB data values.</span></span> <span data-ttu-id="81f01-137">如需詳細資訊，請參閱＜ [SQL Server 2005 的最大容量規格](https://go.microsoft.com/fwlink/?LinkId=103810)＞。</span><span class="sxs-lookup"><span data-stu-id="81f01-137">For more information, see [Maximum Capacity Specifications](https://go.microsoft.com/fwlink/?LinkId=103810).</span></span>  
  
### <a name="considerations-for-transactional-replication"></a><span data-ttu-id="81f01-138">異動複寫考量</span><span class="sxs-lookup"><span data-stu-id="81f01-138">Considerations for Transactional Replication</span></span>  
 <span data-ttu-id="81f01-139">如果您在針對異動複寫發行之資料表中使用 FILESTREAM 資料行，請注意以下考量：</span><span class="sxs-lookup"><span data-stu-id="81f01-139">If you use FILESTREAM columns in tables that are published for transactional replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="81f01-140">如果有任何資料表包含具有 FILESTREAM 屬性 (attribute) 的資料行，您將無法針對 [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql) 的 @sync_method 屬性 (property) 使用「資料庫快照集」或「資料庫快照集字元」的值。</span><span class="sxs-lookup"><span data-stu-id="81f01-140">If any tables include columns that have the FILESTREAM attribute, you cannot use values of *database snapshot* or *database snapshot character* for the @sync_method property of [sp_addpublication](/sql/relational-databases/system-stored-procedures/sp-addpublication-transact-sql).</span></span>  
  
-   <span data-ttu-id="81f01-141">max text repl size 選項會指定可以插入要發行以供複寫之資料行中的資料數量上限。</span><span class="sxs-lookup"><span data-stu-id="81f01-141">The max text repl size option specifies the maximum amount of data that can be inserted into a column that is published for replication.</span></span> <span data-ttu-id="81f01-142">此選項可用來控制所複寫之 FILESTREAM 資料的大小。</span><span class="sxs-lookup"><span data-stu-id="81f01-142">This option can be used to control the size of FILESTREAM data that is replicated.</span></span>  
  
-   <span data-ttu-id="81f01-143">如果您指定此結構描述選項來複寫 FILESTREAM 屬性，但是您篩選出 FILESTREAM 所需的 `uniqueidentifier` 資料行，或是指定不要為此資料行複寫 UNIQUE 條件約束，則複寫作業不會複寫 FILESTREAM 屬性。</span><span class="sxs-lookup"><span data-stu-id="81f01-143">If you specify the schema option to replicate the FILESTREAM attribute, but you filter out the `uniqueidentifier` column that FILESTREAM requires or you specify not to replicate the UNIQUE constraint for the column, replication does not replicate the FILESTREAM attribute.</span></span> <span data-ttu-id="81f01-144">此資料行只會複寫為 `varbinary(max)` 資料行。</span><span class="sxs-lookup"><span data-stu-id="81f01-144">The column is replicated only as a `varbinary(max)` column.</span></span>  
  
### <a name="considerations-for-merge-replication"></a><span data-ttu-id="81f01-145">合併式複寫考量</span><span class="sxs-lookup"><span data-stu-id="81f01-145">Considerations for Merge Replication</span></span>  
 <span data-ttu-id="81f01-146">如果您在針對合併式複寫發行之資料表中使用 FILESTREAM 資料行，請注意以下考量：</span><span class="sxs-lookup"><span data-stu-id="81f01-146">If you use FILESTREAM columns in tables that are published for merge replication, note the following considerations:</span></span>  
  
-   <span data-ttu-id="81f01-147">合併式複寫和 FILESTREAM 都需要 `uniqueidentifier` 資料類型的資料行，以識別資料表中的每一個資料列。</span><span class="sxs-lookup"><span data-stu-id="81f01-147">Both merge replication and FILESTREAM require a column of data type `uniqueidentifier` to identify each row in a table.</span></span> <span data-ttu-id="81f01-148">如果資料表沒有資料行，合併式複寫會自動加入資料行。</span><span class="sxs-lookup"><span data-stu-id="81f01-148">Merge replication automatically adds a column if the table does not have one.</span></span> <span data-ttu-id="81f01-149">合併式複寫會要求此資料行設定 ROWGUIDCOL 屬性及具有 NEWID() 或 NEWSEQUENTIALID() 的預設值。</span><span class="sxs-lookup"><span data-stu-id="81f01-149">Merge replication requires that the column have the ROWGUIDCOL property set and a default of NEWID() or NEWSEQUENTIALID().</span></span> <span data-ttu-id="81f01-150">除了這些需求以外，FILESTREAM 也要求必須針對此資料行定義 UNIQUE 條件約束。</span><span class="sxs-lookup"><span data-stu-id="81f01-150">In addition to these requirements, FILESTREAM requires that a UNIQUE constraint be defined for the column.</span></span> <span data-ttu-id="81f01-151">這些需求的結果如下：</span><span class="sxs-lookup"><span data-stu-id="81f01-151">These requirements have the following consequences:</span></span>  
  
    -   <span data-ttu-id="81f01-152">如果您將 FILESTREAM 資料行加入至已針對合併式複寫發行的資料表中，請確定 `uniqueidentifier` 資料行具有 UNIQUE 條件約束。</span><span class="sxs-lookup"><span data-stu-id="81f01-152">If you add a FILESTREAM column to a table that is already published for merge replication, make sure that the `uniqueidentifier` column has a UNIQUE constraint.</span></span> <span data-ttu-id="81f01-153">如果它沒有 UNIQUE 條件約束，請將具名條件約束加入至發行集資料庫內的資料表。</span><span class="sxs-lookup"><span data-stu-id="81f01-153">If it does not have a UNIQUE constraint, add a named constraint to the table in the publication database.</span></span> <span data-ttu-id="81f01-154">根據預設，合併式複寫將會發行這個結構描述變更，並將此變更套用到每一個訂閱資料庫。</span><span class="sxs-lookup"><span data-stu-id="81f01-154">By default, merge replication will publish this schema change, and it will be applied to each subscription database.</span></span>  
  
         <span data-ttu-id="81f01-155">如果您如所述的內容手動加入 UNIQUE 條件約束，而且您想要移除合併式複寫，您就必須先移除 UNIQUE 條件約束，否則複寫移除將會失敗。</span><span class="sxs-lookup"><span data-stu-id="81f01-155">If you add a UNIQUE constraint manually as described and you want to remove merge replication, you must first remove the UNIQUE constraint; otherwise, replication removal will fail.</span></span>  
  
    -   <span data-ttu-id="81f01-156">根據預設，合併式複寫會使用 NEWSEQUENTIALID()，因為它可以提供比 NEWID() 更好的效能。</span><span class="sxs-lookup"><span data-stu-id="81f01-156">By default, merge replication uses NEWSEQUENTIALID() because it can provide better performance than NEWID().</span></span> <span data-ttu-id="81f01-157">如果您將 `uniqueidentifier` 資料行加入將針對合併式複寫發行的資料表中，請將 NEWSEQUENTIALID() 指定為預設值。</span><span class="sxs-lookup"><span data-stu-id="81f01-157">If you add a `uniqueidentifier` column to a table that will be published for merge replication, specify NEWSEQUENTIALID() as the default.</span></span>  
  
-   <span data-ttu-id="81f01-158">合併式複寫包括複寫大型物件類型的最佳化，</span><span class="sxs-lookup"><span data-stu-id="81f01-158">Merge replication includes an optimization for replicating large object types.</span></span> <span data-ttu-id="81f01-159">此最佳化作業是由 [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) 的 @stream_blob_columns 參數所控制。</span><span class="sxs-lookup"><span data-stu-id="81f01-159">This optimization is controlled by the @stream_blob_columns parameter of [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="81f01-160">如果您設定此結構描述選項來複寫 FILESTREAM 屬性，則 @stream_blob_columns 參數值會設定為 `true`。</span><span class="sxs-lookup"><span data-stu-id="81f01-160">If you set the schema option to replicate the FILESTREAM attribute, the @stream_blob_columns parameter value is set to `true`.</span></span> <span data-ttu-id="81f01-161">可以使用 [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)來覆寫此最佳化。</span><span class="sxs-lookup"><span data-stu-id="81f01-161">This optimization can be overridden by using [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="81f01-162">這個預存程序可讓您將 @stream_blob_columns 設定為 `false`。</span><span class="sxs-lookup"><span data-stu-id="81f01-162">This stored procedure enables you to set @stream_blob_columns to `false`.</span></span> <span data-ttu-id="81f01-163">如果您將 FILESTREAM 資料行加入至已針對合併式複寫發行的資料表中，我們建議您使用 sp_changemergearticle 將此選項設定為 `true`。</span><span class="sxs-lookup"><span data-stu-id="81f01-163">If you add a FILESTREAM column to a table that is already published for merge replication, we recommend that you set the option to `true` by using sp_changemergearticle.</span></span>  
  
-   <span data-ttu-id="81f01-164">如果 FILESTREAM 資料行中的資料超過 2 GB，而且複寫之後發生了衝突，則在建立發行項之後針對 FILESTREAM 啟用此結構描述選項會造成複寫失敗。</span><span class="sxs-lookup"><span data-stu-id="81f01-164">Enabling the schema option for FILESTREAM after an article is created can cause replication to fail if the data in a FILESTREAM column exceeds 2 GB and there is a conflict during replication.</span></span> <span data-ttu-id="81f01-165">如果您預期會發生這個狀況，建議您卸除及重新建立資料表發行項，並在建立時啟用適當的 FILESTREAM 結構描述選項。</span><span class="sxs-lookup"><span data-stu-id="81f01-165">If you expect this situation to arise, it is recommended that you drop and re-create the table article with the appropriate FILESTREAM schema option enabled at creation time.</span></span>  
  
-   <span data-ttu-id="81f01-166">合併式複寫可以透過 HTTPS 連接同步處理 FILESTREAM 資料 (利用 [Web 同步處理](../replication/merge/merge-replication.md))。</span><span class="sxs-lookup"><span data-stu-id="81f01-166">Merge replication can synchronize FILESTREAM data over an HTTPS connection by using [Web Synchronization](../replication/merge/merge-replication.md).</span></span> <span data-ttu-id="81f01-167">這項資料不能超過 Web 同步處理的 50 MB 限制，否則會產生執行階段錯誤。</span><span class="sxs-lookup"><span data-stu-id="81f01-167">This data cannot exceed the 50 MB limit for Web Synchronization; otherwise, a run-time error is generated.</span></span>  
  
##  <a name="log-shipping"></a><a name="LogShipping"></a> <span data-ttu-id="81f01-168">記錄傳送</span><span class="sxs-lookup"><span data-stu-id="81f01-168">Log Shipping</span></span>  
 <span data-ttu-id="81f01-169">[記錄傳送](../../database-engine/log-shipping/about-log-shipping-sql-server.md) 支援 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="81f01-169">[Log shipping](../../database-engine/log-shipping/about-log-shipping-sql-server.md) supports FILESTREAM.</span></span> <span data-ttu-id="81f01-170">主要和次要伺服器都必須執行 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]或更新的版本，並啟用 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="81f01-170">Both the primary and secondary servers must be running [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], or a later version, and have FILESTREAM enabled.</span></span>  
  
##  <a name="database-mirroring"></a><a name="DatabaseMirroring"></a> <span data-ttu-id="81f01-171">資料庫鏡像</span><span class="sxs-lookup"><span data-stu-id="81f01-171">Database Mirroring</span></span>  
 <span data-ttu-id="81f01-172">資料庫鏡像不支援 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="81f01-172">Database mirroring does not support FILESTREAM.</span></span> <span data-ttu-id="81f01-173">不能在主體伺服器上建立 FILESTREAM 檔案群組。</span><span class="sxs-lookup"><span data-stu-id="81f01-173">A FILESTREAM filegroup cannot be created on the principal server.</span></span> <span data-ttu-id="81f01-174">不能針對包含 FILESTREAM 檔案群組的資料庫設定資料庫鏡像。</span><span class="sxs-lookup"><span data-stu-id="81f01-174">Database mirroring cannot be configured for a database that contains FILESTREAM filegroups.</span></span>  
  
##  <a name="full-text-indexing"></a><a name="FullText"></a> <span data-ttu-id="81f01-175">全文檢索索引</span><span class="sxs-lookup"><span data-stu-id="81f01-175">Full-Text Indexing</span></span>  
 <span data-ttu-id="81f01-176">[全文檢索索引](../indexes/indexes.md)的運作方式與 FILESTREAM 資料行相同，方法與資料 `varbinary(max)` 行相同。</span><span class="sxs-lookup"><span data-stu-id="81f01-176">[Full-text indexing](../indexes/indexes.md) works with a FILESTREAM column in the same way that it does with a `varbinary(max)` column.</span></span> <span data-ttu-id="81f01-177">FILESTREAM 資料表必須有一個資料行包含每一個 FILESTREAM BLOB 的副檔名。</span><span class="sxs-lookup"><span data-stu-id="81f01-177">The FILESTREAM table must have a column that contains the file name extension for each FILESTREAM BLOB.</span></span> <span data-ttu-id="81f01-178">如需詳細資訊，請參閱[使用全文檢索搜尋進行查詢](../search/query-with-full-text-search.md)、[設定及管理搜尋的篩選](../search/configure-and-manage-filters-for-search.md)和 [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="81f01-178">For more information, see [Query with Full-Text Search](../search/query-with-full-text-search.md), [Configure and Manage Filters for Search](../search/configure-and-manage-filters-for-search.md), and [sys.fulltext_document_types &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-fulltext-document-types-transact-sql).</span></span>  
  
 <span data-ttu-id="81f01-179">全文檢索引擎會針對 FILESTREAM BLOB 的內容建立索引。</span><span class="sxs-lookup"><span data-stu-id="81f01-179">The full-text engine indexes the contents of the FILESTREAM BLOBs.</span></span> <span data-ttu-id="81f01-180">為檔案 (如影像) 建立索引可能不會很實用。</span><span class="sxs-lookup"><span data-stu-id="81f01-180">Indexing files such as images might not be useful.</span></span> <span data-ttu-id="81f01-181">當更新 FILESTREAM BLOB 時，會為它重新建立索引。</span><span class="sxs-lookup"><span data-stu-id="81f01-181">When a FILESTREAM BLOB is updated it is reindexed.</span></span>  
  
##  <a name="failover-clustering"></a><a name="FailoverClustering"></a> <span data-ttu-id="81f01-182">容錯移轉叢集</span><span class="sxs-lookup"><span data-stu-id="81f01-182">Failover Clustering</span></span>  
 <span data-ttu-id="81f01-183">當您進行容錯移轉叢集時，FILESTREAM 檔案群組必須放在共用磁碟上。</span><span class="sxs-lookup"><span data-stu-id="81f01-183">For failover clustering, FILESTREAM filegroups must be put on a shared disk.</span></span> <span data-ttu-id="81f01-184">FILESTREAM 必須在叢集中主控 FILESTREAM 執行個體的每一個節點上啟用。</span><span class="sxs-lookup"><span data-stu-id="81f01-184">FILESTREAM must be enabled on each node in the cluster that will host the FILESTREAM instance.</span></span> <span data-ttu-id="81f01-185">如需詳細資訊，請參閱 [設定容錯移轉叢集上的 FILESTREAM](set-up-filestream-on-a-failover-cluster.md)。</span><span class="sxs-lookup"><span data-stu-id="81f01-185">For more information, see [Set Up FILESTREAM on a Failover Cluster](set-up-filestream-on-a-failover-cluster.md).</span></span>  
  
##  <a name="sql-server-express"></a><a name="SQLServerExpress"></a> <span data-ttu-id="81f01-186">SQL Server Express</span><span class="sxs-lookup"><span data-stu-id="81f01-186">SQL Server Express</span></span>  
 [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] <span data-ttu-id="81f01-187">支援 FILESTREAM。</span><span class="sxs-lookup"><span data-stu-id="81f01-187">supports FILESTREAM.</span></span> <span data-ttu-id="81f01-188">10-GB 的資料庫大小限制不包括 FILESTREAM 資料容器。</span><span class="sxs-lookup"><span data-stu-id="81f01-188">The 10-GB database size limit does not include the FILESTREAM data container.</span></span>  
  
##  <a name="contained-databases"></a><a name="contained"></a> <span data-ttu-id="81f01-189">自主資料庫</span><span class="sxs-lookup"><span data-stu-id="81f01-189">Contained Databases</span></span>  
 <span data-ttu-id="81f01-190">FILESTREAM 功能必須先在資料庫外部進行一些設定。</span><span class="sxs-lookup"><span data-stu-id="81f01-190">The FILESTREAM feature requires some configuration outside of the database.</span></span> <span data-ttu-id="81f01-191">因此，使用 FILESTREAM 或 FileTable 的資料庫並非完全自主。</span><span class="sxs-lookup"><span data-stu-id="81f01-191">Therefore a database that uses FILESTREAM or FileTable is not fully contained.</span></span>  
  
 <span data-ttu-id="81f01-192">若要使用自主資料庫的特定功能 (例如包含的使用者)，可以將資料庫內含項目設定為 PARTIAL。</span><span class="sxs-lookup"><span data-stu-id="81f01-192">You can set database containment to PARTIAL if you want to use certain features of contained databases, such as contained users.</span></span> <span data-ttu-id="81f01-193">但在此情況下，必須注意某些資料庫設定不會包含在資料庫中，因此不會隨資料庫移動自動移動。</span><span class="sxs-lookup"><span data-stu-id="81f01-193">In this case, however, you must be aware that some of the database settings are not contained in the database and are not automatically moved when the database moves.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81f01-194">另請參閱</span><span class="sxs-lookup"><span data-stu-id="81f01-194">See Also</span></span>  
 [<span data-ttu-id="81f01-195">二進位大型物件 &#40;Blob&#41; 資料 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="81f01-195">Binary Large Object &#40;Blob&#41; Data &#40;SQL Server&#41;</span></span>](binary-large-object-blob-data-sql-server.md)  
  
  
