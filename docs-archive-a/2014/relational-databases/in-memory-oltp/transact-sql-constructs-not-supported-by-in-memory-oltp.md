---
title: 記憶體內部 OLTP 不支援的 Transact-SQL 建構 | Microsoft 文件
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: e3f8009c-319d-4d7b-8993-828e55ccde11
author: rothja
ms.author: jroth
ms.openlocfilehash: 2b5df47d05730b8f6ec6a82045686d462ace1682
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708341"
---
# <a name="transact-sql-constructs-not-supported-by-in-memory-oltp"></a><span data-ttu-id="4c874-102">記憶體中的 OLTP 不支援 Transact-SQL 建構</span><span class="sxs-lookup"><span data-stu-id="4c874-102">Transact-SQL Constructs Not Supported by In-Memory OLTP</span></span>
  <span data-ttu-id="4c874-103">記憶體最佳化資料表和原生編譯預存程序並未支援磁碟資料表和解譯的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 預存程序所支援的全部 [!INCLUDE[tsql](../../includes/tsql-md.md)] 介面區。</span><span class="sxs-lookup"><span data-stu-id="4c874-103">Memory-optimized tables and natively compiled stored procedures do not support the full [!INCLUDE[tsql](../../includes/tsql-md.md)] surface area that is supported by disk-based tables and interpreted [!INCLUDE[tsql](../../includes/tsql-md.md)] stored procedures.</span></span> <span data-ttu-id="4c874-104">嘗試使用其中一項不支援的功能時，伺服器會傳回錯誤。</span><span class="sxs-lookup"><span data-stu-id="4c874-104">When attempting to use one of the unsupported features, the server returns an error.</span></span>  
  
 <span data-ttu-id="4c874-105">錯誤訊息文字會說明 [!INCLUDE[tsql](../../includes/tsql-md.md)] 陳述式的類型 (例如功能、作業、選項等) 以及功能的名稱或 [!INCLUDE[tsql](../../includes/tsql-md.md)] 關鍵字。</span><span class="sxs-lookup"><span data-stu-id="4c874-105">The error message text mentions the type of [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (feature, operation, option, for example) and well as the name of the feature or [!INCLUDE[tsql](../../includes/tsql-md.md)] keyword.</span></span> <span data-ttu-id="4c874-106">大部分不支援的功能會傳回錯誤 10794，並提供錯誤訊息文字指出不支援的功能。</span><span class="sxs-lookup"><span data-stu-id="4c874-106">Most unsupported features will return error 10794, with the error message text indicating the unsupported feature.</span></span> <span data-ttu-id="4c874-107">下表列出可能出現在錯誤訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-107">The following tables list the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the error message text, as well as the corrective action to resolve the error.</span></span>  
  
 <span data-ttu-id="4c874-108">如需記憶體最佳化資料表和原生方式編譯預存程序之支援功能的詳細資訊，請參閱：</span><span class="sxs-lookup"><span data-stu-id="4c874-108">For more information on supported features with memory-optimized tables and natively compiled stored procedures, see:</span></span>  
  
-   [<span data-ttu-id="4c874-109">原生編譯預存程序的移轉問題</span><span class="sxs-lookup"><span data-stu-id="4c874-109">Migration Issues for Natively Compiled Stored Procedures</span></span>](migration-issues-for-natively-compiled-stored-procedures.md)  
  
-   [<span data-ttu-id="4c874-110">記憶體內部 OLTP 的 Transact-SQL 支援</span><span class="sxs-lookup"><span data-stu-id="4c874-110">Transact-SQL Support for In-Memory OLTP</span></span>](transact-sql-support-for-in-memory-oltp.md)  
  
-   [<span data-ttu-id="4c874-111">支援的 SQL Server 功能</span><span class="sxs-lookup"><span data-stu-id="4c874-111">Supported SQL Server Features</span></span>](unsupported-sql-server-features-for-in-memory-oltp.md)  
  
-   [<span data-ttu-id="4c874-112">原生編譯的預存程序</span><span class="sxs-lookup"><span data-stu-id="4c874-112">Natively Compiled Stored Procedures</span></span>](../in-memory-oltp/natively-compiled-stored-procedures.md)  
  
## <a name="databases-that-use-in-memory-oltp"></a><span data-ttu-id="4c874-113">使用記憶體中 OLTP 的資料庫</span><span class="sxs-lookup"><span data-stu-id="4c874-113">Databases That Use In-Memory OLTP</span></span>  
 <span data-ttu-id="4c874-114">下表列出錯誤訊息文字中，可能會出現和記憶體中 OLTP 資料庫有關的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能與關鍵字。</span><span class="sxs-lookup"><span data-stu-id="4c874-114">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving an In-Memory OLTP database.</span></span>  
  
|<span data-ttu-id="4c874-115">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-115">Type</span></span>|<span data-ttu-id="4c874-116">名稱</span><span class="sxs-lookup"><span data-stu-id="4c874-116">Name</span></span>|<span data-ttu-id="4c874-117">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-117">Resolution</span></span>|  
|----------|----------|----------------|  
|<span data-ttu-id="4c874-118">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-118">Option</span></span>|<span data-ttu-id="4c874-119">AUTO_CLOSE</span><span class="sxs-lookup"><span data-stu-id="4c874-119">AUTO_CLOSE</span></span>|<span data-ttu-id="4c874-120">具有 MEMORY_OPTIMIZED_DATA 檔案群組的資料庫不支援資料庫選項 AUTO_CLOSE=ON。</span><span class="sxs-lookup"><span data-stu-id="4c874-120">The database option AUTO_CLOSE=ON is not supported with databases that have a MEMORY_OPTIMIZED_DATA filegroup.</span></span>|  
|<span data-ttu-id="4c874-121">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-121">Option</span></span>|<span data-ttu-id="4c874-122">ATTACH_REBUILD_LOG</span><span class="sxs-lookup"><span data-stu-id="4c874-122">ATTACH_REBUILD_LOG</span></span>|<span data-ttu-id="4c874-123">具有 MEMORY_OPTIMIZED_DATA 檔案群組的資料庫不支援 CREATE 資料庫選項 ATTACH_REBUILD_LOG。</span><span class="sxs-lookup"><span data-stu-id="4c874-123">The CREATE database option ATTACH_REBUILD_LOG is not supported with databases that have a MEMORY_OPTIMIZED_DATA filegroup.</span></span>|  
|<span data-ttu-id="4c874-124">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-124">Feature</span></span>|<span data-ttu-id="4c874-125">資料庫快照</span><span class="sxs-lookup"><span data-stu-id="4c874-125">DATABASE SNAPSHOT</span></span>|<span data-ttu-id="4c874-126">具有 MEMORY_OPTIMIZED_DATA 檔案群組的資料庫無法建立資料庫快照。</span><span class="sxs-lookup"><span data-stu-id="4c874-126">Creating database snapshots is not supported with databases that have a MEMORY_OPTIMIZED_DATA filegroup.</span></span>|  
|<span data-ttu-id="4c874-127">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-127">Feature</span></span>|<span data-ttu-id="4c874-128">使用 sync_method 'database snapshot' 或 'database snapshot character' 進行複寫</span><span class="sxs-lookup"><span data-stu-id="4c874-128">Replication using the sync_method 'database snapshot' or 'database snapshot character'</span></span>|<span data-ttu-id="4c874-129">具有 MEMORY_OPTIMIZED_DATA 檔案群組的資料庫無法使用 sync_method 'database snapshot' 或 'database snapshot character' 進行複寫。</span><span class="sxs-lookup"><span data-stu-id="4c874-129">Replication using the sync_method 'database snapshot' or 'database snapshot character' is not supported with databases that have a MEMORY_OPTIMIZED_DATA filegroup.</span></span>|  
|<span data-ttu-id="4c874-130">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-130">Feature</span></span>|<span data-ttu-id="4c874-131">DBCC CHECKDB</span><span class="sxs-lookup"><span data-stu-id="4c874-131">DBCC CHECKDB</span></span><br /><br /> <span data-ttu-id="4c874-132">DBCC CHECKTABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-132">DBCC CHECKTABLE</span></span>|<span data-ttu-id="4c874-133">DBCC CHECKDB 會略過資料庫中記憶體最佳化資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-133">DBCC CHECKDB skips the memory-optimized tables in the database.</span></span><br /><br /> <span data-ttu-id="4c874-134">DBCC CHECKTABLE 無法檢查記憶體最佳化資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-134">DBCC CHECKTABLE will fail for memory-optimized tables.</span></span>|  
  
## <a name="memory-optimized-tables"></a><span data-ttu-id="4c874-135">記憶體最佳化的資料表</span><span class="sxs-lookup"><span data-stu-id="4c874-135">Memory-Optimized Tables</span></span>  
 <span data-ttu-id="4c874-136">下表列出可能出現於涉及記憶體最佳化資料表之錯誤訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-136">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving a memory-optimized table, as well as the corrective action to resolve the error.</span></span>  
  
|<span data-ttu-id="4c874-137">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-137">Type</span></span>|<span data-ttu-id="4c874-138">名稱</span><span class="sxs-lookup"><span data-stu-id="4c874-138">Name</span></span>|<span data-ttu-id="4c874-139">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-139">Resolution</span></span>|  
|----------|----------|----------------|  
|<span data-ttu-id="4c874-140">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-140">Feature</span></span>|<span data-ttu-id="4c874-141">開啟</span><span class="sxs-lookup"><span data-stu-id="4c874-141">ON</span></span>|<span data-ttu-id="4c874-142">記憶體最佳化資料表不可放置在檔案群組或分割區配置上。</span><span class="sxs-lookup"><span data-stu-id="4c874-142">Memory-optimized tables cannot be placed on a filegroup or partition scheme.</span></span> <span data-ttu-id="4c874-143">請從 `CREATE TABLE` 陳述式中移除 ON 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-143">Remove the ON clause from the `CREATE TABLE` statement.</span></span>|  
|<span data-ttu-id="4c874-144">資料類型</span><span class="sxs-lookup"><span data-stu-id="4c874-144">Data type</span></span>|<span data-ttu-id="4c874-145">*資料類型名稱*</span><span class="sxs-lookup"><span data-stu-id="4c874-145">*Data type name*</span></span>|<span data-ttu-id="4c874-146">不支援所指的資料類型。</span><span class="sxs-lookup"><span data-stu-id="4c874-146">The indicated data type is not supported.</span></span> <span data-ttu-id="4c874-147">請用其中一種支援的資料類型取代該類型。</span><span class="sxs-lookup"><span data-stu-id="4c874-147">Replace the type with one of the supported data types.</span></span> <span data-ttu-id="4c874-148">如需詳細資訊，請參閱[支援的資料類型](supported-data-types-for-in-memory-oltp.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-148">For more information, see [Supported Data Types](supported-data-types-for-in-memory-oltp.md).</span></span>|  
|<span data-ttu-id="4c874-149">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-149">Feature</span></span>|<span data-ttu-id="4c874-150">計算資料行</span><span class="sxs-lookup"><span data-stu-id="4c874-150">Computed columns</span></span>|<span data-ttu-id="4c874-151">記憶體最佳化資料表中不支援計算資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-151">Computed columns are not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-152">請從 `CREATE TABLE` 陳述式中移除計算資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-152">Remove the computed columns from the `CREATE TABLE` statement.</span></span>|  
|<span data-ttu-id="4c874-153">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-153">Feature</span></span>|<span data-ttu-id="4c874-154">複寫</span><span class="sxs-lookup"><span data-stu-id="4c874-154">Replication</span></span>|<span data-ttu-id="4c874-155">記憶體最佳化資料表不支援複寫。</span><span class="sxs-lookup"><span data-stu-id="4c874-155">Replication is not supported with memory-optimized tables.</span></span>|  
|<span data-ttu-id="4c874-156">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-156">Feature</span></span>|<span data-ttu-id="4c874-157">FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="4c874-157">FILESTREAM</span></span>|<span data-ttu-id="4c874-158">FILESTREAM 儲存體不是記憶體最佳化資料表支援的資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-158">FILESTREAM storage is not supported columns of memory-optimized tables.</span></span> <span data-ttu-id="4c874-159">請從資料行定義中移除 `FILESTREAM` 關鍵字。</span><span class="sxs-lookup"><span data-stu-id="4c874-159">Remove the `FILESTREAM` keyword from the column definition.</span></span>|  
|<span data-ttu-id="4c874-160">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-160">Feature</span></span>|<span data-ttu-id="4c874-161">SPARSE</span><span class="sxs-lookup"><span data-stu-id="4c874-161">SPARSE</span></span>|<span data-ttu-id="4c874-162">記憶體最佳化資料表的資料行不可定義為 SPARSE。</span><span class="sxs-lookup"><span data-stu-id="4c874-162">Columns of memory-optimized tables cannot be defined as SPARSE.</span></span> <span data-ttu-id="4c874-163">請從資料行定義中移除 `SPARSE` 關鍵字。</span><span class="sxs-lookup"><span data-stu-id="4c874-163">Remove the `SPARSE` keyword from the column definition.</span></span>|  
|<span data-ttu-id="4c874-164">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-164">Feature</span></span>|<span data-ttu-id="4c874-165">ROWGUIDCOL</span><span class="sxs-lookup"><span data-stu-id="4c874-165">ROWGUIDCOL</span></span>|<span data-ttu-id="4c874-166">ROWGUIDCOL 選項不是記憶體最佳化資料表支援的資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-166">The option ROWGUIDCOL is not supported for columns of memory-optimized tables.</span></span> <span data-ttu-id="4c874-167">請從資料行定義中移除 `ROWGUIDCOL` 關鍵字。</span><span class="sxs-lookup"><span data-stu-id="4c874-167">Remove the `ROWGUIDCOL` keyword from the column definition.</span></span>|  
|<span data-ttu-id="4c874-168">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-168">Feature</span></span>|<span data-ttu-id="4c874-169">FOREIGN KEY</span><span class="sxs-lookup"><span data-stu-id="4c874-169">FOREIGN KEY</span></span>|<span data-ttu-id="4c874-170">記憶體最佳化資料表中不支援 FOREIGN KEY 條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-170">FOREIGN KEY constraints are not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-171">請從資料表定義中移除條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-171">Remove the constraint from the table definition.</span></span><br /><br /> <span data-ttu-id="4c874-172">如需如何減輕條件約束支援的相關資訊，請參閱[遷移 Check 和 Foreign Key 條件約束](../../database-engine/migrating-check-and-foreign-key-constraints.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-172">For information about how to mitigate the lack of support for constraints, see [Migrating Check and Foreign Key Constraints](../../database-engine/migrating-check-and-foreign-key-constraints.md).</span></span>|  
|<span data-ttu-id="4c874-173">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-173">Feature</span></span>|<span data-ttu-id="4c874-174">CHECK</span><span class="sxs-lookup"><span data-stu-id="4c874-174">CHECK</span></span>|<span data-ttu-id="4c874-175">記憶體最佳化資料表中不支援 CHECK 條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-175">CHECK constraints are not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-176">請從資料表定義中移除條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-176">Remove the constraint from the table definition.</span></span><br /><br /> <span data-ttu-id="4c874-177">如需如何減輕條件約束支援的相關資訊，請參閱[遷移 Check 和 Foreign Key 條件約束](../../database-engine/migrating-check-and-foreign-key-constraints.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-177">For information about how to mitigate the lack of support for constraints, see [Migrating Check and Foreign Key Constraints](../../database-engine/migrating-check-and-foreign-key-constraints.md).</span></span>|  
|<span data-ttu-id="4c874-178">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-178">Feature</span></span>|<span data-ttu-id="4c874-179">UNIQUE</span><span class="sxs-lookup"><span data-stu-id="4c874-179">UNIQUE</span></span>|<span data-ttu-id="4c874-180">記憶體最佳化資料表不支援 UNIQUE 條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-180">UNIQUE constraints are not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-181">請從資料表定義中移除條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-181">Remove the constraint from the table definition.</span></span><br /><br /> <span data-ttu-id="4c874-182">如需如何減輕條件約束支援的相關資訊，請參閱[遷移 Check 和 Foreign Key 條件約束](../../database-engine/migrating-check-and-foreign-key-constraints.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-182">For information about how to mitigate the lack of support for constraints, see [Migrating Check and Foreign Key Constraints](../../database-engine/migrating-check-and-foreign-key-constraints.md).</span></span>|  
|<span data-ttu-id="4c874-183">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-183">Feature</span></span>|<span data-ttu-id="4c874-184">COLUMNSTORE</span><span class="sxs-lookup"><span data-stu-id="4c874-184">COLUMNSTORE</span></span>|<span data-ttu-id="4c874-185">記憶體最佳化資料表中不支援 COLUMNSTORE 索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-185">COLUMNSTORE indexes are not supported with memory-optimized tables.</span></span> <span data-ttu-id="4c874-186">請改為指定 NONCLUSTERED 或 NONCLUSTERED HASH 索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-186">Specify a NONCLUSTERED or NONCLUSTERED HASH index instead.</span></span>|  
|<span data-ttu-id="4c874-187">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-187">Feature</span></span>|<span data-ttu-id="4c874-188">叢集索引</span><span class="sxs-lookup"><span data-stu-id="4c874-188">clustered index</span></span>|<span data-ttu-id="4c874-189">指定非叢集索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-189">Specify a nonclustered index.</span></span> <span data-ttu-id="4c874-190">對於主索引鍵索引，請務必指定 `PRIMARY KEY NONCLUSTERED [HASH]`。</span><span class="sxs-lookup"><span data-stu-id="4c874-190">In the case of a primary key index be sure to specify `PRIMARY KEY NONCLUSTERED [HASH]`.</span></span>|  
|<span data-ttu-id="4c874-191">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-191">Feature</span></span>|<span data-ttu-id="4c874-192">非 1252 字碼頁</span><span class="sxs-lookup"><span data-stu-id="4c874-192">non-1252 code page</span></span>|<span data-ttu-id="4c874-193">記憶體最佳化資料表中資料類型為 `char` 和 `varchar` 的資料行必須使用字碼頁 1252。</span><span class="sxs-lookup"><span data-stu-id="4c874-193">Columns in memory-optimized tables with data types `char` and `varchar` must use code page 1252.</span></span> <span data-ttu-id="4c874-194">請使用 n(var)char 而不要 (var)char，或是使用字碼頁為 1252 的定序 (例如，Latin1_General_BIN2)。</span><span class="sxs-lookup"><span data-stu-id="4c874-194">Use n(var)char instead of (var)char, or use a collation with code page 1252 (for example, Latin1_General_BIN2).</span></span> <span data-ttu-id="4c874-195">如需詳細資訊，請參閱 [Collations and Code Pages](../../database-engine/collations-and-code-pages.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-195">For more information, see [Collations and Code Pages](../../database-engine/collations-and-code-pages.md).</span></span>|  
|<span data-ttu-id="4c874-196">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-196">Feature</span></span>|<span data-ttu-id="4c874-197">交易內的 DDL</span><span class="sxs-lookup"><span data-stu-id="4c874-197">DDL inside transactions</span></span>|<span data-ttu-id="4c874-198">記憶體最佳化資料表和原生編譯預存程序無法在使用者交易內容中建立或卸除。</span><span class="sxs-lookup"><span data-stu-id="4c874-198">Memory-optimized tables and natively compiled stored procedures cannot be created or dropped in the context of a user transaction.</span></span> <span data-ttu-id="4c874-199">請不要啟動交易，並確認工作階段設定 IMPLICIT_TRANSACTIONS 為 OFF，再執行 CREATE 或 DROP 陳述式。</span><span class="sxs-lookup"><span data-stu-id="4c874-199">Do not start a transaction and ensure the session setting IMPLICIT_TRANSACTIONS is OFF before executing the CREATE or DROP statement.</span></span>|  
|<span data-ttu-id="4c874-200">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-200">Feature</span></span>|<span data-ttu-id="4c874-201">DDL 觸發程序</span><span class="sxs-lookup"><span data-stu-id="4c874-201">DDL triggers</span></span>|<span data-ttu-id="4c874-202">如果該 DDL 作業有伺服器或資料庫觸發程序，則無法建立或卸除記憶體最佳化資料表和原生編譯預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-202">Memory-optimized tables and natively compiled stored procedures cannot be created or dropped if there is a server or database trigger for that DDL operation.</span></span> <span data-ttu-id="4c874-203">請移除 CREATE/DROP TABLE 和 CREATE/DROP PROCEDURE 上的伺服器和資料庫觸發程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-203">Remove the server and database triggers on CREATE/DROP TABLE and CREATE/DROP PROCEDURE.</span></span>|  
|<span data-ttu-id="4c874-204">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-204">Feature</span></span>|<span data-ttu-id="4c874-205">EVENT NOTIFICATION</span><span class="sxs-lookup"><span data-stu-id="4c874-205">EVENT NOTIFICATION</span></span>|<span data-ttu-id="4c874-206">如果該 DDL 作業有伺服器或資料庫事件通知，便無法建立或卸除記憶體最佳化資料表和原生編譯的預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-206">Memory-optimized tables and natively compiled stored procedures cannot be created or dropped if there is a server or database event notification for that DDL operation.</span></span> <span data-ttu-id="4c874-207">移除 CREATE TABLE 或 DROP TABLE 與 CREATE PROCEDURE 或 DROP PROCEDURE 上的伺服器和資料庫事件通知。</span><span class="sxs-lookup"><span data-stu-id="4c874-207">Remove the server and database event notifications on CREATE TABLE or DROP TABLE and CREATE PROCEDURE or DROP PROCEDURE.</span></span>|  
|<span data-ttu-id="4c874-208">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-208">Feature</span></span>|<span data-ttu-id="4c874-209">FileTable</span><span class="sxs-lookup"><span data-stu-id="4c874-209">FileTable</span></span>|<span data-ttu-id="4c874-210">記憶體最佳化資料表不可建立為檔案資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-210">Memory-optimized tables cannot be created as file tables.</span></span> <span data-ttu-id="4c874-211">請從 `AS FileTable` 陳述式中移除 `CREATE TABLE` 引數</span><span class="sxs-lookup"><span data-stu-id="4c874-211">Remove the argument `AS FileTable` from the `CREATE TABLE` statement</span></span>|  
|<span data-ttu-id="4c874-212">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-212">Operation</span></span>|<span data-ttu-id="4c874-213">主索引鍵資料行的更新。</span><span class="sxs-lookup"><span data-stu-id="4c874-213">Update of primary key columns</span></span>|<span data-ttu-id="4c874-214">記憶體最佳化資料表中的主索引鍵資料行和資料類型無法更新。</span><span class="sxs-lookup"><span data-stu-id="4c874-214">Primary key columns in memory-optimized tables and table types cannot be updated.</span></span> <span data-ttu-id="4c874-215">如果主索引鍵需要更新，請刪除舊資料列，並插入包含更新之主索引鍵的新資料列。</span><span class="sxs-lookup"><span data-stu-id="4c874-215">If the primary key needs to be updated, delete the old row and insert the new row with the updated primary key.</span></span>|  
|<span data-ttu-id="4c874-216">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-216">Operation</span></span>|<span data-ttu-id="4c874-217">CREATE INDEX</span><span class="sxs-lookup"><span data-stu-id="4c874-217">CREATE INDEX</span></span>|<span data-ttu-id="4c874-218">記憶體最佳化資料表上的索引必須採用內嵌於 `CREATE TABLE` 陳述式的方式指定。</span><span class="sxs-lookup"><span data-stu-id="4c874-218">Indexes on memory-optimized tables must be specified inline with the `CREATE TABLE` statement.</span></span> <span data-ttu-id="4c874-219">若要將索引加入至記憶體最佳化資料表，請卸除再重新建立資料表，包括新的索引指定。</span><span class="sxs-lookup"><span data-stu-id="4c874-219">To add an index to a memory-optimized table, drop and recreate the table, including the new index specification.</span></span>|  
|<span data-ttu-id="4c874-220">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-220">Operation</span></span>|<span data-ttu-id="4c874-221">ALTER TABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-221">ALTER TABLE</span></span>|<span data-ttu-id="4c874-222">不支援修改記憶體最佳化資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-222">Altering memory-optimized tables is not supported.</span></span> <span data-ttu-id="4c874-223">請卸除資料表，並使用更新的資料表定義重新建立資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-223">Drop and recreate the table using the updated table definition.</span></span>|  
|<span data-ttu-id="4c874-224">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-224">Operation</span></span>|<span data-ttu-id="4c874-225">CREATE FULLTEXT INDEX</span><span class="sxs-lookup"><span data-stu-id="4c874-225">CREATE FULLTEXT INDEX</span></span>|<span data-ttu-id="4c874-226">記憶體最佳化資料表中不支援全文檢索索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-226">Fulltext indexes are not supported for memory-optimized tables.</span></span>|  
|<span data-ttu-id="4c874-227">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-227">Operation</span></span>|<span data-ttu-id="4c874-228">結構描述變更</span><span class="sxs-lookup"><span data-stu-id="4c874-228">schema change</span></span>|<span data-ttu-id="4c874-229">記憶體最佳化資料表和原生編譯預存程序不支援結構描述變更，例如 `sp_rename`。</span><span class="sxs-lookup"><span data-stu-id="4c874-229">Memory-optimized tables and natively compiled stored procedures do not support shema changes, for example, `sp_rename`.</span></span><br /><br /> <span data-ttu-id="4c874-230">嘗試變更結構描述 (例如重新命名資料) 將會產生錯誤 12320。記憶體最佳化資料表不支援需要變更結構描述版本 (例如重新命名) 的作業。</span><span class="sxs-lookup"><span data-stu-id="4c874-230">Attempting to make schema changes, such as renaming a table, will generate error 12320, Operations that require a change to the schema version, for example renaming, are not supported with memory-optimized tables.</span></span><br /><br /> <span data-ttu-id="4c874-231">若要變更結構描述，請卸除資料表或程序，然後使用更新的定義重新建立資料表或程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-231">To change the schema, drop and recreate the table or procedure using an updated definition.</span></span>|  
|<span data-ttu-id="4c874-232">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-232">Operation</span></span>|<span data-ttu-id="4c874-233">CREATE TRIGGER</span><span class="sxs-lookup"><span data-stu-id="4c874-233">CREATE TRIGGER</span></span>|<span data-ttu-id="4c874-234">記憶體最佳化資料表上不支援觸發程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-234">Triggers on memory-optimized tables are not supported.</span></span>|  
|<span data-ttu-id="4c874-235">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-235">Operation</span></span>|<span data-ttu-id="4c874-236">TRUNCATE TABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-236">TRUNCATE TABLE</span></span>|<span data-ttu-id="4c874-237">記憶體最佳化資料表不支援 TRUNCATE 作業。</span><span class="sxs-lookup"><span data-stu-id="4c874-237">The TRUNCATE operation is not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-238">若要移除資料表中的所有資料列，請使用資料表刪除所有資料列， `DELETE FROM` *table*或卸載並重新建立資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-238">To remove all rows from a table, delete all rows using `DELETE FROM`*table* or drop and recreate the table.</span></span>|  
|<span data-ttu-id="4c874-239">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-239">Operation</span></span>|<span data-ttu-id="4c874-240">ALTER AUTHORIZATION</span><span class="sxs-lookup"><span data-stu-id="4c874-240">ALTER AUTHORIZATION</span></span>|<span data-ttu-id="4c874-241">不支援變更現有記憶體最佳化資料表或原生編譯預存程序的擁有者。</span><span class="sxs-lookup"><span data-stu-id="4c874-241">Changing the owner of an existing memory-optimized table or natively compiled stored procedure is not supported.</span></span> <span data-ttu-id="4c874-242">請卸除後再重新建立資料表或程序，以變更擁有權。</span><span class="sxs-lookup"><span data-stu-id="4c874-242">Drop and recreate the table or procedure to change ownership.</span></span>|  
|<span data-ttu-id="4c874-243">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-243">Operation</span></span>|<span data-ttu-id="4c874-244">ALTER SCHEMA</span><span class="sxs-lookup"><span data-stu-id="4c874-244">ALTER SCHEMA</span></span>|<span data-ttu-id="4c874-245">不支援變更現有記憶體最佳化資料表或原生編譯之預存程序的結構描述。</span><span class="sxs-lookup"><span data-stu-id="4c874-245">Changing the schema of an existing memory-optimized table or natively compiled stored procedure is not supported.</span></span> <span data-ttu-id="4c874-246">必須先卸除再重新建立資料表或程序，才能變更結構描述。</span><span class="sxs-lookup"><span data-stu-id="4c874-246">Drop and recreate the table or procedure to change the schema.</span></span>|  
|<span data-ttu-id="4c874-247">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-247">Operation</span></span>|<span data-ttu-id="4c874-248">DBCC CHECKTABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-248">DBCC CHECKTABLE</span></span>|<span data-ttu-id="4c874-249">記憶體最佳化資料表中不支援 DBCC CHECKTABLE。</span><span class="sxs-lookup"><span data-stu-id="4c874-249">DBCC CHECKTABLE is not supported with memory-optimized tables.</span></span>|  
|<span data-ttu-id="4c874-250">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-250">Feature</span></span>|<span data-ttu-id="4c874-251">ANSI_PADDING OFF</span><span class="sxs-lookup"><span data-stu-id="4c874-251">ANSI_PADDING OFF</span></span>|<span data-ttu-id="4c874-252">建立記憶體最佳化資料表或原生編譯預存程序時，工作階段選項 `ANSI_PADDING` 必須為 ON。</span><span class="sxs-lookup"><span data-stu-id="4c874-252">The session option `ANSI_PADDING` must be ON when creating memory-optimized tables or natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-253">執行 CREATE 陳述式之前，請先執行 `SET ANSI_PADDING ON`。</span><span class="sxs-lookup"><span data-stu-id="4c874-253">Execute `SET ANSI_PADDING ON` before running the CREATE statement.</span></span>|  
|<span data-ttu-id="4c874-254">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-254">Option</span></span>|<span data-ttu-id="4c874-255">DATA_COMPRESSION</span><span class="sxs-lookup"><span data-stu-id="4c874-255">DATA_COMPRESSION</span></span>|<span data-ttu-id="4c874-256">記憶體最佳化資料表中不支援資料壓縮。</span><span class="sxs-lookup"><span data-stu-id="4c874-256">Data compression is not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-257">請從資料表定義中移除此選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-257">Remove the option from the table definition.</span></span>|  
|<span data-ttu-id="4c874-258">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-258">Feature</span></span>|<span data-ttu-id="4c874-259">DTC</span><span class="sxs-lookup"><span data-stu-id="4c874-259">DTC</span></span>|<span data-ttu-id="4c874-260">記憶體最佳化資料表和原生編譯預存程序無法從分散式交易中存取。</span><span class="sxs-lookup"><span data-stu-id="4c874-260">Memory-optimized tables and natively compiled stored procedures cannot be accessed from distributed transactions.</span></span> <span data-ttu-id="4c874-261">請改用 SQL 交易。</span><span class="sxs-lookup"><span data-stu-id="4c874-261">Use SQL transactions instead.</span></span>|  
|<span data-ttu-id="4c874-262">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-262">Feature</span></span>|<span data-ttu-id="4c874-263">Multiple Active Result Sets (MARS)</span><span class="sxs-lookup"><span data-stu-id="4c874-263">Multiple Active Result Sets (MARS)</span></span>|<span data-ttu-id="4c874-264">記憶體最佳化資料表不支援 Multiple Active Result Sets (MARS)。</span><span class="sxs-lookup"><span data-stu-id="4c874-264">Multiple Active Result Sets (MARS) is not supported with memory-optimized tables.</span></span> <span data-ttu-id="4c874-265">此錯誤也可能表示使用連結的伺服器。</span><span class="sxs-lookup"><span data-stu-id="4c874-265">This error can also indicate linked server use.</span></span> <span data-ttu-id="4c874-266">連結的伺服器可以使用 MARS。</span><span class="sxs-lookup"><span data-stu-id="4c874-266">Linked server can use MARS.</span></span> <span data-ttu-id="4c874-267">記憶體最佳化資料表中不支援連結的伺服器。</span><span class="sxs-lookup"><span data-stu-id="4c874-267">Linked servers are not supported with memory-optimized tables.</span></span> <span data-ttu-id="4c874-268">請改為直接連接至裝載記憶體最佳化資料表的伺服器和資料庫。</span><span class="sxs-lookup"><span data-stu-id="4c874-268">Instead, connect directly to the server and database that hosts the memory-optimized tables.</span></span>|  
|<span data-ttu-id="4c874-269">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-269">Operation</span></span>|<span data-ttu-id="4c874-270">以記憶體最佳化資料表做為 MERGE 的目標</span><span class="sxs-lookup"><span data-stu-id="4c874-270">Memory-optimized tables as target of MERGE</span></span>|<span data-ttu-id="4c874-271">記憶體最佳化資料表不可以是 `MERGE` 作業的目標。</span><span class="sxs-lookup"><span data-stu-id="4c874-271">Memory-optimized tables cannot be the target of a `MERGE` operation.</span></span> <span data-ttu-id="4c874-272">請改用 `INSERT`、`UPDATE` 或 `DELETE` 陳述式。</span><span class="sxs-lookup"><span data-stu-id="4c874-272">Use `INSERT`, `UPDATE`, or `DELETE` statements instead.</span></span>|  
  
## <a name="indexes-on-memory-optimized-tables"></a><span data-ttu-id="4c874-273">記憶體最佳化資料表上的索引</span><span class="sxs-lookup"><span data-stu-id="4c874-273">Indexes on Memory-Optimized Tables</span></span>  
 <span data-ttu-id="4c874-274">下表列出可能出現於涉及記憶體最佳化資料表上某個索引錯誤之訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-274">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving an index on a memory-optimized table, as well as the corrective action to resolve the error.</span></span>  
  
|<span data-ttu-id="4c874-275">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-275">Type</span></span>|<span data-ttu-id="4c874-276">名稱</span><span class="sxs-lookup"><span data-stu-id="4c874-276">Name</span></span>|<span data-ttu-id="4c874-277">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-277">Resolution</span></span>|  
|----------|----------|----------------|  
|<span data-ttu-id="4c874-278">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-278">Feature</span></span>|<span data-ttu-id="4c874-279">已篩選的索引</span><span class="sxs-lookup"><span data-stu-id="4c874-279">Filtered index</span></span>|<span data-ttu-id="4c874-280">記憶體最佳化資料表中不支援篩選的索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-280">Filtered indexes are not supported with memory-optimized tables.</span></span> <span data-ttu-id="4c874-281">請從索引指定中省略 `WHERE` 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-281">Omit the `WHERE` clause from the index specification.</span></span>|  
|<span data-ttu-id="4c874-282">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-282">Feature</span></span>|<span data-ttu-id="4c874-283">UNIQUE</span><span class="sxs-lookup"><span data-stu-id="4c874-283">UNIQUE</span></span>|<span data-ttu-id="4c874-284">記憶體最佳化資料表中不支援唯一索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-284">Unique indexes are not supported for memory-optimized tables.</span></span> <span data-ttu-id="4c874-285">請從索引指定中移除引數 `UNIQUE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-285">Remove the argument `UNIQUE` from the index specification.</span></span>|  
|<span data-ttu-id="4c874-286">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-286">Feature</span></span>|<span data-ttu-id="4c874-287">可為 null 的資料行</span><span class="sxs-lookup"><span data-stu-id="4c874-287">Nullable columns</span></span>|<span data-ttu-id="4c874-288">記憶體最佳化資料表上索引之索引鍵中的所有資料行都必須指定為 `NOT NULL`。</span><span class="sxs-lookup"><span data-stu-id="4c874-288">All columns in the key of an index on a memory-optimized table must be specified as `NOT NULL`.</span></span> <span data-ttu-id="4c874-289">請在索引鍵中的所有資料行包含 `NOT NULL` 條件約束。</span><span class="sxs-lookup"><span data-stu-id="4c874-289">Include the `NOT NULL` constraint with all columns in the index keys.</span></span>|  
|<span data-ttu-id="4c874-290">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-290">Feature</span></span>|<span data-ttu-id="4c874-291">非 bin2 定序</span><span class="sxs-lookup"><span data-stu-id="4c874-291">non-bin2 collation</span></span>|<span data-ttu-id="4c874-292">記憶體最佳化索引之索引鍵中的所有字元資料行都必須使用 BIN2 定序宣告。</span><span class="sxs-lookup"><span data-stu-id="4c874-292">All character columns in the key of a memory-optimized index must be declared using a BIN2 collation.</span></span> <span data-ttu-id="4c874-293">請使用 `COLLATE` 子句設定資料行定義中的定序。</span><span class="sxs-lookup"><span data-stu-id="4c874-293">Use the `COLLATE` clause to set the collation in the column definition.</span></span> <span data-ttu-id="4c874-294">如需詳細資訊，請參閱 [Collations and Code Pages](../../database-engine/collations-and-code-pages.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-294">For more information, see [Collations and Code Pages](../../database-engine/collations-and-code-pages.md).</span></span>|  
|<span data-ttu-id="4c874-295">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-295">Feature</span></span>|<span data-ttu-id="4c874-296">包含的資料行</span><span class="sxs-lookup"><span data-stu-id="4c874-296">Included columns</span></span>|<span data-ttu-id="4c874-297">記憶體最佳化資料表並不需要指定內含資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-297">Specifying included columns is not necessary for memory-optimized tables.</span></span> <span data-ttu-id="4c874-298">記憶體最佳化資料表內所有的資料行都是隱含包含在每一個記憶體最佳化的索引中。</span><span class="sxs-lookup"><span data-stu-id="4c874-298">All columns of the memory-optimized table are implicitly included in every memory-optimized index.</span></span>|  
|<span data-ttu-id="4c874-299">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-299">Operation</span></span>|<span data-ttu-id="4c874-300">ALTER INDEX</span><span class="sxs-lookup"><span data-stu-id="4c874-300">ALTER INDEX</span></span>|<span data-ttu-id="4c874-301">不支援修改記憶體最佳化資料表上的索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-301">Altering indexes on memory-optimized tables is not supported.</span></span> <span data-ttu-id="4c874-302">請改為卸除資料表，並使用更新的索引指定重新建立資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-302">Instead, drop the table and recreate it using the updated index specification.</span></span>|  
|<span data-ttu-id="4c874-303">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-303">Operation</span></span>|<span data-ttu-id="4c874-304">DROP INDEX</span><span class="sxs-lookup"><span data-stu-id="4c874-304">DROP INDEX</span></span>|<span data-ttu-id="4c874-305">不支援卸除記憶體最佳化資料表上的索引。</span><span class="sxs-lookup"><span data-stu-id="4c874-305">Dropping indexes on memory-optimized tables is not supported.</span></span> <span data-ttu-id="4c874-306">請改為卸除資料表，並使用所需的索引重新建立資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-306">Instead, drop the table and recreate it with the desired indexes.</span></span>|  
|<span data-ttu-id="4c874-307">索引選項</span><span class="sxs-lookup"><span data-stu-id="4c874-307">Index option</span></span>|<span data-ttu-id="4c874-308">*索引選項*</span><span class="sxs-lookup"><span data-stu-id="4c874-308">*Index option*</span></span>|<span data-ttu-id="4c874-309">記憶體最佳化資料表中的索引不支援指出的索引選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-309">The indicated index option is not supported with indexes on memory-optimized tables.</span></span> <span data-ttu-id="4c874-310">請從索引指定中移除該選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-310">Remove the option from the index specification.</span></span>|  
  
## <a name="nonclustered-hash-indexes"></a><span data-ttu-id="4c874-311">非叢集雜湊索引</span><span class="sxs-lookup"><span data-stu-id="4c874-311">Nonclustered Hash Indexes</span></span>  
 <span data-ttu-id="4c874-312">下表列出可能出現於涉及非叢集雜湊索引之錯誤訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-312">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving a nonclustered hash index, as well as the corrective action to resolve the error.</span></span>  
  
|<span data-ttu-id="4c874-313">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-313">Type</span></span>|<span data-ttu-id="4c874-314">名稱</span><span class="sxs-lookup"><span data-stu-id="4c874-314">Name</span></span>|<span data-ttu-id="4c874-315">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-315">Resolution</span></span>|  
|----------|----------|----------------|  
|<span data-ttu-id="4c874-316">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-316">Option</span></span>|<span data-ttu-id="4c874-317">ASC/DESC</span><span class="sxs-lookup"><span data-stu-id="4c874-317">ASC/DESC</span></span>|<span data-ttu-id="4c874-318">非叢集雜湊索引不會排序。</span><span class="sxs-lookup"><span data-stu-id="4c874-318">Nonclustered hash indexes are not ordered.</span></span> <span data-ttu-id="4c874-319">請從索引鍵指定中移除關鍵字 `ASC` 和 `DESC`。</span><span class="sxs-lookup"><span data-stu-id="4c874-319">Remove the keywords `ASC` and `DESC` from the index key specification.</span></span>|  
  
## <a name="natively-compiled-stored-procedures"></a><span data-ttu-id="4c874-320">原生編譯的預存程序</span><span class="sxs-lookup"><span data-stu-id="4c874-320">Natively Compiled Stored Procedures</span></span>  
 <span data-ttu-id="4c874-321">下表列出可能出現於涉及原生編譯預存程序之錯誤訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-321">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving natively compiled stored procedures, as well as the corrective action to resolve the error.</span></span>  
  
|<span data-ttu-id="4c874-322">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-322">Type</span></span>|<span data-ttu-id="4c874-323">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-323">Feature</span></span>|<span data-ttu-id="4c874-324">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-324">Resolution</span></span>|  
|----------|-------------|----------------|  
|<span data-ttu-id="4c874-325">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-325">Feature</span></span>|<span data-ttu-id="4c874-326">內嵌資料表變數</span><span class="sxs-lookup"><span data-stu-id="4c874-326">Inline table variables</span></span>|<span data-ttu-id="4c874-327">資料表類型無法以內嵌於變數宣告中的方式宣告。</span><span class="sxs-lookup"><span data-stu-id="4c874-327">Table types cannot be declared inline with variable declarations.</span></span> <span data-ttu-id="4c874-328">資料表類型必須使用 `CREATE TYPE` 陳述式明確宣告。</span><span class="sxs-lookup"><span data-stu-id="4c874-328">Table types must be declared explicitly using a `CREATE TYPE` statement.</span></span>|  
|<span data-ttu-id="4c874-329">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-329">Feature</span></span>|<span data-ttu-id="4c874-330">資料指標</span><span class="sxs-lookup"><span data-stu-id="4c874-330">Cursors</span></span>|<span data-ttu-id="4c874-331">原生編譯預存程序上或內部不支援資料指標。</span><span class="sxs-lookup"><span data-stu-id="4c874-331">Cursors are not supported on or in natively compiled stored procedures.</span></span><br /><br /> <span data-ttu-id="4c874-332">-從用戶端執行程式時，請使用 RPC，而不是資料指標 API。</span><span class="sxs-lookup"><span data-stu-id="4c874-332">-When executing the procedure from the client, use RPC rather than the cursor API.</span></span> <span data-ttu-id="4c874-333">使用 ODBC 時，避免 [!INCLUDE[tsql](../../includes/tsql-md.md)] 陳述式 `EXECUTE`，請改為直接指定程序的名稱。</span><span class="sxs-lookup"><span data-stu-id="4c874-333">With ODBC, avoid the [!INCLUDE[tsql](../../includes/tsql-md.md)] statement `EXECUTE`, instead specify the name of the procedure directly.</span></span><br /><br /> <span data-ttu-id="4c874-334">-從 [!INCLUDE[tsql](../../includes/tsql-md.md)] 批次或另一個預存程式執行程式時，請避免將資料指標與原生編譯預存程式搭配使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-334">-When executing the procedure from a [!INCLUDE[tsql](../../includes/tsql-md.md)] batch or another stored procedure, avoid using a cursor with the natively compiled stored procedure.</span></span><br /><br /> <span data-ttu-id="4c874-335">-建立原生編譯的預存程式時，不要使用資料指標，而是使用以集合為基礎的邏輯或 `WHILE` 迴圈。</span><span class="sxs-lookup"><span data-stu-id="4c874-335">-When creating a natively compiled stored procedure, rather than using a cursor, use set-based logic or a `WHILE` loop.</span></span>|  
|<span data-ttu-id="4c874-336">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-336">Feature</span></span>|<span data-ttu-id="4c874-337">非常數參數的預設值</span><span class="sxs-lookup"><span data-stu-id="4c874-337">Non-constant parameter defaults</span></span>|<span data-ttu-id="4c874-338">在原生編譯預存程序上使用具有參數的預設值時，值必須為常數。</span><span class="sxs-lookup"><span data-stu-id="4c874-338">When using default values with parameters on natively compiled stored procedures, the values must be constants.</span></span> <span data-ttu-id="4c874-339">請從參數宣告中移除任何萬用字元。</span><span class="sxs-lookup"><span data-stu-id="4c874-339">Remove any wildcards from the parameter declarations.</span></span>|  
|<span data-ttu-id="4c874-340">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-340">Feature</span></span>|<span data-ttu-id="4c874-341">EXTERNAL</span><span class="sxs-lookup"><span data-stu-id="4c874-341">EXTERNAL</span></span>|<span data-ttu-id="4c874-342">無法對 CLR 預存程序執行原生編譯。</span><span class="sxs-lookup"><span data-stu-id="4c874-342">CLR stored procedures cannot be natively compiled.</span></span> <span data-ttu-id="4c874-343">從 CREATE PROCEDURE 陳述式中移除 AS EXTERNAL 子句或 NATIVE_COMPILATION 選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-343">Either remove the AS EXTERNAL clause or the NATIVE_COMPILATION option from the CREATE PROCEDURE statement.</span></span>|  
|<span data-ttu-id="4c874-344">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-344">Feature</span></span>|<span data-ttu-id="4c874-345">編號的預存程序</span><span class="sxs-lookup"><span data-stu-id="4c874-345">Numbered stored procedures</span></span>|<span data-ttu-id="4c874-346">原生編譯預存程序不可編號。</span><span class="sxs-lookup"><span data-stu-id="4c874-346">Natively compiled stored procedures cannot be numbered.</span></span> <span data-ttu-id="4c874-347">請 `;` 從語句中移除該*數位* `CREATE PROCEDURE` 。</span><span class="sxs-lookup"><span data-stu-id="4c874-347">Remove the `;`*number* from the `CREATE PROCEDURE` statement.</span></span>|  
|<span data-ttu-id="4c874-348">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-348">Feature</span></span>|<span data-ttu-id="4c874-349">多資料列 INSERT ...VALUES 陳述式</span><span class="sxs-lookup"><span data-stu-id="4c874-349">multi-row INSERT ... VALUES statements</span></span>|<span data-ttu-id="4c874-350">無法使用相同的 `INSERT` 陳述式在原生編譯預存程序中插入多個資料列。</span><span class="sxs-lookup"><span data-stu-id="4c874-350">Cannot insert multiple rows using the same `INSERT` statement in a natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-351">請為每個資料列建立 `INSERT` 陳述式。</span><span class="sxs-lookup"><span data-stu-id="4c874-351">Create `INSERT` statements for each row.</span></span>|  
|<span data-ttu-id="4c874-352">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-352">Feature</span></span>|<span data-ttu-id="4c874-353">通用資料表運算式 (CTE)</span><span class="sxs-lookup"><span data-stu-id="4c874-353">Common Table Expressions (CTEs)</span></span>|<span data-ttu-id="4c874-354">原生編譯預存程序中不支援通用資料表運算式 (CTE)。</span><span class="sxs-lookup"><span data-stu-id="4c874-354">Common table expressions (CTE) are not supported in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-355">重寫查詢。</span><span class="sxs-lookup"><span data-stu-id="4c874-355">Rewrite the query.</span></span>|  
|<span data-ttu-id="4c874-356">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-356">Feature</span></span>|<span data-ttu-id="4c874-357">子查詢</span><span class="sxs-lookup"><span data-stu-id="4c874-357">subquery</span></span>|<span data-ttu-id="4c874-358">不支援子查詢 (另一個查詢中的巢狀查詢)。</span><span class="sxs-lookup"><span data-stu-id="4c874-358">Subqueries (queries nested inside another query) are not supported.</span></span> <span data-ttu-id="4c874-359">重寫查詢。</span><span class="sxs-lookup"><span data-stu-id="4c874-359">Rewrite the query.</span></span>|  
|<span data-ttu-id="4c874-360">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-360">Feature</span></span>|<span data-ttu-id="4c874-361">COMPUTE</span><span class="sxs-lookup"><span data-stu-id="4c874-361">COMPUTE</span></span>|<span data-ttu-id="4c874-362">不支援 `COMPUTE` 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-362">The `COMPUTE` clause is not supported.</span></span> <span data-ttu-id="4c874-363">請從查詢中將它移除。</span><span class="sxs-lookup"><span data-stu-id="4c874-363">Remove it from the query.</span></span>|  
|<span data-ttu-id="4c874-364">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-364">Feature</span></span>|<span data-ttu-id="4c874-365">SELECT INTO</span><span class="sxs-lookup"><span data-stu-id="4c874-365">SELECT INTO</span></span>|<span data-ttu-id="4c874-366">不支援 `INTO` 子句與 `SELECT` 陳述式一起使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-366">The `INTO` clause is not supported with the `SELECT` statement.</span></span> <span data-ttu-id="4c874-367">將查詢重寫為 `INSERT INTO` *Table* `SELECT` 。</span><span class="sxs-lookup"><span data-stu-id="4c874-367">Rewrite the query as `INSERT INTO`*Table*`SELECT`.</span></span>|  
|<span data-ttu-id="4c874-368">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-368">Feature</span></span>|<span data-ttu-id="4c874-369">OUTPUT</span><span class="sxs-lookup"><span data-stu-id="4c874-369">OUTPUT</span></span>|<span data-ttu-id="4c874-370">不支援 `OUTPUT` 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-370">The `OUTPUT` clause is not supported.</span></span> <span data-ttu-id="4c874-371">請從查詢中將它移除。</span><span class="sxs-lookup"><span data-stu-id="4c874-371">Remove it from the query.</span></span>|  
|<span data-ttu-id="4c874-372">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-372">Feature</span></span>|<span data-ttu-id="4c874-373">不完整的插入資料行清單</span><span class="sxs-lookup"><span data-stu-id="4c874-373">incomplete insert column list</span></span>|<span data-ttu-id="4c874-374">在 `INSERT` 陳述式中，必須為資料表中的所有資料行指定值。</span><span class="sxs-lookup"><span data-stu-id="4c874-374">In `INSERT` statements, values must be specified for all columns in the table.</span></span>|  
|<span data-ttu-id="4c874-375">函式</span><span class="sxs-lookup"><span data-stu-id="4c874-375">Function</span></span>|<span data-ttu-id="4c874-376">*Function*</span><span class="sxs-lookup"><span data-stu-id="4c874-376">*Function*</span></span>|<span data-ttu-id="4c874-377">原生編譯預存程序中不支援內建函數。</span><span class="sxs-lookup"><span data-stu-id="4c874-377">The built-in function is not supported in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-378">請從預存程序中移除函數。</span><span class="sxs-lookup"><span data-stu-id="4c874-378">Remove the function from the stored procedure.</span></span> <span data-ttu-id="4c874-379">如需所支援內建函數的詳細資訊，請參閱原生[編譯的預存程式](../in-memory-oltp/natively-compiled-stored-procedures.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-379">For more information about supported built-in functions, see [Natively Compiled Stored Procedures](../in-memory-oltp/natively-compiled-stored-procedures.md).</span></span>|  
|<span data-ttu-id="4c874-380">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-380">Feature</span></span>|<span data-ttu-id="4c874-381">CASE</span><span class="sxs-lookup"><span data-stu-id="4c874-381">CASE</span></span>|<span data-ttu-id="4c874-382">原生編譯預存程序內部的查詢中不支援 `CASE` 陳述式。</span><span class="sxs-lookup"><span data-stu-id="4c874-382">The `CASE` statement is not supported in queries inside natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-383">請為每個案例建立查詢。</span><span class="sxs-lookup"><span data-stu-id="4c874-383">Create queries for each case.</span></span> <span data-ttu-id="4c874-384">如需詳細資訊，請參閱[執行 CASE 語句](implementing-a-case-expression-in-a-natively-compiled-stored-procedure.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-384">For more information, see [Implementing a CASE Statement](implementing-a-case-expression-in-a-natively-compiled-stored-procedure.md).</span></span>|  
|<span data-ttu-id="4c874-385">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-385">Feature</span></span>|<span data-ttu-id="4c874-386">使用者定義函數</span><span class="sxs-lookup"><span data-stu-id="4c874-386">user-defined functions</span></span>|<span data-ttu-id="4c874-387">使用者定義函數不可在原生編譯預存程序中使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-387">User-defined functions cannot be used in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-388">請從程序定義中移除函數的參考。</span><span class="sxs-lookup"><span data-stu-id="4c874-388">Remove the reference to the function from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-389">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-389">Feature</span></span>|<span data-ttu-id="4c874-390">使用者定義彙總</span><span class="sxs-lookup"><span data-stu-id="4c874-390">user-defined aggregates</span></span>|<span data-ttu-id="4c874-391">使用者定義彙總函式不可在原生編譯預存程序中使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-391">User-defined aggregate functions cannot be used in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-392">請從程序中移除函式的參考。</span><span class="sxs-lookup"><span data-stu-id="4c874-392">Remove the reference to the function from the procedure.</span></span>|  
|<span data-ttu-id="4c874-393">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-393">Feature</span></span>|<span data-ttu-id="4c874-394">瀏覽模式中繼資料</span><span class="sxs-lookup"><span data-stu-id="4c874-394">browse mode metadata</span></span>|<span data-ttu-id="4c874-395">原生編譯預存程序不支援瀏覽模式中繼資料。</span><span class="sxs-lookup"><span data-stu-id="4c874-395">Natively compiled stored procedures do not support browse mode metadata.</span></span> <span data-ttu-id="4c874-396">請確定工作階段選項 `NO_BROWSETABLE` 設為 OFF。</span><span class="sxs-lookup"><span data-stu-id="4c874-396">Make sure the session option `NO_BROWSETABLE` is set to OFF.</span></span>|  
|<span data-ttu-id="4c874-397">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-397">Feature</span></span>|<span data-ttu-id="4c874-398">FROM 子句中的 DELETE</span><span class="sxs-lookup"><span data-stu-id="4c874-398">DELETE with FROM clause</span></span>|<span data-ttu-id="4c874-399">原生編譯預存程序中具有資料表來源的 `FROM` 陳述式不支援 `DELETE` 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-399">The `FROM` clause is not supported for `DELETE` statements with a table source in natively compiled stored procedures.</span></span><br /><br /> <span data-ttu-id="4c874-400">支援搭配使用 `DELETE` 和 `FROM` 子句來指定要刪除的資料表來源。</span><span class="sxs-lookup"><span data-stu-id="4c874-400">`DELETE` with the `FROM` clause is supported when it is used to indicate the table to delete from.</span></span>|  
|<span data-ttu-id="4c874-401">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-401">Feature</span></span>|<span data-ttu-id="4c874-402">FROM 子句中的 UPDATE</span><span class="sxs-lookup"><span data-stu-id="4c874-402">UPDATE with FROM clause</span></span>|<span data-ttu-id="4c874-403">原生編譯預存程序中的 `FROM` 陳述式不支援 `UPDATE` 子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-403">The `FROM` clause is not supported for `UPDATE` statements in natively compiled stored procedures.</span></span>|  
|<span data-ttu-id="4c874-404">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-404">Feature</span></span>|<span data-ttu-id="4c874-405">暫存程序</span><span class="sxs-lookup"><span data-stu-id="4c874-405">temporary procedures</span></span>|<span data-ttu-id="4c874-406">不可對暫存預存程序進行原生編譯。</span><span class="sxs-lookup"><span data-stu-id="4c874-406">Temporary stored procedures cannot be natively compiled.</span></span> <span data-ttu-id="4c874-407">請建立永久的原生編譯預存程序，或暫存的解譯 [!INCLUDE[tsql](../../includes/tsql-md.md)] 預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-407">Either create a permanent natively compiled stored procedure or a temporary interpreted [!INCLUDE[tsql](../../includes/tsql-md.md)] stored procedure.</span></span>|  
|<span data-ttu-id="4c874-408">隔離等級</span><span class="sxs-lookup"><span data-stu-id="4c874-408">Isolation level</span></span>|<span data-ttu-id="4c874-409">READ UNCOMMITTED</span><span class="sxs-lookup"><span data-stu-id="4c874-409">READ UNCOMMITTED</span></span>|<span data-ttu-id="4c874-410">原生編譯預存程序中不支援隔離等級 READ UNCOMMITTED。</span><span class="sxs-lookup"><span data-stu-id="4c874-410">The isolation level READ UNCOMMITTED is not supported for natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-411">請使用支援的隔離等級，例如 SNAPSHOT。</span><span class="sxs-lookup"><span data-stu-id="4c874-411">Use a supported isolation level, such as SNAPSHOT.</span></span>|  
|<span data-ttu-id="4c874-412">隔離等級</span><span class="sxs-lookup"><span data-stu-id="4c874-412">Isolation level</span></span>|<span data-ttu-id="4c874-413">READ COMMITTED</span><span class="sxs-lookup"><span data-stu-id="4c874-413">READ COMMITTED</span></span>|<span data-ttu-id="4c874-414">原生編譯預存程序中不支援隔離等級 READ UNCOMMITTED。</span><span class="sxs-lookup"><span data-stu-id="4c874-414">The isolation level READ UNCOMMITTED is not supported for natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-415">請使用支援的隔離等級，例如 SNAPSHOT。</span><span class="sxs-lookup"><span data-stu-id="4c874-415">Use a supported isolation level, such as SNAPSHOT.</span></span>|  
|<span data-ttu-id="4c874-416">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-416">Feature</span></span>|<span data-ttu-id="4c874-417">暫存資料表</span><span class="sxs-lookup"><span data-stu-id="4c874-417">temporary tables</span></span>|<span data-ttu-id="4c874-418">tempdb 中的資料表不可在原生編譯預存程序中使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-418">Tables in tempdb cannot be used in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-419">請改用 DURABILITY=SCHEMA_ONLY 的資料表變數或記憶體最佳化資料表。</span><span class="sxs-lookup"><span data-stu-id="4c874-419">Instead, use a table variable or a memory-optimized table with DURABILITY=SCHEMA_ONLY.</span></span>|  
|<span data-ttu-id="4c874-420">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-420">Feature</span></span>|<span data-ttu-id="4c874-421">MARS</span><span class="sxs-lookup"><span data-stu-id="4c874-421">MARS</span></span>|<span data-ttu-id="4c874-422">原生編譯預存程序中不支援 Multiple Active Result Sets (MARS)。</span><span class="sxs-lookup"><span data-stu-id="4c874-422">Multiple Active Result Sets (MARS) is not supported with natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-423">此錯誤也可能表示使用連結的伺服器。</span><span class="sxs-lookup"><span data-stu-id="4c874-423">This error can also indicate linked server use.</span></span> <span data-ttu-id="4c874-424">連結的伺服器可以使用 MARS。</span><span class="sxs-lookup"><span data-stu-id="4c874-424">Linked server can use MARS.</span></span> <span data-ttu-id="4c874-425">原生編譯預存程序中不支援連結的伺服器。</span><span class="sxs-lookup"><span data-stu-id="4c874-425">Linked servers are not supported with natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-426">請改為直接連接至裝載原生編譯預存程序的伺服器和資料庫。</span><span class="sxs-lookup"><span data-stu-id="4c874-426">Instead, connect directly to the server and database that hosts the natively compiled stored procedures.</span></span>|  
|<span data-ttu-id="4c874-427">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-427">Feature</span></span>|<span data-ttu-id="4c874-428">DTC</span><span class="sxs-lookup"><span data-stu-id="4c874-428">DTC</span></span>|<span data-ttu-id="4c874-429">記憶體最佳化資料表和原生編譯預存程序無法從分散式交易中存取。</span><span class="sxs-lookup"><span data-stu-id="4c874-429">Memory-optimized tables and natively compiled stored procedures cannot be accessed from distributed transactions.</span></span> <span data-ttu-id="4c874-430">請改用 SQL 交易。</span><span class="sxs-lookup"><span data-stu-id="4c874-430">Use SQL transactions instead.</span></span>|  
|<span data-ttu-id="4c874-431">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-431">Feature</span></span>|<span data-ttu-id="4c874-432">非 bin2 定序</span><span class="sxs-lookup"><span data-stu-id="4c874-432">non-bin2 collation</span></span>|<span data-ttu-id="4c874-433">對原生編譯預存程序中的字元字串執行的比較、排序和其他作業需要使用 BIN2 定序。</span><span class="sxs-lookup"><span data-stu-id="4c874-433">Comparison, sorting, and other operations on character strings in natively compiled stored procedures require using a BIN2 collation.</span></span> <span data-ttu-id="4c874-434">請使用 COLLATE 子句，或使用具有適當定序的資料行和變數。</span><span class="sxs-lookup"><span data-stu-id="4c874-434">Use the COLLATE clause or use columns and variables with an appropriate collation.</span></span> <span data-ttu-id="4c874-435">如需詳細資訊，請參閱 [Collations and Code Pages](../../database-engine/collations-and-code-pages.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-435">For more information, see [Collations and Code Pages](../../database-engine/collations-and-code-pages.md).</span></span>|  
|<span data-ttu-id="4c874-436">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-436">Feature</span></span>|<span data-ttu-id="4c874-437">使用 SC 定序截斷字元字串。</span><span class="sxs-lookup"><span data-stu-id="4c874-437">Truncation of character strings with an SC collation.</span></span>|<span data-ttu-id="4c874-438">具有 `_SC` 定序的字元字串使用 UTF-16 編碼。</span><span class="sxs-lookup"><span data-stu-id="4c874-438">Character strings with an `_SC` collation use the UTF-16 encoding.</span></span> <span data-ttu-id="4c874-439">請將 n(var)char 值轉換成具有包含截斷之縮短長度的 n(var)char 值。</span><span class="sxs-lookup"><span data-stu-id="4c874-439">Converting an n(var)char value to an n(var)char value with a shorted length involves truncation.</span></span> <span data-ttu-id="4c874-440">原生編譯預存程序中的 UTF-16 值不支援這種做法。</span><span class="sxs-lookup"><span data-stu-id="4c874-440">This is not supported for UTF-16 values in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-441">請避免截斷 UTF-16 字串。</span><span class="sxs-lookup"><span data-stu-id="4c874-441">Avoid truncation of UTF-16 strings.</span></span>|  
|<span data-ttu-id="4c874-442">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-442">Feature</span></span>|<span data-ttu-id="4c874-443">EXECUTE WITH RECOMPILE</span><span class="sxs-lookup"><span data-stu-id="4c874-443">EXECUTE WITH RECOMPILE</span></span>|<span data-ttu-id="4c874-444">原生編譯預存程序中不支援 `WITH RECOMPILE` 選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-444">The option `WITH RECOMPILE` is not supported for natively compiled stored procedures.</span></span>|  
|<span data-ttu-id="4c874-445">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-445">Feature</span></span>|<span data-ttu-id="4c874-446">SC 定序中具有引數的 LEN 和 SUBSTRING</span><span class="sxs-lookup"><span data-stu-id="4c874-446">LEN and SUBSTRING with an argument in an SC collation</span></span>|<span data-ttu-id="4c874-447">具有 _SC 定序的字元字串會使用 UTF-16 編碼。</span><span class="sxs-lookup"><span data-stu-id="4c874-447">Character strings with an _SC collation use the UTF-16 encoding.</span></span> <span data-ttu-id="4c874-448">在原生編譯之預存程序內使用內建函式 LEN 和 SUBSTRING 時，不支援 UTF-16 編碼。</span><span class="sxs-lookup"><span data-stu-id="4c874-448">The built-in functions LEN and SUBSTRING, when used inside natively compiled stored procedures, do not support the UTF-16 encoding.</span></span> <span data-ttu-id="4c874-449">使用不同的定序，或是避免使用這些函式。</span><span class="sxs-lookup"><span data-stu-id="4c874-449">Use a different collation or avoid using these functions.</span></span>|  
|<span data-ttu-id="4c874-450">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-450">Feature</span></span>|<span data-ttu-id="4c874-451">從專用管理員連接執行。</span><span class="sxs-lookup"><span data-stu-id="4c874-451">Execution from the dedicated administrator connection.</span></span>|<span data-ttu-id="4c874-452">原生編譯預存程序無法從專用管理員連接 (DAC) 執行。</span><span class="sxs-lookup"><span data-stu-id="4c874-452">Natively compiled stored procedures cannot be executed from the dedicated admin connection (DAC).</span></span> <span data-ttu-id="4c874-453">請改用正常連接。</span><span class="sxs-lookup"><span data-stu-id="4c874-453">Use a regular connection instead.</span></span>|  
|<span data-ttu-id="4c874-454">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-454">Operation</span></span>|<span data-ttu-id="4c874-455">ALTER PROCEDURE</span><span class="sxs-lookup"><span data-stu-id="4c874-455">ALTER PROCEDURE</span></span>|<span data-ttu-id="4c874-456">原生編譯預存程序不可修改。</span><span class="sxs-lookup"><span data-stu-id="4c874-456">Natively compiled stored procedures cannot be altered.</span></span> <span data-ttu-id="4c874-457">若要變更程序定義，請卸除後再重新建立預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-457">To change the procedure definition, drop and recreate the stored procedure.</span></span>|  
|<span data-ttu-id="4c874-458">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-458">Operation</span></span>|<span data-ttu-id="4c874-459">儲存點</span><span class="sxs-lookup"><span data-stu-id="4c874-459">savepoint</span></span>|<span data-ttu-id="4c874-460">原生編譯預存程序不可從擁有使用中儲存點的交易中叫用。</span><span class="sxs-lookup"><span data-stu-id="4c874-460">Natively compiled stored procedures cannot be invoked from transactions that have an active savepoint.</span></span> <span data-ttu-id="4c874-461">請從交易中移除儲存點。</span><span class="sxs-lookup"><span data-stu-id="4c874-461">Remove the savepoint from the transaction.</span></span>|  
|<span data-ttu-id="4c874-462">作業</span><span class="sxs-lookup"><span data-stu-id="4c874-462">Operation</span></span>|<span data-ttu-id="4c874-463">ALTER AUTHORIZATION</span><span class="sxs-lookup"><span data-stu-id="4c874-463">ALTER AUTHORIZATION</span></span>|<span data-ttu-id="4c874-464">不支援變更現有記憶體最佳化資料表或原生編譯預存程序的擁有者。</span><span class="sxs-lookup"><span data-stu-id="4c874-464">Changing the owner of an existing memory-optimized table or natively compiled stored procedure is not supported.</span></span> <span data-ttu-id="4c874-465">請卸除後再重新建立資料表或程序，以變更擁有權。</span><span class="sxs-lookup"><span data-stu-id="4c874-465">Drop and recreate the table or procedure to change ownership.</span></span>|  
|<span data-ttu-id="4c874-466">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-466">Operator</span></span>|<span data-ttu-id="4c874-467">OPENROWSET</span><span class="sxs-lookup"><span data-stu-id="4c874-467">OPENROWSET</span></span>|<span data-ttu-id="4c874-468">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-468">This operator is not supported.</span></span> <span data-ttu-id="4c874-469">請從原生編譯預存程序中移除 `OPENROWSET`。</span><span class="sxs-lookup"><span data-stu-id="4c874-469">Remove `OPENROWSET` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-470">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-470">Operator</span></span>|<span data-ttu-id="4c874-471">OPENQUERY</span><span class="sxs-lookup"><span data-stu-id="4c874-471">OPENQUERY</span></span>|<span data-ttu-id="4c874-472">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-472">This operator is not supported.</span></span> <span data-ttu-id="4c874-473">請從原生編譯預存程序中移除 `OPENQUERY`。</span><span class="sxs-lookup"><span data-stu-id="4c874-473">Remove `OPENQUERY` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-474">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-474">Operator</span></span>|<span data-ttu-id="4c874-475">OPENDATASOURCE</span><span class="sxs-lookup"><span data-stu-id="4c874-475">OPENDATASOURCE</span></span>|<span data-ttu-id="4c874-476">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-476">This operator is not supported.</span></span> <span data-ttu-id="4c874-477">請從原生編譯預存程序中移除 `OPENDATASOURCE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-477">Remove `OPENDATASOURCE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-478">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-478">Operator</span></span>|<span data-ttu-id="4c874-479">OPENXML</span><span class="sxs-lookup"><span data-stu-id="4c874-479">OPENXML</span></span>|<span data-ttu-id="4c874-480">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-480">This operator is not supported.</span></span> <span data-ttu-id="4c874-481">請從原生編譯預存程序中移除 `OPENXML`。</span><span class="sxs-lookup"><span data-stu-id="4c874-481">Remove `OPENXML` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-482">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-482">Operator</span></span>|<span data-ttu-id="4c874-483">CONTAINSTABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-483">CONTAINSTABLE</span></span>|<span data-ttu-id="4c874-484">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-484">This operator is not supported.</span></span> <span data-ttu-id="4c874-485">請從原生編譯預存程序中移除 `CONTAINSTABLE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-485">Remove `CONTAINSTABLE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-486">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-486">Operator</span></span>|<span data-ttu-id="4c874-487">FREETEXTTABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-487">FREETEXTTABLE</span></span>|<span data-ttu-id="4c874-488">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-488">This operator is not supported.</span></span> <span data-ttu-id="4c874-489">請從原生編譯預存程序中移除 `FREETEXTTABLE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-489">Remove `FREETEXTTABLE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-490">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-490">Feature</span></span>|<span data-ttu-id="4c874-491">資料表值函式</span><span class="sxs-lookup"><span data-stu-id="4c874-491">table-valued functions</span></span>|<span data-ttu-id="4c874-492">資料表值函式不可從原生編譯預存程序參考。</span><span class="sxs-lookup"><span data-stu-id="4c874-492">Table-valued functions cannot be referenced from natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-493">此限制的可行因應措施是將資料表值函式內的邏輯加入程序主體中。</span><span class="sxs-lookup"><span data-stu-id="4c874-493">One possible workaround for this restriction is to add the logic in the table-valued functions to the procedure body.</span></span>|  
|<span data-ttu-id="4c874-494">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-494">Operator</span></span>|<span data-ttu-id="4c874-495">CHANGETABLE</span><span class="sxs-lookup"><span data-stu-id="4c874-495">CHANGETABLE</span></span>|<span data-ttu-id="4c874-496">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-496">This operator is not supported.</span></span> <span data-ttu-id="4c874-497">請從原生編譯預存程序中移除 `CHANGETABLE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-497">Remove `CHANGETABLE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-498">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-498">Operator</span></span>|<span data-ttu-id="4c874-499">GOTO</span><span class="sxs-lookup"><span data-stu-id="4c874-499">GOTO</span></span>|<span data-ttu-id="4c874-500">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-500">This operator is not supported.</span></span> <span data-ttu-id="4c874-501">請使用其他程序性建構，例如 WHILE。</span><span class="sxs-lookup"><span data-stu-id="4c874-501">Use other procedural constructs such as WHILE.</span></span>|  
|<span data-ttu-id="4c874-502">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-502">Operator</span></span>|<span data-ttu-id="4c874-503">EXECUTE、INSERT EXEC</span><span class="sxs-lookup"><span data-stu-id="4c874-503">EXECUTE, INSERT EXEC</span></span>|<span data-ttu-id="4c874-504">不支援巢狀原生編譯預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-504">Nesting natively compiled stored procedures is not supported.</span></span> <span data-ttu-id="4c874-505">所需的作業可以用內嵌方式指定為預存程序定義的一部分。</span><span class="sxs-lookup"><span data-stu-id="4c874-505">The required operations can be specified inline, as part of the stored procedure definition.</span></span>|  
|<span data-ttu-id="4c874-506">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-506">Operator</span></span>|<span data-ttu-id="4c874-507">OFFSET</span><span class="sxs-lookup"><span data-stu-id="4c874-507">OFFSET</span></span>|<span data-ttu-id="4c874-508">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-508">This operator is not supported.</span></span> <span data-ttu-id="4c874-509">請從原生編譯預存程序中移除 `OFFSET`。</span><span class="sxs-lookup"><span data-stu-id="4c874-509">Remove `OFFSET` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-510">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-510">Operator</span></span>|<span data-ttu-id="4c874-511">UNION</span><span class="sxs-lookup"><span data-stu-id="4c874-511">UNION</span></span>|<span data-ttu-id="4c874-512">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-512">This operator is not supported.</span></span> <span data-ttu-id="4c874-513">請從原生編譯預存程序中移除 `UNION`。</span><span class="sxs-lookup"><span data-stu-id="4c874-513">Remove `UNION` from the natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-514">您可以使用資料表變數將數個結果集結合到程單一結果集內。</span><span class="sxs-lookup"><span data-stu-id="4c874-514">Combining several result sets into a single result set can be done using a table variable.</span></span>|  
|<span data-ttu-id="4c874-515">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-515">Operator</span></span>|<span data-ttu-id="4c874-516">INTERSECT</span><span class="sxs-lookup"><span data-stu-id="4c874-516">INTERSECT</span></span>|<span data-ttu-id="4c874-517">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-517">This operator is not supported.</span></span> <span data-ttu-id="4c874-518">請從原生編譯預存程序中移除 `INTERSECT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-518">Remove `INTERSECT` from the natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-519">在某些情況下，可以使用 INNER JOIN 獲得相同結果。</span><span class="sxs-lookup"><span data-stu-id="4c874-519">In some cases an INNER JOIN can be used to obtain the same result.</span></span>|  
|<span data-ttu-id="4c874-520">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-520">Operator</span></span>|<span data-ttu-id="4c874-521">EXCEPT</span><span class="sxs-lookup"><span data-stu-id="4c874-521">EXCEPT</span></span>|<span data-ttu-id="4c874-522">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-522">This operator is not supported.</span></span> <span data-ttu-id="4c874-523">請從原生編譯預存程序中移除 `EXCEPT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-523">Remove `EXCEPT` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-524">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-524">Operator</span></span>|<span data-ttu-id="4c874-525">OUTER JOIN</span><span class="sxs-lookup"><span data-stu-id="4c874-525">OUTER JOIN</span></span>|<span data-ttu-id="4c874-526">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-526">This operator is not supported.</span></span> <span data-ttu-id="4c874-527">請從原生編譯預存程序中移除 `OUTER JOIN`。</span><span class="sxs-lookup"><span data-stu-id="4c874-527">Remove `OUTER JOIN` from the natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-528">如需詳細資訊，請參閱[執行外部聯結](implementing-an-outer-join.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-528">For more information, see [Implementing an Outer Join](implementing-an-outer-join.md).</span></span>|  
|<span data-ttu-id="4c874-529">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-529">Operator</span></span>|<span data-ttu-id="4c874-530">APPLY</span><span class="sxs-lookup"><span data-stu-id="4c874-530">APPLY</span></span>|<span data-ttu-id="4c874-531">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-531">This operator is not supported.</span></span> <span data-ttu-id="4c874-532">請從原生編譯預存程序中移除 `APPLY`。</span><span class="sxs-lookup"><span data-stu-id="4c874-532">Remove `APPLY` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-533">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-533">Operator</span></span>|<span data-ttu-id="4c874-534">PIVOT</span><span class="sxs-lookup"><span data-stu-id="4c874-534">PIVOT</span></span>|<span data-ttu-id="4c874-535">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-535">This operator is not supported.</span></span> <span data-ttu-id="4c874-536">請從原生編譯預存程序中移除 `PIVOT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-536">Remove `PIVOT` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-537">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-537">Operator</span></span>|<span data-ttu-id="4c874-538">UNPIVOT</span><span class="sxs-lookup"><span data-stu-id="4c874-538">UNPIVOT</span></span>|<span data-ttu-id="4c874-539">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-539">This operator is not supported.</span></span> <span data-ttu-id="4c874-540">請從原生編譯預存程序中移除 `UNPIVOT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-540">Remove `UNPIVOT` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-541">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-541">Operator</span></span>|<span data-ttu-id="4c874-542">OR、IN</span><span class="sxs-lookup"><span data-stu-id="4c874-542">OR, IN</span></span>|<span data-ttu-id="4c874-543">原生編譯之預存程序中查詢內的 WHERE 子句不支援分離 (OR、IN)。</span><span class="sxs-lookup"><span data-stu-id="4c874-543">Disjunction (OR, IN) is not supported in the WHERE clause of queries in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-544">請為每個案例建立查詢。</span><span class="sxs-lookup"><span data-stu-id="4c874-544">Create queries for each of the cases.</span></span>|  
|<span data-ttu-id="4c874-545">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-545">Operator</span></span>|<span data-ttu-id="4c874-546">CONTAINS</span><span class="sxs-lookup"><span data-stu-id="4c874-546">CONTAINS</span></span>|<span data-ttu-id="4c874-547">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-547">This operator is not supported.</span></span> <span data-ttu-id="4c874-548">請從原生編譯預存程序中移除 `CONTAINS`。</span><span class="sxs-lookup"><span data-stu-id="4c874-548">Remove `CONTAINS` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-549">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-549">Operator</span></span>|<span data-ttu-id="4c874-550">FREETEXT</span><span class="sxs-lookup"><span data-stu-id="4c874-550">FREETEXT</span></span>|<span data-ttu-id="4c874-551">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-551">This operator is not supported.</span></span> <span data-ttu-id="4c874-552">請從原生編譯預存程序中移除 `FREETEXT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-552">Remove `FREETEXT` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-553">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-553">Operator</span></span>|<span data-ttu-id="4c874-554">NOT</span><span class="sxs-lookup"><span data-stu-id="4c874-554">NOT</span></span>|<span data-ttu-id="4c874-555">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-555">This operator is not supported.</span></span> <span data-ttu-id="4c874-556">請從原生編譯預存程序中移除 `NOT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-556">Remove `NOT` from the natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-557">在某些情況下可以將 `NOT` 取代為不相等。</span><span class="sxs-lookup"><span data-stu-id="4c874-557">In some cases, `NOT` can be replaced with inequality.</span></span> <span data-ttu-id="4c874-558">例如，`NOT a=b` 可以取代為 `a!=b`。</span><span class="sxs-lookup"><span data-stu-id="4c874-558">For example, `NOT a=b` can be replaced with `a!=b`.</span></span>|  
|<span data-ttu-id="4c874-559">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-559">Operator</span></span>|<span data-ttu-id="4c874-560">TSEQUAL</span><span class="sxs-lookup"><span data-stu-id="4c874-560">TSEQUAL</span></span>|<span data-ttu-id="4c874-561">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-561">This operator is not supported.</span></span> <span data-ttu-id="4c874-562">請從原生編譯預存程序中移除 `TSEQUAL`。</span><span class="sxs-lookup"><span data-stu-id="4c874-562">Remove `TSEQUAL` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-563">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-563">Operator</span></span>|<span data-ttu-id="4c874-564">LIKE</span><span class="sxs-lookup"><span data-stu-id="4c874-564">LIKE</span></span>|<span data-ttu-id="4c874-565">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-565">This operator is not supported.</span></span> <span data-ttu-id="4c874-566">請從原生編譯預存程序中移除 `LIKE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-566">Remove `LIKE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-567">運算子</span><span class="sxs-lookup"><span data-stu-id="4c874-567">Operator</span></span>|<span data-ttu-id="4c874-568">NEXT VALUE FOR</span><span class="sxs-lookup"><span data-stu-id="4c874-568">NEXT VALUE FOR</span></span>|<span data-ttu-id="4c874-569">原生編譯預存程序內可以參考順序。</span><span class="sxs-lookup"><span data-stu-id="4c874-569">Sequences cannot be referenced inside natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-570">請使用解譯的 [!INCLUDE[tsql](../../includes/tsql-md.md)]取得值，並將它傳遞至原生編譯預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-570">Obtain the value using interpreted [!INCLUDE[tsql](../../includes/tsql-md.md)], and then pass it into the natively compiled stored procedure.</span></span> <span data-ttu-id="4c874-571">如需詳細資訊，請參閱 [在記憶體最佳化資料表中實作 IDENTITY](implementing-identity-in-a-memory-optimized-table.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-571">For more information, see [Implementing IDENTITY in a Memory-Optimized Table](implementing-identity-in-a-memory-optimized-table.md).</span></span>|  
|<span data-ttu-id="4c874-572">Set 選項</span><span class="sxs-lookup"><span data-stu-id="4c874-572">Set option</span></span>|<span data-ttu-id="4c874-573">*選項*</span><span class="sxs-lookup"><span data-stu-id="4c874-573">*option*</span></span>|<span data-ttu-id="4c874-574">原生編譯預存程序內的 SET 選項不可變更。</span><span class="sxs-lookup"><span data-stu-id="4c874-574">SET options cannot be changed inside natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-575">某些選項可以透過 BEGIN ATOMIC 陳述式設定。</span><span class="sxs-lookup"><span data-stu-id="4c874-575">Certain options can be set with the BEGIN ATOMIC statement.</span></span> <span data-ttu-id="4c874-576">如需詳細資訊，請參閱＜ [Natively Compiled Stored Procedures](../in-memory-oltp/natively-compiled-stored-procedures.md)＞中的＜Atonic 區塊＞一節。</span><span class="sxs-lookup"><span data-stu-id="4c874-576">For more information, see the section on atonic blocks in [Natively Compiled Stored Procedures](../in-memory-oltp/natively-compiled-stored-procedures.md).</span></span>|  
|<span data-ttu-id="4c874-577">運算元</span><span class="sxs-lookup"><span data-stu-id="4c874-577">Operand</span></span>|<span data-ttu-id="4c874-578">TABLESAMPLE</span><span class="sxs-lookup"><span data-stu-id="4c874-578">TABLESAMPLE</span></span>|<span data-ttu-id="4c874-579">不支援此運算子。</span><span class="sxs-lookup"><span data-stu-id="4c874-579">This operator is not supported.</span></span> <span data-ttu-id="4c874-580">請從原生編譯預存程序中移除 `TABLESAMPLE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-580">Remove `TABLESAMPLE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-581">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-581">Option</span></span>|<span data-ttu-id="4c874-582">RECOMPILE</span><span class="sxs-lookup"><span data-stu-id="4c874-582">RECOMPILE</span></span>|<span data-ttu-id="4c874-583">原生編譯預存程序是在建立時編譯。</span><span class="sxs-lookup"><span data-stu-id="4c874-583">Natively compiled stored procedures are compiled at create time.</span></span> <span data-ttu-id="4c874-584">若要重新編譯原生編譯預存程序，請將它卸除再重新建立。</span><span class="sxs-lookup"><span data-stu-id="4c874-584">To recompile a natively compiled stored procedure, drop and recreate it.</span></span> <span data-ttu-id="4c874-585">請從程序定義中移除 `RECOMPILE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-585">Remove `RECOMPILE` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-586">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-586">Option</span></span>|<span data-ttu-id="4c874-587">ENCRYPTION</span><span class="sxs-lookup"><span data-stu-id="4c874-587">ENCRYPTION</span></span>|<span data-ttu-id="4c874-588">不支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-588">This option is not supported.</span></span> <span data-ttu-id="4c874-589">請從程序定義中移除 `ENCRYPTION`。</span><span class="sxs-lookup"><span data-stu-id="4c874-589">Remove `ENCRYPTION` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-590">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-590">Option</span></span>|<span data-ttu-id="4c874-591">FOR REPLICATION</span><span class="sxs-lookup"><span data-stu-id="4c874-591">FOR REPLICATION</span></span>|<span data-ttu-id="4c874-592">不可針對複寫建立原生編譯預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-592">Natively compiled stored procedures cannot be created for replication.</span></span> <span data-ttu-id="4c874-593">已從程序定義中移除 `FOR REPLICATION`。</span><span class="sxs-lookup"><span data-stu-id="4c874-593">Removed `FOR REPLICATION` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-594">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-594">Option</span></span>|<span data-ttu-id="4c874-595">FOR XML</span><span class="sxs-lookup"><span data-stu-id="4c874-595">FOR XML</span></span>|<span data-ttu-id="4c874-596">不支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-596">This option is not supported.</span></span> <span data-ttu-id="4c874-597">請從原生編譯預存程序中移除 `FOR XML`。</span><span class="sxs-lookup"><span data-stu-id="4c874-597">Remove `FOR XML` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-598">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-598">Option</span></span>|<span data-ttu-id="4c874-599">FOR BROWSE</span><span class="sxs-lookup"><span data-stu-id="4c874-599">FOR BROWSE</span></span>|<span data-ttu-id="4c874-600">不支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-600">This option is not supported.</span></span> <span data-ttu-id="4c874-601">請從原生編譯預存程序中移除 `FOR BROWSE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-601">Remove `FOR BROWSE` from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-602">聯結提示</span><span class="sxs-lookup"><span data-stu-id="4c874-602">Join hint</span></span>|<span data-ttu-id="4c874-603">HASH、MERGE</span><span class="sxs-lookup"><span data-stu-id="4c874-603">HASH, MERGE</span></span>|<span data-ttu-id="4c874-604">原生編譯預存程序僅支援巢狀迴圈聯結。</span><span class="sxs-lookup"><span data-stu-id="4c874-604">Natively compiled stored procedures only support nested-loops joins.</span></span> <span data-ttu-id="4c874-605">不支援雜湊和合併聯結。</span><span class="sxs-lookup"><span data-stu-id="4c874-605">Hash and merge joins are not supported.</span></span> <span data-ttu-id="4c874-606">請移除聯結提示。</span><span class="sxs-lookup"><span data-stu-id="4c874-606">Remove the join hint.</span></span>|  
|<span data-ttu-id="4c874-607">查詢提示</span><span class="sxs-lookup"><span data-stu-id="4c874-607">Query hint</span></span>|<span data-ttu-id="4c874-608">*查詢提示*</span><span class="sxs-lookup"><span data-stu-id="4c874-608">*Query hint*</span></span>|<span data-ttu-id="4c874-609">此查詢提示不在原生編譯預存程序內。</span><span class="sxs-lookup"><span data-stu-id="4c874-609">This query hint is not inside natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-610">如需支援的查詢提示，請參閱[查詢提示 &#40;Transact-SQL&#41;](/sql/t-sql/queries/hints-transact-sql-query)。</span><span class="sxs-lookup"><span data-stu-id="4c874-610">For supported query hints see [Query Hints &#40;Transact-SQL&#41;](/sql/t-sql/queries/hints-transact-sql-query).</span></span>|  
|<span data-ttu-id="4c874-611">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-611">Option</span></span>|<span data-ttu-id="4c874-612">DISTINCT</span><span class="sxs-lookup"><span data-stu-id="4c874-612">DISTINCT</span></span>|<span data-ttu-id="4c874-613">不支援這個選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-613">This option is not supported.</span></span> <span data-ttu-id="4c874-614">請從原生編譯預存程序的查詢中移除 `DISTINCT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-614">Remove `DISTINCT` from the query in the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-615">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-615">Option</span></span>|<span data-ttu-id="4c874-616">PERCENT</span><span class="sxs-lookup"><span data-stu-id="4c874-616">PERCENT</span></span>|<span data-ttu-id="4c874-617">`TOP` 子句不支援此選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-617">This option is not supported with `TOP` clauses.</span></span> <span data-ttu-id="4c874-618">請從原生編譯預存程序的查詢中移除 `PERCENT`。</span><span class="sxs-lookup"><span data-stu-id="4c874-618">Remove `PERCENT` from the query in the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-619">選項</span><span class="sxs-lookup"><span data-stu-id="4c874-619">Option</span></span>|<span data-ttu-id="4c874-620">WITH TIES</span><span class="sxs-lookup"><span data-stu-id="4c874-620">WITH TIES</span></span>|<span data-ttu-id="4c874-621">`TOP` 子句不支援此選項。</span><span class="sxs-lookup"><span data-stu-id="4c874-621">This option is not supported with `TOP` clauses.</span></span> <span data-ttu-id="4c874-622">請從原生編譯預存程序的查詢中移除 `WITH TIES`。</span><span class="sxs-lookup"><span data-stu-id="4c874-622">Remove `WITH TIES` from the query in the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-623">彙總函式</span><span class="sxs-lookup"><span data-stu-id="4c874-623">Aggregate function</span></span>|<span data-ttu-id="4c874-624">*彙總函式*</span><span class="sxs-lookup"><span data-stu-id="4c874-624">*Aggregate function*</span></span>|<span data-ttu-id="4c874-625">不支援此子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-625">This clause is not supported.</span></span> <span data-ttu-id="4c874-626">如需原生編譯預存程序中彙總函式的詳細資訊，請參閱＜ [Natively Compiled Stored Procedures](../in-memory-oltp/natively-compiled-stored-procedures.md)＞。</span><span class="sxs-lookup"><span data-stu-id="4c874-626">For more information about aggregate functions in natively compiled stored procedures, see [Natively Compiled Stored Procedures](../in-memory-oltp/natively-compiled-stored-procedures.md).</span></span>|  
|<span data-ttu-id="4c874-627">排名函數</span><span class="sxs-lookup"><span data-stu-id="4c874-627">Ranking function</span></span>|<span data-ttu-id="4c874-628">*次序函數*</span><span class="sxs-lookup"><span data-stu-id="4c874-628">*Ranking function*</span></span>|<span data-ttu-id="4c874-629">原生編譯預存程序中不支援排名函數。</span><span class="sxs-lookup"><span data-stu-id="4c874-629">Ranking functions are not supported in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-630">請從程序定義中將它們移除。</span><span class="sxs-lookup"><span data-stu-id="4c874-630">Remove them from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-631">函式</span><span class="sxs-lookup"><span data-stu-id="4c874-631">Function</span></span>|<span data-ttu-id="4c874-632">*Function*</span><span class="sxs-lookup"><span data-stu-id="4c874-632">*Function*</span></span>|<span data-ttu-id="4c874-633">不支援此函數。</span><span class="sxs-lookup"><span data-stu-id="4c874-633">This function is not supported.</span></span> <span data-ttu-id="4c874-634">請從原生編譯預存程序中將它移除。</span><span class="sxs-lookup"><span data-stu-id="4c874-634">Remove it from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-635">引數</span><span class="sxs-lookup"><span data-stu-id="4c874-635">Statement</span></span>|<span data-ttu-id="4c874-636">*陳述式*</span><span class="sxs-lookup"><span data-stu-id="4c874-636">*Statement*</span></span>|<span data-ttu-id="4c874-637">不支援此陳述式。</span><span class="sxs-lookup"><span data-stu-id="4c874-637">This statement is not supported.</span></span> <span data-ttu-id="4c874-638">請從原生編譯預存程序中將它移除。</span><span class="sxs-lookup"><span data-stu-id="4c874-638">Remove it from the natively compiled stored procedure.</span></span>|  
|<span data-ttu-id="4c874-639">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-639">Feature</span></span>|<span data-ttu-id="4c874-640">MIN 和 MAX 可與二進位和字元字串並用</span><span class="sxs-lookup"><span data-stu-id="4c874-640">MIN and MAX used with binary and character strings</span></span>|<span data-ttu-id="4c874-641">彙總函式 `MIN` 和 `MAX` 不可用於原生編譯預存程序內的字元和二進位字串值。</span><span class="sxs-lookup"><span data-stu-id="4c874-641">The aggregate functions `MIN` and `MAX` cannot be used for character and binary string values inside natively compiled stored procedures.</span></span>|  
|<span data-ttu-id="4c874-642">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-642">Feature</span></span>|<span data-ttu-id="4c874-643">未使用彙總函式的 GROUP BY</span><span class="sxs-lookup"><span data-stu-id="4c874-643">GROUP BY without aggregate function</span></span>|<span data-ttu-id="4c874-644">在原生編譯的預存程序中，當查詢包含 `GROUP BY` 子句時，查詢也必須在 SELECT 或 HAVING 子句中使用彙總函式。</span><span class="sxs-lookup"><span data-stu-id="4c874-644">In natively compiled stored procedures, when a query has a `GROUP BY` clause, the query must also use an aggregate function in the SELECT or the HAVING clause.</span></span> <span data-ttu-id="4c874-645">請將彙總函式加入至查詢。</span><span class="sxs-lookup"><span data-stu-id="4c874-645">Add an aggregate function to the query.</span></span>|  
|<span data-ttu-id="4c874-646">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-646">Feature</span></span>|<span data-ttu-id="4c874-647">GROUP BY ALL</span><span class="sxs-lookup"><span data-stu-id="4c874-647">GROUP BY ALL</span></span>|<span data-ttu-id="4c874-648">在原生編譯的預存程序中，ALL 不得與 GROUP BY 子句並用。</span><span class="sxs-lookup"><span data-stu-id="4c874-648">ALL cannot be used with GROUP BY clauses in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-649">從 GROUP BY 子句中移除 ALL。</span><span class="sxs-lookup"><span data-stu-id="4c874-649">Remove ALL from the GROUP BY clause.</span></span>|  
|<span data-ttu-id="4c874-650">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-650">Feature</span></span>|<span data-ttu-id="4c874-651">GROUP BY ()</span><span class="sxs-lookup"><span data-stu-id="4c874-651">GROUP BY ()</span></span>|<span data-ttu-id="4c874-652">無法使用空白清單做為群組依據。</span><span class="sxs-lookup"><span data-stu-id="4c874-652">Grouping by an empty list is not supported.</span></span> <span data-ttu-id="4c874-653">請移除 GROUP BY 子句，或在群組清單中加入資料行。</span><span class="sxs-lookup"><span data-stu-id="4c874-653">Either remove the GROUP BY clause, or include columns in the grouping list.</span></span>|  
|<span data-ttu-id="4c874-654">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-654">Feature</span></span>|<span data-ttu-id="4c874-655">ROLLUP</span><span class="sxs-lookup"><span data-stu-id="4c874-655">ROLLUP</span></span>|<span data-ttu-id="4c874-656">`ROLLUP` 無法與原生編譯預存程序中的 `GROUP BY` 子句一起使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-656">`ROLLUP` cannot be used with `GROUP BY` clauses in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-657">請從程序定義中移除 `ROLLUP`。</span><span class="sxs-lookup"><span data-stu-id="4c874-657">Remove `ROLLUP` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-658">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-658">Feature</span></span>|<span data-ttu-id="4c874-659">CUBE</span><span class="sxs-lookup"><span data-stu-id="4c874-659">CUBE</span></span>|<span data-ttu-id="4c874-660">`CUBE` 無法與原生編譯預存程序中的 `GROUP BY` 子句一起使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-660">`CUBE` cannot be used with `GROUP BY` clauses in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-661">請從程序定義中移除 `CUBE`。</span><span class="sxs-lookup"><span data-stu-id="4c874-661">Remove `CUBE` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-662">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-662">Feature</span></span>|<span data-ttu-id="4c874-663">GROUPING SETS</span><span class="sxs-lookup"><span data-stu-id="4c874-663">GROUPING SETS</span></span>|<span data-ttu-id="4c874-664">`GROUPING SETS` 無法與原生編譯預存程序中的 `GROUP BY` 子句一起使用。</span><span class="sxs-lookup"><span data-stu-id="4c874-664">`GROUPING SETS` cannot be used with `GROUP BY` clauses in natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-665">請從程序定義中移除 `GROUPING SETS`。</span><span class="sxs-lookup"><span data-stu-id="4c874-665">Remove `GROUPING SETS` from the procedure definition.</span></span>|  
|<span data-ttu-id="4c874-666">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-666">Feature</span></span>|<span data-ttu-id="4c874-667">BEGIN TRANSACTION、COMMIT TRANSACTION 與 ROLLBACK TRANSACTION。</span><span class="sxs-lookup"><span data-stu-id="4c874-667">BEGIN TRANSACTION, COMMIT TRANSACTION, and ROLLBACK TRANSACTION</span></span>|<span data-ttu-id="4c874-668">使用 ATOMIC 區塊控制交易和錯誤處理。</span><span class="sxs-lookup"><span data-stu-id="4c874-668">Use ATOMIC blocks to control transactions and error handling.</span></span> <span data-ttu-id="4c874-669">如需詳細資訊，請參閱 [Atomic Blocks](atomic-blocks-in-native-procedures.md)。</span><span class="sxs-lookup"><span data-stu-id="4c874-669">For more information, see [Atomic Blocks](atomic-blocks-in-native-procedures.md).</span></span>|  
|<span data-ttu-id="4c874-670">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-670">Feature</span></span>|<span data-ttu-id="4c874-671">內嵌資料表變數宣告。</span><span class="sxs-lookup"><span data-stu-id="4c874-671">Inline table variable declarations.</span></span>|<span data-ttu-id="4c874-672">資料表變數必須明確參考定義的記憶體最佳化資料表類型。</span><span class="sxs-lookup"><span data-stu-id="4c874-672">Table variables must reference explicitly defined memory-optimized table types.</span></span> <span data-ttu-id="4c874-673">您應該建立記憶體最佳化資料表的類型，並使用該類型宣告變數，而不要指定內嵌類型。</span><span class="sxs-lookup"><span data-stu-id="4c874-673">You should create a memory-optimized table type and use that type for the variable declaration, rather than specifying the type inline.</span></span>|  
|<span data-ttu-id="4c874-674">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-674">Feature</span></span>|<span data-ttu-id="4c874-675">sp_recompile</span><span class="sxs-lookup"><span data-stu-id="4c874-675">sp_recompile</span></span>|<span data-ttu-id="4c874-676">不支援重新編譯原生編譯的預存程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-676">Recompiling natively compiled stored procedures is not supported.</span></span> <span data-ttu-id="4c874-677">卸除再重新建立程序。</span><span class="sxs-lookup"><span data-stu-id="4c874-677">Drop and recreate the procedure.</span></span>|  
|<span data-ttu-id="4c874-678">特徵</span><span class="sxs-lookup"><span data-stu-id="4c874-678">Feature</span></span>|<span data-ttu-id="4c874-679">EXECUTE AS CALLER</span><span class="sxs-lookup"><span data-stu-id="4c874-679">EXECUTE AS CALLER</span></span>|<span data-ttu-id="4c874-680">`EXECUTE AS` 為必要子句。</span><span class="sxs-lookup"><span data-stu-id="4c874-680">The `EXECUTE AS` clause is required.</span></span> <span data-ttu-id="4c874-681">但 `EXECUTE AS CALLER` 不受支援。</span><span class="sxs-lookup"><span data-stu-id="4c874-681">But `EXECUTE AS CALLER` is not supported.</span></span> <span data-ttu-id="4c874-682">使用 `EXECUTE AS OWNER` 、 `EXECUTE AS` *使用者*或 `EXECUTE AS SELF` 。</span><span class="sxs-lookup"><span data-stu-id="4c874-682">Use `EXECUTE AS OWNER`, `EXECUTE AS`*user*, or `EXECUTE AS SELF`.</span></span>|  
|<span data-ttu-id="4c874-683">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-683">Feature</span></span>|<span data-ttu-id="4c874-684">磁碟型資料表</span><span class="sxs-lookup"><span data-stu-id="4c874-684">Disk-based tables</span></span>|<span data-ttu-id="4c874-685">磁碟型資料表無法從原生編譯的預存程序中存取。</span><span class="sxs-lookup"><span data-stu-id="4c874-685">Disk-based tables cannot be accessed from natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-686">從原生編譯的預存程序移除磁碟型資料表類型的參考。</span><span class="sxs-lookup"><span data-stu-id="4c874-686">Remove references to disk-based tables from the natively-compiled stored procedures.</span></span> <span data-ttu-id="4c874-687">或是將磁碟型資料表移轉至經過最佳化的記憶體。</span><span class="sxs-lookup"><span data-stu-id="4c874-687">Or, migrate the disk-based table(s) to memory optimized.</span></span>|  
|<span data-ttu-id="4c874-688">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-688">Feature</span></span>|<span data-ttu-id="4c874-689">檢視</span><span class="sxs-lookup"><span data-stu-id="4c874-689">Views</span></span>|<span data-ttu-id="4c874-690">檢視無法從原生編譯的預存程序中存取。</span><span class="sxs-lookup"><span data-stu-id="4c874-690">Views cannot be accessed from natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-691">請參考基底資料表，而不要使用檢視。</span><span class="sxs-lookup"><span data-stu-id="4c874-691">Instead of views, reference the underlying base tables.</span></span>|  
|<span data-ttu-id="4c874-692">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-692">Feature</span></span>|<span data-ttu-id="4c874-693">資料表值函式</span><span class="sxs-lookup"><span data-stu-id="4c874-693">Table valued functions</span></span>|<span data-ttu-id="4c874-694">資料表值函式無法從原生編譯的預存程序中存取。</span><span class="sxs-lookup"><span data-stu-id="4c874-694">Table-valued functions cannot be accessed from natively compiled stored procedures.</span></span> <span data-ttu-id="4c874-695">從原生編譯的預存程序中移除資料表值函式的參考。</span><span class="sxs-lookup"><span data-stu-id="4c874-695">Remove references to table-valued functions from the natively compiled stored procedure.</span></span>|  
  
## <a name="transactions-that-access-memory-optimized-tables"></a><span data-ttu-id="4c874-696">存取記憶體最佳化資料表的交易</span><span class="sxs-lookup"><span data-stu-id="4c874-696">Transactions that Access Memory-Optimized Tables</span></span>  
 <span data-ttu-id="4c874-697">下表列出可能出現於涉及存取記憶體最佳化資料表之交易錯誤的訊息文字中的 [!INCLUDE[tsql](../../includes/tsql-md.md)] 功能和關鍵字，以及解決錯誤的更正動作。</span><span class="sxs-lookup"><span data-stu-id="4c874-697">The following table lists the [!INCLUDE[tsql](../../includes/tsql-md.md)] features and keywords that can appear in the message text of an error involving transactions that access memory-optimized tables, as well as the corrective action to resolve the error.</span></span>  
  
|<span data-ttu-id="4c874-698">類型</span><span class="sxs-lookup"><span data-stu-id="4c874-698">Type</span></span>|<span data-ttu-id="4c874-699">名稱</span><span class="sxs-lookup"><span data-stu-id="4c874-699">Name</span></span>|<span data-ttu-id="4c874-700">解決方案</span><span class="sxs-lookup"><span data-stu-id="4c874-700">Resolution</span></span>|  
|----------|----------|----------------|  
|<span data-ttu-id="4c874-701">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-701">Feature</span></span>|<span data-ttu-id="4c874-702">儲存點</span><span class="sxs-lookup"><span data-stu-id="4c874-702">savepoint</span></span>|<span data-ttu-id="4c874-703">不支援在存取記憶體最佳化資料表的交易中建立明確儲存點。</span><span class="sxs-lookup"><span data-stu-id="4c874-703">Creating explicit savepoints in transactions that access memory-optimized tables is not supported.</span></span>|  
|<span data-ttu-id="4c874-704">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-704">Feature</span></span>|<span data-ttu-id="4c874-705">繫結式交易</span><span class="sxs-lookup"><span data-stu-id="4c874-705">bound transaction</span></span>|<span data-ttu-id="4c874-706">繫結工作階段無法參與存取記憶體最佳化資料表的交易。</span><span class="sxs-lookup"><span data-stu-id="4c874-706">Bound sessions cannot participate in transactions that access memory-optimized tables.</span></span> <span data-ttu-id="4c874-707">在執行程序之前，請不要繫結工作階段。</span><span class="sxs-lookup"><span data-stu-id="4c874-707">Do not bind the session before executing the procedure.</span></span>|  
|<span data-ttu-id="4c874-708">功能</span><span class="sxs-lookup"><span data-stu-id="4c874-708">Feature</span></span>|<span data-ttu-id="4c874-709">DTC</span><span class="sxs-lookup"><span data-stu-id="4c874-709">DTC</span></span>|<span data-ttu-id="4c874-710">存取記憶體最佳化資料表的交易不可以是分散式交易。</span><span class="sxs-lookup"><span data-stu-id="4c874-710">Transactions that access memory-optimized tables cannot be distributed transactions.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="4c874-711">另請參閱</span><span class="sxs-lookup"><span data-stu-id="4c874-711">See Also</span></span>  
 [<span data-ttu-id="4c874-712">移轉至 In-Memory OLTP</span><span class="sxs-lookup"><span data-stu-id="4c874-712">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
