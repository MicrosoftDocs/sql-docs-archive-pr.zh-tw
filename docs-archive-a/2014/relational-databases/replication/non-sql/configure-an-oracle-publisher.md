---
title: 設定 Oracle 發行者 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Oracle publishing [SQL Server replication], configuring
ms.assetid: 240c8416-c8e5-4346-8433-07e0f779099f
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4941a02deb770678f4efcf4d2dfc7b08243fff54
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87702774"
---
# <a name="configure-an-oracle-publisher"></a><span data-ttu-id="dd99c-102">設定 Oracle 發行者</span><span class="sxs-lookup"><span data-stu-id="dd99c-102">Configure an Oracle Publisher</span></span>
  <span data-ttu-id="dd99c-103">「Oracle 發行者」之發行集的建立方式與典型的快照式及交易式發行集的建立方式相同，但是在從「Oracle 發行者」端建立發行集之前，您必須完成下列步驟 (步驟一、三和四在本主題中有詳細描述)：</span><span class="sxs-lookup"><span data-stu-id="dd99c-103">Publications from Oracle Publishers are created in the same way typical snapshot and transactional publications are created, but prior to creating a publication from an Oracle Publisher, you must complete the following steps (steps one, three, and four are described in detail in this topic.):</span></span>  
  
1.  <span data-ttu-id="dd99c-104">使用提供的指令碼在 Oracle 資料庫中建立複寫管理使用者。</span><span class="sxs-lookup"><span data-stu-id="dd99c-104">Create a replication administrative user within the Oracle database using the supplied script.</span></span>  
  
2.  <span data-ttu-id="dd99c-105">對於您將發行的資料表，則在每個資料表上直接 (不透過角色) 將 SELECT 權限授與您在步驟一中建立的 Oracle 管理使用者。</span><span class="sxs-lookup"><span data-stu-id="dd99c-105">For the tables that you will publish, grant SELECT permission directly on each of them (not through a role) to the Oracle administrative user you created in step one.</span></span>  
  
3.  <span data-ttu-id="dd99c-106">在「[!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者」上安裝 Oracle 用戶端軟體和 OLE DB 提供者，然後停止並重新啟動 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體。</span><span class="sxs-lookup"><span data-stu-id="dd99c-106">Install the Oracle client software and OLE DB provider on the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, and then stop and restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="dd99c-107">如果「散發者」在 64 位元平台上執行，則必須使用 Oracle OLE DB 提供者的 64 位元版本。</span><span class="sxs-lookup"><span data-stu-id="dd99c-107">If the Distributor is running on a 64 bit platform, you must use the 64 bit version of the Oracle OLE DB provider.</span></span>  
  
4.  <span data-ttu-id="dd99c-108">在「 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者」端將 Oracle 資料庫設為「發行者」。</span><span class="sxs-lookup"><span data-stu-id="dd99c-108">Configure the Oracle database as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor.</span></span>  
  
 <span data-ttu-id="dd99c-109">如需可以從 Oracle 資料庫複寫的物件清單，請參閱 [Oracle 發行者的設計考量與限制](design-considerations-and-limitations-for-oracle-publishers.md)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-109">For a list of objects that can be replicated from an Oracle database, see [Design Considerations and Limitations for Oracle Publishers](design-considerations-and-limitations-for-oracle-publishers.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd99c-110">您必須是 **sysadmin** 固定伺服器角色的成員，才能啟用「發行者」或「散發者」並建立 Oracle 發行集或從 Oracle 發行集建立訂閱。</span><span class="sxs-lookup"><span data-stu-id="dd99c-110">You must be a member of the **sysadmin** fixed server role to enable a Publisher or Distributor and to create an Oracle publication or a subscription from an Oracle publication.</span></span>  
  
## <a name="creating-the-replication-administrative-user-schema-within-the-oracle-database"></a><span data-ttu-id="dd99c-111">在 Oracle 資料庫中建立複寫管理的使用者結構描述</span><span class="sxs-lookup"><span data-stu-id="dd99c-111">Creating the Replication Administrative User Schema within the Oracle Database</span></span>  
 <span data-ttu-id="dd99c-112">複寫代理程式連接到 Oracle 資料庫並在您必須建立的使用者結構描述內容中執行作業。</span><span class="sxs-lookup"><span data-stu-id="dd99c-112">Replication agents connect to the Oracle database and perform operations in the context of a user schema that you must create.</span></span> <span data-ttu-id="dd99c-113">此結構描述必須被授與許多權限，這些權限會列示在下一節中。</span><span class="sxs-lookup"><span data-stu-id="dd99c-113">This schema must be granted a number of permissions, which are listed in the next section.</span></span> <span data-ttu-id="dd99c-114">此結構描述在「Oracle 發行者」上擁有 [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 複寫處理所建立的所有物件，但公用同義字 **MSSQLSERVERDISTRIBUTOR** 除外。</span><span class="sxs-lookup"><span data-stu-id="dd99c-114">This schema owns all objects created by the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication process on the Oracle Publisher, with the exception of a public synonym, **MSSQLSERVERDISTRIBUTOR**.</span></span> <span data-ttu-id="dd99c-115">如需 Oracle 資料庫中建立的物件的詳細資訊，請參閱＜ [Objects Created on the Oracle Publisher](objects-created-on-the-oracle-publisher.md)＞。</span><span class="sxs-lookup"><span data-stu-id="dd99c-115">For more information about the objects created in the Oracle database, see [Objects Created on the Oracle Publisher](objects-created-on-the-oracle-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd99c-116">用 **CASCADE** 選項來卸除 **MSSQLSERVERDISTRIBUTOR** 公用同義字和設定的 Oracle 複寫使用者，會從「Oracle 發行者」移除所有的複寫物件。</span><span class="sxs-lookup"><span data-stu-id="dd99c-116">Dropping the **MSSQLSERVERDISTRIBUTOR** public synonym and the configured Oracle replication user with the **CASCADE** option removes all replication objects from the Oracle Publisher.</span></span>  
  
 <span data-ttu-id="dd99c-117">在 Oracle 複寫使用者結構描述的安裝程式中會提供範例指令碼進行輔助。</span><span class="sxs-lookup"><span data-stu-id="dd99c-117">A sample script has been provided to aid in the setup of the Oracle replication user schema.</span></span> <span data-ttu-id="dd99c-118">安裝 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 之後，可在下列目錄中取得指令碼： *\<drive>* :\\\Program Files\Microsoft SQL Server\\ *\<InstanceName>* \MSSQL\Install\oracleadmin.sql。</span><span class="sxs-lookup"><span data-stu-id="dd99c-118">The script is available in the following directory after installation of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]: *\<drive>*:\\\Program Files\Microsoft SQL Server\\*\<InstanceName>* \MSSQL\Install\oracleadmin.sql.</span></span> <span data-ttu-id="dd99c-119">它也包含在＜ [Script to Grant Oracle Permissions](script-to-grant-oracle-permissions.md)＞主題中。</span><span class="sxs-lookup"><span data-stu-id="dd99c-119">It is also included in the topic [Script to Grant Oracle Permissions](script-to-grant-oracle-permissions.md).</span></span>  
  
 <span data-ttu-id="dd99c-120">使用具有 DBA 權限的帳戶連接到 Oracle 資料庫並執行指令碼。</span><span class="sxs-lookup"><span data-stu-id="dd99c-120">Connect to the Oracle database using an account with DBA privileges and execute the script.</span></span> <span data-ttu-id="dd99c-121">此指令碼會提示輸入複寫管理使用者結構描述的使用者與密碼，以及要在其中建立物件的預設資料表空間 (資料表空間必須已經存在於 Oracle 資料庫中)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-121">This script prompts for the user and password for the replication administrative user schema as well as the default tablespace in which to create the objects (the tablespace must already exist in the Oracle database).</span></span> <span data-ttu-id="dd99c-122">如需如何為物件指定其他資料表空間的資訊，請參閱[管理 Oracle 資料表空間](manage-oracle-tablespaces.md)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-122">For information about specifying other tablespaces for objects, see [Manage Oracle Tablespaces](manage-oracle-tablespaces.md).</span></span> <span data-ttu-id="dd99c-123">可以選擇任何使用者名稱和增強式密碼，但是需將兩者都記下來，因為稍後當您將 Oracle 資料庫設為「發行者」時會提示需要此資訊。</span><span class="sxs-lookup"><span data-stu-id="dd99c-123">Choose any user name and strong password, but make note of both because you will be prompted for this information later when you configure the Oracle database as a Publisher.</span></span> <span data-ttu-id="dd99c-124">建議僅將結構描僅用於複寫所需的物件；不要建立資料表來發行於此結構描述中。</span><span class="sxs-lookup"><span data-stu-id="dd99c-124">It is recommended that the schema be used only for objects required by replication; do not create tables to be published in this schema.</span></span>  
  
### <a name="creating-the-user-schema-manually"></a><span data-ttu-id="dd99c-125">手動建立使用者結構描述</span><span class="sxs-lookup"><span data-stu-id="dd99c-125">Creating the User Schema Manually</span></span>  
 <span data-ttu-id="dd99c-126">如果您手動建立複寫管理使用者結構描述，則必須授與結構描述下列權限 (不論是直接或透過資料庫角色)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-126">If you create the replication administrative user schema manually, you must grant the schema the following permissions, either directly or through a database role.</span></span>  
  
-   <span data-ttu-id="dd99c-127">CREATE PUBLIC SYNONYM 和 DROP PUBLIC SYNONYM</span><span class="sxs-lookup"><span data-stu-id="dd99c-127">CREATE PUBLIC SYNONYM and DROP PUBLIC SYNONYM</span></span>  
  
-   <span data-ttu-id="dd99c-128">CREATE PROCEDURE</span><span class="sxs-lookup"><span data-stu-id="dd99c-128">CREATE PROCEDURE</span></span>  
  
-   <span data-ttu-id="dd99c-129">CREATE SEQUENCE</span><span class="sxs-lookup"><span data-stu-id="dd99c-129">CREATE SEQUENCE</span></span>  
  
-   <span data-ttu-id="dd99c-130">CREATE SESSION</span><span class="sxs-lookup"><span data-stu-id="dd99c-130">CREATE SESSION</span></span>  
  
 <span data-ttu-id="dd99c-131">您還必須直接 (不透過角色) 授與使用者下列權限：</span><span class="sxs-lookup"><span data-stu-id="dd99c-131">You must also grant the following permissions to the user directly (not through a role):</span></span>  
  
-   <span data-ttu-id="dd99c-132">CREATE ANY TRIGGER。</span><span class="sxs-lookup"><span data-stu-id="dd99c-132">CREATE ANY TRIGGER.</span></span> <span data-ttu-id="dd99c-133">只有快照集和異動複寫中才需要這個權限。</span><span class="sxs-lookup"><span data-stu-id="dd99c-133">This is required only both snapshot and transactional replication.</span></span>  
  
-   <span data-ttu-id="dd99c-134">CREATE TABLE</span><span class="sxs-lookup"><span data-stu-id="dd99c-134">CREATE TABLE</span></span>  
  
-   <span data-ttu-id="dd99c-135">CREATE VIEW</span><span class="sxs-lookup"><span data-stu-id="dd99c-135">CREATE VIEW</span></span>  
  
## <a name="installing-and-configuring-oracle-client-networking-software-on-the-sql-server-distributor"></a><span data-ttu-id="dd99c-136">在 SQL Server 散發者上安裝和設定 Oracle 用戶端網路軟體</span><span class="sxs-lookup"><span data-stu-id="dd99c-136">Installing and Configuring Oracle Client Networking Software on the SQL Server Distributor</span></span>  
 <span data-ttu-id="dd99c-137">您必須在「 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者」上安裝並設定 Oracle 用戶端網路軟體和 Oracle OLE DB 提供者，如此「散發者」才能連接到「Oracle 發行者」。</span><span class="sxs-lookup"><span data-stu-id="dd99c-137">You must install and configure Oracle client networking software and the Oracle OLE DB provider on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, so that the Distributor can make connections to the Oracle Publisher.</span></span> <span data-ttu-id="dd99c-138">安裝該軟體後，請在安裝該軟體的資料夾上設定適當的權限，然後停止並重新啟動 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 執行個體，確定所有的設定都已更新 (權限會在＜設定目錄權限＞一節中描述)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-138">After installing the software, set the appropriate permissions on the folders in which the software is installed, and then stop and restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to ensure that all settings are updated (permissions are described later, in the section "Setting Directory Permissions").</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd99c-139">Oracle 用戶端網路軟體必須是最新的可用版本。</span><span class="sxs-lookup"><span data-stu-id="dd99c-139">The Oracle client networking software must be the most recent version available.</span></span> <span data-ttu-id="dd99c-140">Oracle 建議使用者安裝最新版本的用戶端軟體。</span><span class="sxs-lookup"><span data-stu-id="dd99c-140">Oracle recommends that users install the most recent versions of client software.</span></span> <span data-ttu-id="dd99c-141">因此用戶端軟體的版本通常比資料庫軟體的版本還要新。</span><span class="sxs-lookup"><span data-stu-id="dd99c-141">The client software is therefore often a more recent version than the database software.</span></span>  
  
 <span data-ttu-id="dd99c-142">安裝和設定用戶端網路軟體最直接的方法是使用 Oracle Client 磁碟上的 Oracle Universal Installer 和 Net Configuration Assistant。</span><span class="sxs-lookup"><span data-stu-id="dd99c-142">The most straightforward way to install and configure the client networking software is to use the Oracle Universal Installer and Net Configuration Assistant on the Oracle Client disk.</span></span>  
  
 <span data-ttu-id="dd99c-143">在 Oracle Universal Installer 中，您將提供下列資訊：</span><span class="sxs-lookup"><span data-stu-id="dd99c-143">In the Oracle Universal Installer, you will supply the following information:</span></span>  
  
|<span data-ttu-id="dd99c-144">資訊</span><span class="sxs-lookup"><span data-stu-id="dd99c-144">Information</span></span>|<span data-ttu-id="dd99c-145">描述</span><span class="sxs-lookup"><span data-stu-id="dd99c-145">Description</span></span>|  
|-----------------|-----------------|  
|<span data-ttu-id="dd99c-146">Oracle Home</span><span class="sxs-lookup"><span data-stu-id="dd99c-146">Oracle Home</span></span>|<span data-ttu-id="dd99c-147">這是到 Oracle 軟體之安裝目錄的路徑。</span><span class="sxs-lookup"><span data-stu-id="dd99c-147">This is the path to the install directory for the Oracle software.</span></span> <span data-ttu-id="dd99c-148">接受預設路徑 (C:\oracle\ora90 或類似路徑) 或輸入其他路徑。</span><span class="sxs-lookup"><span data-stu-id="dd99c-148">Accept the default (C:\oracle\ora90 or similar) or enter another path.</span></span> <span data-ttu-id="dd99c-149">如需有關 Oracle Home 的詳細資訊，請參閱本主題後面的「Oracle Home 的注意事項」。</span><span class="sxs-lookup"><span data-stu-id="dd99c-149">For more information about the Oracle Home, see the section "Considerations for Oracle Home" later in this topic.</span></span>|  
|<span data-ttu-id="dd99c-150">Oracle Home 名稱</span><span class="sxs-lookup"><span data-stu-id="dd99c-150">Oracle home name</span></span>|<span data-ttu-id="dd99c-151">Oracle Home 路徑的別名。</span><span class="sxs-lookup"><span data-stu-id="dd99c-151">An alias for the Oracle home path.</span></span>|  
|<span data-ttu-id="dd99c-152">安裝類型</span><span class="sxs-lookup"><span data-stu-id="dd99c-152">Installation type</span></span>|<span data-ttu-id="dd99c-153">在 Oracle 10g 中，選取 **[管理員]** 安裝選項。</span><span class="sxs-lookup"><span data-stu-id="dd99c-153">In Oracle 10g, select the **Administrator** installation option.</span></span>|  
  
 <span data-ttu-id="dd99c-154">Oracle Universal Installer 完成之後，請使用 Net Configuration Assistant 設定網路連接性。</span><span class="sxs-lookup"><span data-stu-id="dd99c-154">After the Oracle Universal Installer is complete, use the Net Configuration Assistant to configure network connectivity.</span></span> <span data-ttu-id="dd99c-155">您必須提供四項資訊來設定網路連接性。</span><span class="sxs-lookup"><span data-stu-id="dd99c-155">You must supply four pieces of information to configure network connectivity.</span></span> <span data-ttu-id="dd99c-156">Oracle 資料庫管理員會在設定資料庫與接聽程式時設定網路組態，如果您沒有此一資訊，管理員應該能夠提供。</span><span class="sxs-lookup"><span data-stu-id="dd99c-156">The Oracle database administrator configures the network configuration when setting up the database and listener and should be able to provide this information if you do not have it.</span></span> <span data-ttu-id="dd99c-157">您必須執行下列工作：</span><span class="sxs-lookup"><span data-stu-id="dd99c-157">You must do the following:</span></span>  
  
|<span data-ttu-id="dd99c-158">動作</span><span class="sxs-lookup"><span data-stu-id="dd99c-158">Action</span></span>|<span data-ttu-id="dd99c-159">描述</span><span class="sxs-lookup"><span data-stu-id="dd99c-159">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="dd99c-160">識別資料庫</span><span class="sxs-lookup"><span data-stu-id="dd99c-160">Identify the database</span></span>|<span data-ttu-id="dd99c-161">有兩種方法可以識別資料庫。</span><span class="sxs-lookup"><span data-stu-id="dd99c-161">There are two methods for identifying the database.</span></span> <span data-ttu-id="dd99c-162">第一種方法使用 Oracle 系統識別碼 (SID)，每個 Oracle 版本都有。</span><span class="sxs-lookup"><span data-stu-id="dd99c-162">The first method uses the Oracle System Identifier (SID) and is available in every Oracle release.</span></span> <span data-ttu-id="dd99c-163">第二種方法使用服務名稱，從 Oracle 8.0 版開始提供。</span><span class="sxs-lookup"><span data-stu-id="dd99c-163">The second method uses the Service Name, which is available starting with Oracle release 8.0.</span></span> <span data-ttu-id="dd99c-164">這兩種方法都使用在建立資料庫時設定的值，重要的是，用戶端網路組態必須使用相同於管理員在設定資料庫接聽程式時，所使用的命名方法。</span><span class="sxs-lookup"><span data-stu-id="dd99c-164">Both methods use a value that is configured when the database is created and it is important that the client networking configuration use the same naming method that the administrator used when configuring the listener for the database.</span></span>|  
|<span data-ttu-id="dd99c-165">識別資料庫的網路別名</span><span class="sxs-lookup"><span data-stu-id="dd99c-165">Identify a network alias for the database</span></span>|<span data-ttu-id="dd99c-166">您必須指定一個用於存取 Oracle 資料庫的網路別名。</span><span class="sxs-lookup"><span data-stu-id="dd99c-166">You must specify a network alias, which is used to access the Oracle database.</span></span> <span data-ttu-id="dd99c-167">在「 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者」端將 Oracle 資料庫視為「發行者」時也要提供此別名。</span><span class="sxs-lookup"><span data-stu-id="dd99c-167">You also supply this alias when you identify the Oracle database as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="dd99c-168">網路別名實質上是指向在建立資料庫時設定之遠端 SID 或服務名稱的指標；不同的 Oracle 版本與產品中所使用的稱呼各有不同，包括網路服務名稱 (Net Service Name) 和 TNS 別名 (TNS Alias)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-168">The network alias is essentially a pointer to the remote SID or Service Name that was configured when the database was created; it has been referred to by several names in different Oracle releases and products, including Net Service Name and TNS Alias.</span></span> <span data-ttu-id="dd99c-169">您登入時，SQL\*Plus 會提示以「Host String」參數輸入這個別名。</span><span class="sxs-lookup"><span data-stu-id="dd99c-169">SQL\*Plus prompts for this alias as the "Host String" parameter when you log in.</span></span>|  
|<span data-ttu-id="dd99c-170">選取網路通訊協定</span><span class="sxs-lookup"><span data-stu-id="dd99c-170">Select the network protocol</span></span>|<span data-ttu-id="dd99c-171">選取您要支援的適當通訊協定。</span><span class="sxs-lookup"><span data-stu-id="dd99c-171">Select the appropriate protocols you would like to support.</span></span> <span data-ttu-id="dd99c-172">大多數應用程式使用 TCP。</span><span class="sxs-lookup"><span data-stu-id="dd99c-172">Most applications use TCP.</span></span>|  
|<span data-ttu-id="dd99c-173">指定識別資料庫接聽程式的主機資訊</span><span class="sxs-lookup"><span data-stu-id="dd99c-173">Specify the host information to identify the database listener</span></span>|<span data-ttu-id="dd99c-174">主機是 Oracle 接聽程式所執行之電腦 (通常與資料庫所在的電腦相同) 的名稱或 DNS 別名。</span><span class="sxs-lookup"><span data-stu-id="dd99c-174">The host is the name or DNS alias of the computer on which the Oracle listener is running, which is typically the same computer on which the database resides.</span></span> <span data-ttu-id="dd99c-175">針對某些通訊協定，您必須提供其他的資訊。</span><span class="sxs-lookup"><span data-stu-id="dd99c-175">For some protocols, you must provide additional information.</span></span> <span data-ttu-id="dd99c-176">例如，您若是選取 TCP，就必須提供接聽程式接聽對目標資料庫之連接要求的通訊埠。</span><span class="sxs-lookup"><span data-stu-id="dd99c-176">For example, if you select TCP, you must supply the port on which the listener is listening for connection requests to the target database.</span></span> <span data-ttu-id="dd99c-177">預設 TCP 組態使用通訊埠 1521。</span><span class="sxs-lookup"><span data-stu-id="dd99c-177">The default TCP configuration uses port 1521.</span></span>|  
  
### <a name="setting-directory-permissions"></a><span data-ttu-id="dd99c-178">設定目錄權限</span><span class="sxs-lookup"><span data-stu-id="dd99c-178">Setting Directory Permissions</span></span>  
 <span data-ttu-id="dd99c-179">必須授與「散發者」端執行 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 服務時所用的帳戶，對安裝 Oracle 用戶端網路軟體之目錄 (及所有子目錄) 的讀取和執行權限。</span><span class="sxs-lookup"><span data-stu-id="dd99c-179">The account under which the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service on the Distributor runs must be granted read and execute permissions for the directory (and all subdirectories) in which the Oracle client networking software is installed.</span></span>  
  
### <a name="testing-connectivity-between-the-sql-server-distributor-and-the-oracle-publisher"></a><span data-ttu-id="dd99c-180">測試 SQL Server 散發者和 Oracle 發行者之間的連接</span><span class="sxs-lookup"><span data-stu-id="dd99c-180">Testing Connectivity Between the SQL Server Distributor and the Oracle Publisher</span></span>  
 <span data-ttu-id="dd99c-181">在 Net Configuration Assistant 執行即將結束時，可能會出現一個用於測試到「Oracle 發行者」連接的選項。</span><span class="sxs-lookup"><span data-stu-id="dd99c-181">Near the end of the Net Configuration Assistant there might be an option to test the connection to the Oracle Publisher.</span></span> <span data-ttu-id="dd99c-182">在您測試連接之前，請確定 Oracle 資料庫執行個體有上線，而且 Oracle 接聽程式正在執行。</span><span class="sxs-lookup"><span data-stu-id="dd99c-182">Before you test the connection, ensure that the Oracle database instance is online and that the Oracle Listener is running.</span></span> <span data-ttu-id="dd99c-183">如果測試不成功，請連絡負責您想要連接之資料庫的 Oracle DBA (Oracle 資料庫管理員)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-183">If the test is unsuccessful, contact the Oracle DBA responsible for the database to which you are trying to connect.</span></span>  
  
 <span data-ttu-id="dd99c-184">如果成功連接到「Oracle 發行者」，則嘗試使用與您建立之複寫管理使用者結構描述相關聯的帳戶和密碼登入資料庫。</span><span class="sxs-lookup"><span data-stu-id="dd99c-184">After you have made a successful connection to the Oracle Publisher, attempt to log in to the database using the account and password associated with the replication administrative user schema you created.</span></span> <span data-ttu-id="dd99c-185">當以 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 服務使用的 Windows 帳戶執行時，必須執行下列項目：</span><span class="sxs-lookup"><span data-stu-id="dd99c-185">The following must be performed while running under the same Windows account that the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service uses:</span></span>  
  
1.  <span data-ttu-id="dd99c-186">按一下 **[開始]** ，然後按一下 **[執行]** 。</span><span class="sxs-lookup"><span data-stu-id="dd99c-186">Click **Start**, and then click **Run**.</span></span>  
  
2.  <span data-ttu-id="dd99c-187">輸入 `cmd` ，然後按一下 **[確定]** 。</span><span class="sxs-lookup"><span data-stu-id="dd99c-187">Type `cmd` and click **OK**.</span></span>  
  
3.  <span data-ttu-id="dd99c-188">在命令提示字元中，輸入：</span><span class="sxs-lookup"><span data-stu-id="dd99c-188">At the command prompt, type:</span></span>  
  
     `sqlplus <UserSchemaLogin>/<UserSchemaPassword>@<NetServiceName>`  
  
     <span data-ttu-id="dd99c-189">例如： `sqlplus replication/$tr0ngPasswerd@Oracle90Server`</span><span class="sxs-lookup"><span data-stu-id="dd99c-189">For example: `sqlplus replication/$tr0ngPasswerd@Oracle90Server`</span></span>  
  
4.  <span data-ttu-id="dd99c-190">如果網路組態成功，登入將會成功，您也會看到 `SQL` 提示字元。</span><span class="sxs-lookup"><span data-stu-id="dd99c-190">If the networking configuration was successful, the login will succeed and you will see a `SQL` prompt.</span></span>  
  
5.  <span data-ttu-id="dd99c-191">如果您遇到連接到 Oracle 資料庫的問題，請參閱在＜ [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ＞中的「 [ssNoVersion](troubleshooting-oracle-publishers.md)＞。</span><span class="sxs-lookup"><span data-stu-id="dd99c-191">If you experience problems connecting to the Oracle database, see the section "The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor cannot connect to the Oracle database instance" in [Troubleshooting Oracle Publishers](troubleshooting-oracle-publishers.md).</span></span>  
  
### <a name="considerations-for-oracle-home"></a><span data-ttu-id="dd99c-192">Oracle Home 的注意事項</span><span class="sxs-lookup"><span data-stu-id="dd99c-192">Considerations for Oracle Home</span></span>  
 <span data-ttu-id="dd99c-193">Oracle 支援應用程式二進位編碼檔案的並存安裝，但是複寫時，一次只能使用一組二進位編碼檔案。</span><span class="sxs-lookup"><span data-stu-id="dd99c-193">Oracle supports side-by-side installation of application binaries, but only one set of binaries can be used by replication at a given time.</span></span> <span data-ttu-id="dd99c-194">每一個二進位編碼檔案與一個 Oracle Home 相關聯；二進位編碼檔案是在 %ORACLE_HOME%\bin 目錄下。</span><span class="sxs-lookup"><span data-stu-id="dd99c-194">Each set of binaries is associated with an Oracle Home; the binaries are in the directory %ORACLE_HOME%\bin.</span></span> <span data-ttu-id="dd99c-195">如果複寫連接到「Oracle 發行者」，則您必須確定使用正確的二進位編碼檔案集 (特別對於最新版本的用戶端網路軟體)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-195">You must ensure that the correct set of binaries (specifically the latest version of the client networking software) is used when replication makes connections to the Oracle Publisher.</span></span>  
  
 <span data-ttu-id="dd99c-196">利用 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 服務與 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent 服務使用的帳戶登入散發者，並設定適當的環境變數。</span><span class="sxs-lookup"><span data-stu-id="dd99c-196">Log into the Distributor with the accounts used by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service and the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service and set the appropriate environment variables.</span></span> <span data-ttu-id="dd99c-197">%ORACLE_HOME% 變數應設定為參考您安裝用戶端網路軟體時指定的安裝點。</span><span class="sxs-lookup"><span data-stu-id="dd99c-197">The %ORACLE_HOME% variable should be set to refer to the installation point you specified when you installed the client networking software.</span></span> <span data-ttu-id="dd99c-198">%PATH% 必須包含 %ORACLE_HOME% \bin 目錄，做為遇到的第一個 Oracle 項目。</span><span class="sxs-lookup"><span data-stu-id="dd99c-198">The %PATH% must include the %ORACLE_HOME% \bin directory as the first Oracle entry that is encountered.</span></span> <span data-ttu-id="dd99c-199">如需有關設定環境變數的資訊，請參閱 Windows 文件集。</span><span class="sxs-lookup"><span data-stu-id="dd99c-199">For information about setting environment variables, see the Windows documentation.</span></span>  
  
## <a name="configuring-the-oracle-database-as-a-publisher-at-the-sql-server-distributor"></a><span data-ttu-id="dd99c-200">在 SQL Server 散發者端將 Oracle 資料庫設為發行者</span><span class="sxs-lookup"><span data-stu-id="dd99c-200">Configuring the Oracle Database as a Publisher at the SQL Server Distributor</span></span>  
 <span data-ttu-id="dd99c-201">「Oracle 發行者」通常使用遠端「散發者」；您必須設定 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 的執行個體充當「Oracle 發行者」的「散發者」 (「Oracle 發行者」只能使用一個「散發者」，但是單一「散發者」可以服務多個「 Oracle 發行者」)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-201">Oracle Publishers always use a remote Distributor; you must configure an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to act as a Distributor for your Oracle Publisher (an Oracle Publisher can only use one Distributor, but a single Distributor can service more than one Oracle Publisher).</span></span> <span data-ttu-id="dd99c-202">設定「散發者」之後，透過 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 、Transact-SQL 或 Replication Management Objects (RMO) 將 Oracle 資料庫執行個體視為「 [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]散發者」端的「發行者」。</span><span class="sxs-lookup"><span data-stu-id="dd99c-202">After a Distributor is configured, identify the Oracle database instance as a Publisher at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor through [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], Transact-SQL, or Replication Management Objects (RMO).</span></span> <span data-ttu-id="dd99c-203">如需設定「散發者」的詳細資訊，請參閱 [設定散發](../configure-distribution.md)。</span><span class="sxs-lookup"><span data-stu-id="dd99c-203">For more information about configuring a Distributor, see [Configure Distribution](../configure-distribution.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="dd99c-204">Oracle 發行者的名稱不能與其 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者相同，也不能與使用同一散發者的任何 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 發行者相同。</span><span class="sxs-lookup"><span data-stu-id="dd99c-204">An Oracle Publisher cannot have the same name as its [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor or the same name as any of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Publishers using the same Distributor.</span></span>  
  
 <span data-ttu-id="dd99c-205">將 Oracle 資料庫視為「發行者」時，您必須選擇 Oracle 發行選項：[完整] 或 [Oracle 閘道]。</span><span class="sxs-lookup"><span data-stu-id="dd99c-205">When you identify the Oracle database as a Publisher, you must choose an Oracle publishing option: Complete or Oracle Gateway.</span></span> <span data-ttu-id="dd99c-206">識別發行者之後，除非卸除並重新設定發行者，否則無法變更此選項。</span><span class="sxs-lookup"><span data-stu-id="dd99c-206">After a Publisher is identified, this option cannot be changed without dropping and reconfiguring the Publisher.</span></span> <span data-ttu-id="dd99c-207">[完整] 選項設計用於為 Oracle 發行提供具備全部支援功能的快照式和交易式發行集。</span><span class="sxs-lookup"><span data-stu-id="dd99c-207">The Complete option is designed to provide snapshot and transactional publications with the complete set of supported features for Oracle publishing.</span></span> <span data-ttu-id="dd99c-208">[Oracle 閘道] 選項在複寫充當系統間閘道的情況下提供特定的設計最佳化以增進效能。</span><span class="sxs-lookup"><span data-stu-id="dd99c-208">The Oracle Gateway option provides specific design optimizations to improve performance for cases where replication serves as a gateway between systems.</span></span>  
  
 <span data-ttu-id="dd99c-209">在「 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] 散發者」端識別「Oracle 發行者」後，複寫會建立名稱與 Oracle 資料庫之 TNS 服務名稱相同的連結伺服器。</span><span class="sxs-lookup"><span data-stu-id="dd99c-209">After the Oracle Publisher is identified at the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Distributor, replication creates a linked server with the same name as the TNS service name of the Oracle database.</span></span> <span data-ttu-id="dd99c-210">此連結伺服器只能由複寫使用。</span><span class="sxs-lookup"><span data-stu-id="dd99c-210">This linked server can be used only by replication.</span></span> <span data-ttu-id="dd99c-211">若您必須透過連結伺服器連線來連接到 Oracle 發行者，請建立另一個 TNS 服務名稱，然後在呼叫 [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql) 時使用這個名稱。</span><span class="sxs-lookup"><span data-stu-id="dd99c-211">If you need to connect to the Oracle Publisher over a linked server connection, create another TNS service name, and then use this name when calling [sp_addlinkedserver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addlinkedserver-transact-sql).</span></span>  
  
 <span data-ttu-id="dd99c-212">若要設定 Oracle 發行者並建立發行集，請參閱＜ [Create a Publication from an Oracle Database](../publish/create-a-publication-from-an-oracle-database.md)＞。</span><span class="sxs-lookup"><span data-stu-id="dd99c-212">To configure an Oracle Publisher and create a publication, see [Create a Publication from an Oracle Database](../publish/create-a-publication-from-an-oracle-database.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dd99c-213">另請參閱</span><span class="sxs-lookup"><span data-stu-id="dd99c-213">See Also</span></span>  
 <span data-ttu-id="dd99c-214">[Oracle 發行者的管理考量](administrative-considerations-for-oracle-publishers.md) </span><span class="sxs-lookup"><span data-stu-id="dd99c-214">[Administrative Considerations for Oracle Publishers](administrative-considerations-for-oracle-publishers.md) </span></span>  
 <span data-ttu-id="dd99c-215">[Data Type Mapping for Oracle Publishers](data-type-mapping-for-oracle-publishers.md) </span><span class="sxs-lookup"><span data-stu-id="dd99c-215">[Data Type Mapping for Oracle Publishers](data-type-mapping-for-oracle-publishers.md) </span></span>  
 <span data-ttu-id="dd99c-216">[Oracle 發行相關術語字彙](glossary-of-terms-for-oracle-publishing.md) </span><span class="sxs-lookup"><span data-stu-id="dd99c-216">[Glossary of Terms for Oracle Publishing](glossary-of-terms-for-oracle-publishing.md) </span></span>  
 [<span data-ttu-id="dd99c-217">Oracle 發行概觀</span><span class="sxs-lookup"><span data-stu-id="dd99c-217">Oracle Publishing Overview</span></span>](oracle-publishing-overview.md)  
  
  
