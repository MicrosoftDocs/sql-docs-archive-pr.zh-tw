---
title: SQL Server 的 Databases 物件 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], monitoring
- Databases object
- SQLServer:Databases
- Availability Groups [SQL Server], performance counters
ms.assetid: a7f9e7d4-fff4-4c72-8b3e-3f18dffc8919
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2f4f46bd388476934226e41d371c85fa13b94d23
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87598296"
---
# <a name="sql-server-databases-object"></a><span data-ttu-id="09bf0-102">SQL Server、Databases 物件</span><span class="sxs-lookup"><span data-stu-id="09bf0-102">SQL Server, Databases Object</span></span>
  <span data-ttu-id="09bf0-103">SQL Server 中的 **SQLServer:Databases** 物件提供計數器，可用來監視大量複製作業、備份和還原輸送量以及交易記錄活動。</span><span class="sxs-lookup"><span data-stu-id="09bf0-103">The **SQLServer:Databases** object in SQL Server provides counters to monitor bulk copy operations, backup and restore throughput, and transaction log activities.</span></span> <span data-ttu-id="09bf0-104">監視交易和交易記錄檔，可以判斷資料庫中有多少使用者活動，以及交易記錄檔有多滿。</span><span class="sxs-lookup"><span data-stu-id="09bf0-104">Monitor transactions and the transaction log to determine how much user activity is occurring in the database and how full the transaction log is becoming.</span></span> <span data-ttu-id="09bf0-105">使用者活動量可用來判斷資料庫的效能，並且會影響記錄檔大小、鎖定和複寫。</span><span class="sxs-lookup"><span data-stu-id="09bf0-105">The amount of user activity can determine the performance of the database and affect log size, locking, and replication.</span></span> <span data-ttu-id="09bf0-106">監視低階記錄檔活動，則可量測使用者活動和資源使用量，以協助您找出效能瓶頸。</span><span class="sxs-lookup"><span data-stu-id="09bf0-106">Monitoring low-level log activity to gauge user activity and resource usage can help you to identify performance bottlenecks.</span></span>  
  
 <span data-ttu-id="09bf0-107">您可同時監視 **Databases** 物件的多個執行個體，每個執行個體都代表一個資料庫。</span><span class="sxs-lookup"><span data-stu-id="09bf0-107">Multiple instances of the **Databases** object, each representing a single database, can be monitored at the same time.</span></span>  
  
 <span data-ttu-id="09bf0-108">下表描述 SQL Server **Databases** 計數器。</span><span class="sxs-lookup"><span data-stu-id="09bf0-108">This table describes the SQL Server **Databases** counters.</span></span>  
  
|<span data-ttu-id="09bf0-109">SQL Server Databases 計數器</span><span class="sxs-lookup"><span data-stu-id="09bf0-109">SQL Server Databases counters</span></span>|<span data-ttu-id="09bf0-110">描述</span><span class="sxs-lookup"><span data-stu-id="09bf0-110">Description</span></span>|  
|-----------------------------------|-----------------|  
|<span data-ttu-id="09bf0-111">**Active Transactions**</span><span class="sxs-lookup"><span data-stu-id="09bf0-111">**Active Transactions**</span></span>|<span data-ttu-id="09bf0-112">資料庫的使用中交易數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-112">Number of active transactions for the database.</span></span>|  
|<span data-ttu-id="09bf0-113">**Backup/Restore Throughput/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-113">**Backup/Restore Throughput/sec**</span></span>|<span data-ttu-id="09bf0-114">每秒的資料庫備份和還原作業之讀取/寫入輸送量。</span><span class="sxs-lookup"><span data-stu-id="09bf0-114">Read/write throughput for backup and restore operations of a database per second.</span></span> <span data-ttu-id="09bf0-115">例如，您可以測量同時使用更多個備份裝置或是使用了更快的裝置時，資料庫備份作業的效能改變情形。</span><span class="sxs-lookup"><span data-stu-id="09bf0-115">For example, you can measure how the performance of the database backup operation changes when more backup devices are used in parallel or when faster devices are used.</span></span> <span data-ttu-id="09bf0-116">資料庫備份或還原作業的輸送量，可讓您判斷備份和還原作業的進度和效能。</span><span class="sxs-lookup"><span data-stu-id="09bf0-116">Throughput of a database backup or restore operation allows you to determine the progress and performance of your backup and restore operations.</span></span>|  
|<span data-ttu-id="09bf0-117">**Bulk Copy Rows/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-117">**Bulk Copy Rows/sec**</span></span>|<span data-ttu-id="09bf0-118">每秒大量複製 (Bulk Copy) 的資料列數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-118">Number of rows bulk copied per second.</span></span>|  
|<span data-ttu-id="09bf0-119">**Bulk Copy Throughput/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-119">**Bulk Copy Throughput/sec**</span></span>|<span data-ttu-id="09bf0-120">每秒大量複製的資料量 (以 KB 為單位)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-120">Amount of data bulk copied (in kilobytes) per second.</span></span>|  
|<span data-ttu-id="09bf0-121">**Commit table entries**</span><span class="sxs-lookup"><span data-stu-id="09bf0-121">**Commit table entries**</span></span>|<span data-ttu-id="09bf0-122">資料庫認可資料表之記憶體中部分的大小。</span><span class="sxs-lookup"><span data-stu-id="09bf0-122">The size of the in-memory portion of the commit table for the database.</span></span> <span data-ttu-id="09bf0-123">如需詳細資訊，請參閱 [sys.dm_tran_commit_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/change-tracking-sys-dm-tran-commit-table)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-123">For more information, see [sys.dm_tran_commit_table &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/change-tracking-sys-dm-tran-commit-table).</span></span>|  
|<span data-ttu-id="09bf0-124">**Data File(s) Size (KB)**</span><span class="sxs-lookup"><span data-stu-id="09bf0-124">**Data File(s) Size (KB)**</span></span>|<span data-ttu-id="09bf0-125">資料庫內的所有資料檔案總計大小 (以 KB 為單位)，包含任何自動的成長。</span><span class="sxs-lookup"><span data-stu-id="09bf0-125">Cumulative size (in kilobytes) of all the data files in the database including any automatic growth.</span></span> <span data-ttu-id="09bf0-126">監視此計數器很有用，例如可決定 **tempdb**的正確大小。</span><span class="sxs-lookup"><span data-stu-id="09bf0-126">Monitoring this counter is useful, for example, for determining the correct size of **tempdb**.</span></span>|  
|<span data-ttu-id="09bf0-127">**DBCC Logical Scan Bytes/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-127">**DBCC Logical Scan Bytes/sec**</span></span>|<span data-ttu-id="09bf0-128">資料庫主控台命令 (DBCC) 每秒的邏輯讀取掃描位元組數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-128">Number of logical read scan bytes per second for database console commands (DBCC).</span></span>|  
|<span data-ttu-id="09bf0-129">**Log Cache Hit Ratio**</span><span class="sxs-lookup"><span data-stu-id="09bf0-129">**Log Cache Hit Ratio**</span></span>|<span data-ttu-id="09bf0-130">記錄檔快取所滿足的記錄檔快取讀取百分比。</span><span class="sxs-lookup"><span data-stu-id="09bf0-130">Percentage of log cache reads satisfied from the log cache.</span></span>|  
|<span data-ttu-id="09bf0-131">**Log Cache Reads/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-131">**Log Cache Reads/sec**</span></span>|<span data-ttu-id="09bf0-132">每秒透過記錄檔管理員快取所執行的讀取數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-132">Reads performed per second through the log manager cache.</span></span>|  
|<span data-ttu-id="09bf0-133">**Log File(s) Size (KB)**</span><span class="sxs-lookup"><span data-stu-id="09bf0-133">**Log File(s) Size (KB)**</span></span>|<span data-ttu-id="09bf0-134">資料庫內所有交易記錄檔的總計大小 (以位元組為單位)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-134">Cumulative size (in kilobytes) of all the transaction log files in the database.</span></span>|  
|<span data-ttu-id="09bf0-135">**Log File(s) Used Size (KB)**</span><span class="sxs-lookup"><span data-stu-id="09bf0-135">**Log File(s) Used Size (KB)**</span></span>|<span data-ttu-id="09bf0-136">資料庫中所有記錄檔的總計使用大小。</span><span class="sxs-lookup"><span data-stu-id="09bf0-136">The cumulative used size of all the log files in the database.</span></span>|  
|<span data-ttu-id="09bf0-137">**Log Flush Wait Time**</span><span class="sxs-lookup"><span data-stu-id="09bf0-137">**Log Flush Wait Time**</span></span>|<span data-ttu-id="09bf0-138">排清記錄檔的等候時間總計 (以毫秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-138">Total wait time (in milliseconds) to flush the log.</span></span> <span data-ttu-id="09bf0-139">在 AlwaysOn 次要資料庫上，此值表示記錄檔記錄強行寫入磁碟的等候時間。</span><span class="sxs-lookup"><span data-stu-id="09bf0-139">On an AlwaysOn secondary database, this value indicates the wait time for log records to be hardened to disk.</span></span>|  
|<span data-ttu-id="09bf0-140">**Log Flush Waits/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-140">**Log Flush Waits/sec**</span></span>|<span data-ttu-id="09bf0-141">每秒鐘等候記錄檔排清的認可數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-141">Number of commits per second waiting for the log flush.</span></span>|  
|<span data-ttu-id="09bf0-142">**Log Flush Write Time (ms)**</span><span class="sxs-lookup"><span data-stu-id="09bf0-142">**Log Flush Write Time (ms)**</span></span>|<span data-ttu-id="09bf0-143">執行在最後一筆記錄中完成之記錄檔排清寫入的時間 (以毫秒為單位)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-143">Time in milliseconds for performing writes of log flushes that were completed in the last second.</span></span>|  
|<span data-ttu-id="09bf0-144">**Log Flushes/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-144">**Log Flushes/sec**</span></span>|<span data-ttu-id="09bf0-145">每秒的記錄檔排清數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-145">Number of log flushes per second.</span></span>|  
|<span data-ttu-id="09bf0-146">**Log Growths**</span><span class="sxs-lookup"><span data-stu-id="09bf0-146">**Log Growths**</span></span>|<span data-ttu-id="09bf0-147">資料庫之交易記錄檔的擴大總次數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-147">Total number of times the transaction log for the database has been expanded.</span></span>|  
|<span data-ttu-id="09bf0-148">**Log Shrinks**</span><span class="sxs-lookup"><span data-stu-id="09bf0-148">**Log Shrinks**</span></span>|<span data-ttu-id="09bf0-149">資料庫之交易記錄縮小的總次數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-149">Total number of times the transaction log for the database has been shrunk.</span></span>|  
|<span data-ttu-id="09bf0-150">**Log Pool Cache Misses/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-150">**Log Pool Cache Misses/sec**</span></span>|<span data-ttu-id="09bf0-151">記錄檔區塊無法在記錄檔集區中使用的要求數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-151">Number of requests for which the log block was not available in the log pool.</span></span> <span data-ttu-id="09bf0-152">「記錄集區」是交易記錄的記憶體中快取。</span><span class="sxs-lookup"><span data-stu-id="09bf0-152">The *log pool* is an in-memory cache of the transaction log.</span></span> <span data-ttu-id="09bf0-153">此快取是用來最佳化記錄的讀取，以便進行復原、交易複寫、回復和 [!INCLUDE[ssHADR](../../includes/sshadr-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="09bf0-153">This cache is used to optimize reading the log for recovery, transaction replication, rollback, and [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>|  
|<span data-ttu-id="09bf0-154">**Log Pool Disk Reads/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-154">**Log Pool Disk Reads/sec**</span></span>|<span data-ttu-id="09bf0-155">由記錄檔集區發出來提取記錄檔區塊的磁碟讀取數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-155">Number of disk reads that the log pool issued to fetch log blocks.</span></span>|  
|<span data-ttu-id="09bf0-156">**Log Pool Requests/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-156">**Log Pool Requests/sec**</span></span>|<span data-ttu-id="09bf0-157">記錄檔集區處理的記錄檔區塊要求數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-157">The number of log-block requests processed by the log pool.</span></span>|  
|<span data-ttu-id="09bf0-158">**Log Truncations**</span><span class="sxs-lookup"><span data-stu-id="09bf0-158">**Log Truncations**</span></span>|<span data-ttu-id="09bf0-159">交易記錄檔被壓縮的次數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-159">The number of times the transaction log has been shrunk.</span></span>|  
|<span data-ttu-id="09bf0-160">**Percent Log Used**</span><span class="sxs-lookup"><span data-stu-id="09bf0-160">**Percent Log Used**</span></span>|<span data-ttu-id="09bf0-161">使用中的記錄檔空間百分比。</span><span class="sxs-lookup"><span data-stu-id="09bf0-161">Percentage of space in the log that is in use.</span></span>|  
|<span data-ttu-id="09bf0-162">**Repl.Pending Xacts**</span><span class="sxs-lookup"><span data-stu-id="09bf0-162">**Repl. Pending Xacts**</span></span>|<span data-ttu-id="09bf0-163">標示成複寫、但未傳送到散發資料庫的發行集資料庫內的交易記錄檔之交易數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-163">Number of transactions in the transaction log of the publication database marked for replication, but not yet delivered to the distribution database.</span></span>|  
|<span data-ttu-id="09bf0-164">**Repl.Trans.Rate**</span><span class="sxs-lookup"><span data-stu-id="09bf0-164">**Repl. Trans. Rate**</span></span>|<span data-ttu-id="09bf0-165">每秒自發行集資料的交易記錄檔讀取並傳送至散發資料庫的交易數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-165">Number of transactions per second read out of the transaction log of the publication database and delivered to the distribution database.</span></span>|  
|<span data-ttu-id="09bf0-166">**Shrink Data Movement Bytes/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-166">**Shrink Data Movement Bytes/sec**</span></span>|<span data-ttu-id="09bf0-167">經由自動壓縮作業或是 DBCC SHRINKDATABASE 或 DBCC SHRINKFILE 陳述式移動的每秒資料量。</span><span class="sxs-lookup"><span data-stu-id="09bf0-167">Amount of data being moved per second by autoshrink operations, or DBCC SHRINKDATABASE or DBCC SHRINKFILE statements.</span></span>|  
|<span data-ttu-id="09bf0-168">**Tracked transactions/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-168">**Tracked transactions/sec**</span></span>|<span data-ttu-id="09bf0-169">資料庫的認可資料表中記錄的已認可交易數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-169">Number of committed transactions recorded in the commit table for the database.</span></span>|  
|<span data-ttu-id="09bf0-170">**Transactions/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-170">**Transactions/sec**</span></span>|<span data-ttu-id="09bf0-171">每秒針對資料庫啟動的交易數。</span><span class="sxs-lookup"><span data-stu-id="09bf0-171">Number of transactions started for the database per second.</span></span><br /><br /> <span data-ttu-id="09bf0-172">[Transactions/sec] 並未計入僅限 XTP 交易 (由原生編譯的預存程序啟動的交易)。</span><span class="sxs-lookup"><span data-stu-id="09bf0-172">**Transactions/sec** does not count XTP-only transactions (transactions started by a natively compiled stored procedure)..</span></span>|  
|<span data-ttu-id="09bf0-173">**Write Transactions/sec**</span><span class="sxs-lookup"><span data-stu-id="09bf0-173">**Write Transactions/sec**</span></span>|<span data-ttu-id="09bf0-174">上一秒寫入資料庫並認可的交易數目。</span><span class="sxs-lookup"><span data-stu-id="09bf0-174">Number of transactions that wrote to the database and committed, in the last second.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="09bf0-175">另請參閱</span><span class="sxs-lookup"><span data-stu-id="09bf0-175">See Also</span></span>  
 <span data-ttu-id="09bf0-176">[監視資源使用量 &#40;系統監視器&#41;](monitor-resource-usage-system-monitor.md) </span><span class="sxs-lookup"><span data-stu-id="09bf0-176">[Monitor Resource Usage &#40;System Monitor&#41;](monitor-resource-usage-system-monitor.md) </span></span>  
 [<span data-ttu-id="09bf0-177">SQL Server 的 Database Replica</span><span class="sxs-lookup"><span data-stu-id="09bf0-177">SQL Server, Database Replica</span></span>](sql-server-database-replica.md)  
  
  
