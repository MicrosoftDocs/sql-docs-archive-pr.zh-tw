---
title: tempdb 資料庫 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- temporary tables [SQL Server], tempdb database
- tempdb database [SQL Server], about tempdb
- temporary stored procedures [SQL Server]
- tempdb database [SQL Server]
ms.assetid: ce4053fb-e37a-4851-b711-8e504059a780
author: stevestein
ms.author: sstein
ms.openlocfilehash: 7150ca05e536214d43d4992ed1e7f79138ac2be9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686959"
---
# <a name="tempdb-database"></a><span data-ttu-id="d998f-102">tempdb 資料庫</span><span class="sxs-lookup"><span data-stu-id="d998f-102">tempdb Database</span></span>
  <span data-ttu-id="d998f-103">**tempdb** 系統資料庫是全域資源，適用於所有連接到 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體的使用者，且可用來保留下列項目：</span><span class="sxs-lookup"><span data-stu-id="d998f-103">The **tempdb** system database is a global resource that is available to all users connected to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and is used to hold the following:</span></span>  
  
-   <span data-ttu-id="d998f-104">明確建立的暫存使用者物件 (例如：全域或本機暫存資料表、暫存預存程序、資料表變數或資料指標)。</span><span class="sxs-lookup"><span data-stu-id="d998f-104">Temporary user objects that are explicitly created, such as: global or local temporary tables, temporary stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="d998f-105">[!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]所建立的內部物件 (例如，儲存多工緩衝處理或排序之中繼結果集的工作資料表)。</span><span class="sxs-lookup"><span data-stu-id="d998f-105">Internal objects that are created by the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], for example, work tables to store intermediate results for spools or sorting.</span></span>  
  
-   <span data-ttu-id="d998f-106">由資料庫中的資料修改交易所產生的資料列版本，該資料庫採用使用資料列版本設定隔離的讀取認可或快照集隔離交易。</span><span class="sxs-lookup"><span data-stu-id="d998f-106">Row versions that are generated by data modification transactions in a database that uses read-committed using row versioning isolation or snapshot isolation transactions.</span></span>  
  
-   <span data-ttu-id="d998f-107">由以下這類功能的資料修改交易所產生的資料列版本：線上索引作業、Multiple Active Result Set (MARS) 和 AFTER 觸發程序。</span><span class="sxs-lookup"><span data-stu-id="d998f-107">Row versions that are generated by data modification transactions for features, such as: online index operations, Multiple Active Result Sets (MARS), and AFTER triggers.</span></span>  
  
 <span data-ttu-id="d998f-108">**tempdb** 中的作業會以最低限度記錄。</span><span class="sxs-lookup"><span data-stu-id="d998f-108">Operations within **tempdb** are minimally logged.</span></span> <span data-ttu-id="d998f-109">這可讓您回復交易。</span><span class="sxs-lookup"><span data-stu-id="d998f-109">This enables transactions to be rolled back.</span></span> <span data-ttu-id="d998f-110">每次啟動時都會重新建立**tempdb** ， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 如此一來，系統一律會從資料庫的乾淨複本開始。</span><span class="sxs-lookup"><span data-stu-id="d998f-110">**tempdb** is re-created every time [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is started so that the system always starts with a clean copy of the database.</span></span> <span data-ttu-id="d998f-111">連接中斷時會自動卸除暫存資料表與預存程序，且系統關閉時所有連接都會停止。</span><span class="sxs-lookup"><span data-stu-id="d998f-111">Temporary tables and stored procedures are dropped automatically on disconnect, and no connections are active when the system is shut down.</span></span> <span data-ttu-id="d998f-112">因此， **tempdb**中的任何專案都不會從的一個會話儲存 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 到另一個。</span><span class="sxs-lookup"><span data-stu-id="d998f-112">Therefore, there is never anything in **tempdb** to be saved from one session of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to another.</span></span> <span data-ttu-id="d998f-113">**Tempdb**不允許備份和還原作業。</span><span class="sxs-lookup"><span data-stu-id="d998f-113">Backup and restore operations are not allowed on **tempdb**.</span></span>  
  
## <a name="physical-properties-of-tempdb"></a><span data-ttu-id="d998f-114">tempdb 的實體屬性</span><span class="sxs-lookup"><span data-stu-id="d998f-114">Physical Properties of tempdb</span></span>  
 <span data-ttu-id="d998f-115">下表列示 **tempdb** 資料和記錄檔的初始組態值。</span><span class="sxs-lookup"><span data-stu-id="d998f-115">The following table lists the initial configuration values of the **tempdb** data and log files.</span></span> <span data-ttu-id="d998f-116">對於不同版本的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，這些檔案的大小稍有不同。</span><span class="sxs-lookup"><span data-stu-id="d998f-116">The sizes of these files may vary slightly for different editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
|<span data-ttu-id="d998f-117">檔案</span><span class="sxs-lookup"><span data-stu-id="d998f-117">File</span></span>|<span data-ttu-id="d998f-118">邏輯名稱</span><span class="sxs-lookup"><span data-stu-id="d998f-118">Logical name</span></span>|<span data-ttu-id="d998f-119">實體名稱</span><span class="sxs-lookup"><span data-stu-id="d998f-119">Physical name</span></span>|<span data-ttu-id="d998f-120">檔案成長</span><span class="sxs-lookup"><span data-stu-id="d998f-120">File growth</span></span>|  
|----------|------------------|-------------------|-----------------|  
|<span data-ttu-id="d998f-121">主要資料</span><span class="sxs-lookup"><span data-stu-id="d998f-121">Primary data</span></span>|<span data-ttu-id="d998f-122">tempdev</span><span class="sxs-lookup"><span data-stu-id="d998f-122">tempdev</span></span>|<span data-ttu-id="d998f-123">tempdb.mdf</span><span class="sxs-lookup"><span data-stu-id="d998f-123">tempdb.mdf</span></span>|<span data-ttu-id="d998f-124">以百分之 10 的比例自動成長，直到磁碟全滿</span><span class="sxs-lookup"><span data-stu-id="d998f-124">Autogrow by 10 percent until the disk is full</span></span>|  
|<span data-ttu-id="d998f-125">Log</span><span class="sxs-lookup"><span data-stu-id="d998f-125">Log</span></span>|<span data-ttu-id="d998f-126">templog</span><span class="sxs-lookup"><span data-stu-id="d998f-126">templog</span></span>|<span data-ttu-id="d998f-127">templog.ldf</span><span class="sxs-lookup"><span data-stu-id="d998f-127">templog.ldf</span></span>|<span data-ttu-id="d998f-128">以 10% 的比例自動成長，最大至 2 TB</span><span class="sxs-lookup"><span data-stu-id="d998f-128">Autogrow by 10 percent to a maximum of 2 terabytes</span></span>|  
  
 <span data-ttu-id="d998f-129">**Tempdb**的大小可能會影響系統的效能。</span><span class="sxs-lookup"><span data-stu-id="d998f-129">The size of **tempdb** can affect the performance of a system.</span></span> <span data-ttu-id="d998f-130">例如，如果**tempdb**的大小太小，則在每次啟動時，自動成長資料庫以支援您的工作負載需求時，系統處理可能會太過佔用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="d998f-130">For example, if the **tempdb** size is too small, the system processing could be too occupied with autogrowing the database to support your workload requirement every time that you start [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d998f-131">您可以藉由增加**tempdb**的大小來避免此額外負荷。</span><span class="sxs-lookup"><span data-stu-id="d998f-131">You can avoid this overhead by increasing the size of **tempdb**.</span></span>  
  
## <a name="performance-improvements-in-tempdb"></a><span data-ttu-id="d998f-132">tempdb 中的效能改進</span><span class="sxs-lookup"><span data-stu-id="d998f-132">Performance Improvements in tempdb</span></span>  
 <span data-ttu-id="d998f-133">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]中，會以下列方式改進 **tempdb** 效能：</span><span class="sxs-lookup"><span data-stu-id="d998f-133">In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], **tempdb** performance is improved in the following ways:</span></span>  
  
-   <span data-ttu-id="d998f-134">可能會快取暫存資料表和資料表變數。</span><span class="sxs-lookup"><span data-stu-id="d998f-134">Temporary tables and table variables may be cached.</span></span> <span data-ttu-id="d998f-135">快取允許卸除和建立暫存物件以極快速度執行的作業，並減少頁面配置競爭。</span><span class="sxs-lookup"><span data-stu-id="d998f-135">Caching allows operations that drop and create the temporary objects to execute very quickly and reduces page allocation contention.</span></span>  
  
-   <span data-ttu-id="d998f-136">已改進配置頁面閂鎖通訊協定。</span><span class="sxs-lookup"><span data-stu-id="d998f-136">Allocation page latching protocol is improved.</span></span> <span data-ttu-id="d998f-137">這會減少所使用的 UP (更新) 閂鎖數目。</span><span class="sxs-lookup"><span data-stu-id="d998f-137">This reduces the number of UP (update) latches that are used.</span></span>  
  
-   <span data-ttu-id="d998f-138">會減少 **tempdb** 的記錄負擔。</span><span class="sxs-lookup"><span data-stu-id="d998f-138">Logging overhead for **tempdb** is reduced.</span></span> <span data-ttu-id="d998f-139">這會減少 **tempdb** 記錄檔的磁碟 I/O 頻寬耗用量。</span><span class="sxs-lookup"><span data-stu-id="d998f-139">This reduces disk I/O bandwidth consumption on the **tempdb** log file.</span></span>  
  
-   <span data-ttu-id="d998f-140">已改善在**tempdb**中配置混合頁面的演算法。</span><span class="sxs-lookup"><span data-stu-id="d998f-140">The algorithm for allocating mixed pages in **tempdb** is improved.</span></span>  
  
### <a name="moving-the-tempdb-data-and-log-files"></a><span data-ttu-id="d998f-141">移動 tempdb 資料和記錄檔</span><span class="sxs-lookup"><span data-stu-id="d998f-141">Moving the tempdb Data and Log Files</span></span>  
 <span data-ttu-id="d998f-142">若要移動**tempdb**資料和記錄檔，請參閱[移動系統資料庫](system-databases.md)。</span><span class="sxs-lookup"><span data-stu-id="d998f-142">To move the **tempdb** data and log files, see [Move System Databases](system-databases.md).</span></span>  
  
### <a name="database-options"></a><span data-ttu-id="d998f-143">資料庫選項</span><span class="sxs-lookup"><span data-stu-id="d998f-143">Database Options</span></span>  
 <span data-ttu-id="d998f-144">下表列出**tempdb**資料庫中每個資料庫選項的預設值，以及是否可以修改選項。</span><span class="sxs-lookup"><span data-stu-id="d998f-144">The following table lists the default value for each database option in the **tempdb** database and whether the option can be modified.</span></span> <span data-ttu-id="d998f-145">若要檢視這些選項目前的設定，請參閱 [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) 目錄檢視。</span><span class="sxs-lookup"><span data-stu-id="d998f-145">To view the current settings for these options, use the [sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) catalog view.</span></span>  
  
|<span data-ttu-id="d998f-146">資料庫選項</span><span class="sxs-lookup"><span data-stu-id="d998f-146">Database option</span></span>|<span data-ttu-id="d998f-147">預設值</span><span class="sxs-lookup"><span data-stu-id="d998f-147">Default value</span></span>|<span data-ttu-id="d998f-148">可以修改</span><span class="sxs-lookup"><span data-stu-id="d998f-148">Can be modified</span></span>|  
|---------------------|-------------------|---------------------|  
|<span data-ttu-id="d998f-149">ALLOW_SNAPSHOT_ISOLATION</span><span class="sxs-lookup"><span data-stu-id="d998f-149">ALLOW_SNAPSHOT_ISOLATION</span></span>|<span data-ttu-id="d998f-150">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-150">OFF</span></span>|<span data-ttu-id="d998f-151">是</span><span class="sxs-lookup"><span data-stu-id="d998f-151">Yes</span></span>|  
|<span data-ttu-id="d998f-152">ANSI_NULL_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="d998f-152">ANSI_NULL_DEFAULT</span></span>|<span data-ttu-id="d998f-153">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-153">OFF</span></span>|<span data-ttu-id="d998f-154">是</span><span class="sxs-lookup"><span data-stu-id="d998f-154">Yes</span></span>|  
|<span data-ttu-id="d998f-155">ANSI_NULLS</span><span class="sxs-lookup"><span data-stu-id="d998f-155">ANSI_NULLS</span></span>|<span data-ttu-id="d998f-156">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-156">OFF</span></span>|<span data-ttu-id="d998f-157">是</span><span class="sxs-lookup"><span data-stu-id="d998f-157">Yes</span></span>|  
|<span data-ttu-id="d998f-158">ANSI_PADDING</span><span class="sxs-lookup"><span data-stu-id="d998f-158">ANSI_PADDING</span></span>|<span data-ttu-id="d998f-159">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-159">OFF</span></span>|<span data-ttu-id="d998f-160">是</span><span class="sxs-lookup"><span data-stu-id="d998f-160">Yes</span></span>|  
|<span data-ttu-id="d998f-161">ANSI_WARNINGS</span><span class="sxs-lookup"><span data-stu-id="d998f-161">ANSI_WARNINGS</span></span>|<span data-ttu-id="d998f-162">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-162">OFF</span></span>|<span data-ttu-id="d998f-163">是</span><span class="sxs-lookup"><span data-stu-id="d998f-163">Yes</span></span>|  
|<span data-ttu-id="d998f-164">ARITHABORT</span><span class="sxs-lookup"><span data-stu-id="d998f-164">ARITHABORT</span></span>|<span data-ttu-id="d998f-165">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-165">OFF</span></span>|<span data-ttu-id="d998f-166">是</span><span class="sxs-lookup"><span data-stu-id="d998f-166">Yes</span></span>|  
|<span data-ttu-id="d998f-167">AUTO_CLOSE</span><span class="sxs-lookup"><span data-stu-id="d998f-167">AUTO_CLOSE</span></span>|<span data-ttu-id="d998f-168">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-168">OFF</span></span>|<span data-ttu-id="d998f-169">否</span><span class="sxs-lookup"><span data-stu-id="d998f-169">No</span></span>|  
|<span data-ttu-id="d998f-170">AUTO_CREATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="d998f-170">AUTO_CREATE_STATISTICS</span></span>|<span data-ttu-id="d998f-171">開啟</span><span class="sxs-lookup"><span data-stu-id="d998f-171">ON</span></span>|<span data-ttu-id="d998f-172">是</span><span class="sxs-lookup"><span data-stu-id="d998f-172">Yes</span></span>|  
|<span data-ttu-id="d998f-173">AUTO_SHRINK</span><span class="sxs-lookup"><span data-stu-id="d998f-173">AUTO_SHRINK</span></span>|<span data-ttu-id="d998f-174">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-174">OFF</span></span>|<span data-ttu-id="d998f-175">否</span><span class="sxs-lookup"><span data-stu-id="d998f-175">No</span></span>|  
|<span data-ttu-id="d998f-176">AUTO_UPDATE_STATISTICS</span><span class="sxs-lookup"><span data-stu-id="d998f-176">AUTO_UPDATE_STATISTICS</span></span>|<span data-ttu-id="d998f-177">開啟</span><span class="sxs-lookup"><span data-stu-id="d998f-177">ON</span></span>|<span data-ttu-id="d998f-178">是</span><span class="sxs-lookup"><span data-stu-id="d998f-178">Yes</span></span>|  
|<span data-ttu-id="d998f-179">AUTO_UPDATE_STATISTICS_ASYNC</span><span class="sxs-lookup"><span data-stu-id="d998f-179">AUTO_UPDATE_STATISTICS_ASYNC</span></span>|<span data-ttu-id="d998f-180">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-180">OFF</span></span>|<span data-ttu-id="d998f-181">是</span><span class="sxs-lookup"><span data-stu-id="d998f-181">Yes</span></span>|  
|<span data-ttu-id="d998f-182">CHANGE_TRACKING</span><span class="sxs-lookup"><span data-stu-id="d998f-182">CHANGE_TRACKING</span></span>|<span data-ttu-id="d998f-183">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-183">OFF</span></span>|<span data-ttu-id="d998f-184">否</span><span class="sxs-lookup"><span data-stu-id="d998f-184">No</span></span>|  
|<span data-ttu-id="d998f-185">CONCAT_NULL_YIELDS_NULL</span><span class="sxs-lookup"><span data-stu-id="d998f-185">CONCAT_NULL_YIELDS_NULL</span></span>|<span data-ttu-id="d998f-186">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-186">OFF</span></span>|<span data-ttu-id="d998f-187">是</span><span class="sxs-lookup"><span data-stu-id="d998f-187">Yes</span></span>|  
|<span data-ttu-id="d998f-188">CURSOR_CLOSE_ON_COMMIT</span><span class="sxs-lookup"><span data-stu-id="d998f-188">CURSOR_CLOSE_ON_COMMIT</span></span>|<span data-ttu-id="d998f-189">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-189">OFF</span></span>|<span data-ttu-id="d998f-190">是</span><span class="sxs-lookup"><span data-stu-id="d998f-190">Yes</span></span>|  
|<span data-ttu-id="d998f-191">CURSOR_DEFAULT</span><span class="sxs-lookup"><span data-stu-id="d998f-191">CURSOR_DEFAULT</span></span>|<span data-ttu-id="d998f-192">GLOBAL</span><span class="sxs-lookup"><span data-stu-id="d998f-192">GLOBAL</span></span>|<span data-ttu-id="d998f-193">是</span><span class="sxs-lookup"><span data-stu-id="d998f-193">Yes</span></span>|  
|<span data-ttu-id="d998f-194">資料庫可用性選項</span><span class="sxs-lookup"><span data-stu-id="d998f-194">Database Availability Options</span></span>|<span data-ttu-id="d998f-195">ONLINE</span><span class="sxs-lookup"><span data-stu-id="d998f-195">ONLINE</span></span><br /><br /> <span data-ttu-id="d998f-196">MULTI_USER</span><span class="sxs-lookup"><span data-stu-id="d998f-196">MULTI_USER</span></span><br /><br /> <span data-ttu-id="d998f-197">READ_WRITE</span><span class="sxs-lookup"><span data-stu-id="d998f-197">READ_WRITE</span></span>|<span data-ttu-id="d998f-198">否</span><span class="sxs-lookup"><span data-stu-id="d998f-198">No</span></span><br /><br /> <span data-ttu-id="d998f-199">否</span><span class="sxs-lookup"><span data-stu-id="d998f-199">No</span></span><br /><br /> <span data-ttu-id="d998f-200">否</span><span class="sxs-lookup"><span data-stu-id="d998f-200">No</span></span>|  
|<span data-ttu-id="d998f-201">DATE_CORRELATION_OPTIMIZATION</span><span class="sxs-lookup"><span data-stu-id="d998f-201">DATE_CORRELATION_OPTIMIZATION</span></span>|<span data-ttu-id="d998f-202">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-202">OFF</span></span>|<span data-ttu-id="d998f-203">是</span><span class="sxs-lookup"><span data-stu-id="d998f-203">Yes</span></span>|  
|<span data-ttu-id="d998f-204">DB_CHAINING</span><span class="sxs-lookup"><span data-stu-id="d998f-204">DB_CHAINING</span></span>|<span data-ttu-id="d998f-205">開啟</span><span class="sxs-lookup"><span data-stu-id="d998f-205">ON</span></span>|<span data-ttu-id="d998f-206">否</span><span class="sxs-lookup"><span data-stu-id="d998f-206">No</span></span>|  
|<span data-ttu-id="d998f-207">ENCRYPTION</span><span class="sxs-lookup"><span data-stu-id="d998f-207">ENCRYPTION</span></span>|<span data-ttu-id="d998f-208">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-208">OFF</span></span>|<span data-ttu-id="d998f-209">否</span><span class="sxs-lookup"><span data-stu-id="d998f-209">No</span></span>|  
|<span data-ttu-id="d998f-210">NUMERIC_ROUNDABORT</span><span class="sxs-lookup"><span data-stu-id="d998f-210">NUMERIC_ROUNDABORT</span></span>|<span data-ttu-id="d998f-211">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-211">OFF</span></span>|<span data-ttu-id="d998f-212">是</span><span class="sxs-lookup"><span data-stu-id="d998f-212">Yes</span></span>|  
|<span data-ttu-id="d998f-213">PAGE_VERIFY</span><span class="sxs-lookup"><span data-stu-id="d998f-213">PAGE_VERIFY</span></span>|<span data-ttu-id="d998f-214">CHECKSUM (新安裝的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])。</span><span class="sxs-lookup"><span data-stu-id="d998f-214">CHECKSUM for new installations of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="d998f-215">NONE (升級的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])。</span><span class="sxs-lookup"><span data-stu-id="d998f-215">NONE for upgrades of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>|<span data-ttu-id="d998f-216">是</span><span class="sxs-lookup"><span data-stu-id="d998f-216">Yes</span></span>|  
|<span data-ttu-id="d998f-217">PARAMETERIZATION</span><span class="sxs-lookup"><span data-stu-id="d998f-217">PARAMETERIZATION</span></span>|<span data-ttu-id="d998f-218">簡單</span><span class="sxs-lookup"><span data-stu-id="d998f-218">SIMPLE</span></span>|<span data-ttu-id="d998f-219">是</span><span class="sxs-lookup"><span data-stu-id="d998f-219">Yes</span></span>|  
|<span data-ttu-id="d998f-220">QUOTED_IDENTIFIER</span><span class="sxs-lookup"><span data-stu-id="d998f-220">QUOTED_IDENTIFIER</span></span>|<span data-ttu-id="d998f-221">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-221">OFF</span></span>|<span data-ttu-id="d998f-222">是</span><span class="sxs-lookup"><span data-stu-id="d998f-222">Yes</span></span>|  
|<span data-ttu-id="d998f-223">READ_COMMITTED_SNAPSHOT</span><span class="sxs-lookup"><span data-stu-id="d998f-223">READ_COMMITTED_SNAPSHOT</span></span>|<span data-ttu-id="d998f-224">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-224">OFF</span></span>|<span data-ttu-id="d998f-225">否</span><span class="sxs-lookup"><span data-stu-id="d998f-225">No</span></span>|  
|<span data-ttu-id="d998f-226">RECOVERY</span><span class="sxs-lookup"><span data-stu-id="d998f-226">RECOVERY</span></span>|<span data-ttu-id="d998f-227">簡單</span><span class="sxs-lookup"><span data-stu-id="d998f-227">SIMPLE</span></span>|<span data-ttu-id="d998f-228">否</span><span class="sxs-lookup"><span data-stu-id="d998f-228">No</span></span>|  
|<span data-ttu-id="d998f-229">RECURSIVE_TRIGGERS</span><span class="sxs-lookup"><span data-stu-id="d998f-229">RECURSIVE_TRIGGERS</span></span>|<span data-ttu-id="d998f-230">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-230">OFF</span></span>|<span data-ttu-id="d998f-231">是</span><span class="sxs-lookup"><span data-stu-id="d998f-231">Yes</span></span>|  
|<span data-ttu-id="d998f-232">Service Broker 選項</span><span class="sxs-lookup"><span data-stu-id="d998f-232">Service Broker Options</span></span>|<span data-ttu-id="d998f-233">ENABLE_BROKER</span><span class="sxs-lookup"><span data-stu-id="d998f-233">ENABLE_BROKER</span></span>|<span data-ttu-id="d998f-234">是</span><span class="sxs-lookup"><span data-stu-id="d998f-234">Yes</span></span>|  
|<span data-ttu-id="d998f-235">TRUSTWORTHY</span><span class="sxs-lookup"><span data-stu-id="d998f-235">TRUSTWORTHY</span></span>|<span data-ttu-id="d998f-236">OFF</span><span class="sxs-lookup"><span data-stu-id="d998f-236">OFF</span></span>|<span data-ttu-id="d998f-237">否</span><span class="sxs-lookup"><span data-stu-id="d998f-237">No</span></span>|  
  
 <span data-ttu-id="d998f-238">如需這些資料庫選項的描述，請參閱 [ALTER DATABASE SET Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options)。</span><span class="sxs-lookup"><span data-stu-id="d998f-238">For a description of these database options, see [ALTER DATABASE SET Options &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-set-options).</span></span>  
  
## <a name="restrictions"></a><span data-ttu-id="d998f-239">限制</span><span class="sxs-lookup"><span data-stu-id="d998f-239">Restrictions</span></span>  
 <span data-ttu-id="d998f-240">無法在**tempdb**資料庫上執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="d998f-240">The following operations cannot be performed on the **tempdb** database:</span></span>  
  
-   <span data-ttu-id="d998f-241">加入檔案群組。</span><span class="sxs-lookup"><span data-stu-id="d998f-241">Adding filegroups.</span></span>  
  
-   <span data-ttu-id="d998f-242">備份或還原資料庫。</span><span class="sxs-lookup"><span data-stu-id="d998f-242">Backing up or restoring the database.</span></span>  
  
-   <span data-ttu-id="d998f-243">變更定序。</span><span class="sxs-lookup"><span data-stu-id="d998f-243">Changing collation.</span></span> <span data-ttu-id="d998f-244">預設定序是伺服器定序。</span><span class="sxs-lookup"><span data-stu-id="d998f-244">The default collation is the server collation.</span></span>  
  
-   <span data-ttu-id="d998f-245">變更資料庫擁有者。</span><span class="sxs-lookup"><span data-stu-id="d998f-245">Changing the database owner.</span></span> <span data-ttu-id="d998f-246">**tempdb**是由**sa**所擁有。</span><span class="sxs-lookup"><span data-stu-id="d998f-246">**tempdb** is owned by **sa**.</span></span>  
  
-   <span data-ttu-id="d998f-247">建立資料庫快照集。</span><span class="sxs-lookup"><span data-stu-id="d998f-247">Creating a database snapshot.</span></span>  
  
-   <span data-ttu-id="d998f-248">卸除資料庫。</span><span class="sxs-lookup"><span data-stu-id="d998f-248">Dropping the database.</span></span>  
  
-   <span data-ttu-id="d998f-249">從資料庫卸載**來賓**使用者。</span><span class="sxs-lookup"><span data-stu-id="d998f-249">Dropping the **guest** user from the database.</span></span>  
  
-   <span data-ttu-id="d998f-250">啟用異動資料擷取。</span><span class="sxs-lookup"><span data-stu-id="d998f-250">Enabling change data capture.</span></span>  
  
-   <span data-ttu-id="d998f-251">參與資料庫鏡像。</span><span class="sxs-lookup"><span data-stu-id="d998f-251">Participating in database mirroring.</span></span>  
  
-   <span data-ttu-id="d998f-252">移除主要檔案群組、主要資料檔或記錄檔。</span><span class="sxs-lookup"><span data-stu-id="d998f-252">Removing the primary filegroup, primary data file, or log file.</span></span>  
  
-   <span data-ttu-id="d998f-253">重新命名資料庫或主要檔案群組。</span><span class="sxs-lookup"><span data-stu-id="d998f-253">Renaming the database or primary filegroup.</span></span>  
  
-   <span data-ttu-id="d998f-254">執行 DBCC CHECKALLOC。</span><span class="sxs-lookup"><span data-stu-id="d998f-254">Running DBCC CHECKALLOC.</span></span>  
  
-   <span data-ttu-id="d998f-255">執行 DBCC CHECKCATALOG。</span><span class="sxs-lookup"><span data-stu-id="d998f-255">Running DBCC CHECKCATALOG.</span></span>  
  
-   <span data-ttu-id="d998f-256">將資料庫設定為 OFFLINE。</span><span class="sxs-lookup"><span data-stu-id="d998f-256">Setting the database to OFFLINE.</span></span>  
  
-   <span data-ttu-id="d998f-257">將資料庫或主要檔案群組設定為 READ_ONLY。</span><span class="sxs-lookup"><span data-stu-id="d998f-257">Setting the database or primary filegroup to READ_ONLY.</span></span>  
  
## <a name="permissions"></a><span data-ttu-id="d998f-258">權限</span><span class="sxs-lookup"><span data-stu-id="d998f-258">Permissions</span></span>  
 <span data-ttu-id="d998f-259">任何使用者都可以在 tempdb 中建立暫時物件。</span><span class="sxs-lookup"><span data-stu-id="d998f-259">Any user can create temporary objects in tempdb.</span></span> <span data-ttu-id="d998f-260">除非收到其他權限，否則使用者只能存取自己的物件。</span><span class="sxs-lookup"><span data-stu-id="d998f-260">Users can only access their own objects, unless they receive additional permissions.</span></span> <span data-ttu-id="d998f-261">您可以撤銷 tempdb 的連接權限來阻止使用者使用 tempdb，不過不建議您這樣做，因為有些常式作業需要使用 tempdb。</span><span class="sxs-lookup"><span data-stu-id="d998f-261">It is possible to revoke the connect permission to tempdb to prevent a user from using tempdb, but this is not recommended as some routine operations require the use of tempdb.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="d998f-262">相關內容</span><span class="sxs-lookup"><span data-stu-id="d998f-262">Related Content</span></span>  
 [<span data-ttu-id="d998f-263">索引的 SORT_IN_TEMPDB 選項</span><span class="sxs-lookup"><span data-stu-id="d998f-263">SORT_IN_TEMPDB Option For Indexes</span></span>](../indexes/indexes.md)  
  
 [<span data-ttu-id="d998f-264">系統資料庫</span><span class="sxs-lookup"><span data-stu-id="d998f-264">System Databases</span></span>](system-databases.md)  
  
 [<span data-ttu-id="d998f-265">sys.databases &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d998f-265">sys.databases &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql)  
  
 [<span data-ttu-id="d998f-266">sys.master_files &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="d998f-266">sys.master_files &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql)  
  
 [<span data-ttu-id="d998f-267">移動資料庫檔案</span><span class="sxs-lookup"><span data-stu-id="d998f-267">Move Database Files</span></span>](move-database-files.md)  
  
## <a name="see-also"></a><span data-ttu-id="d998f-268">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d998f-268">See Also</span></span>  
 [<span data-ttu-id="d998f-269">使用 SQL Server 2005 中的 tempdb</span><span class="sxs-lookup"><span data-stu-id="d998f-269">Working with tempdb in SQL Server 2005</span></span>](https://chresandro.wordpress.com/2014/09/29/working-with-tempdb-in-sql-server-2005/)  
  
  
