---
title: 建立格式檔案 (SQL Server) | Microsoft 文件
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-movement
ms.topic: conceptual
helpviewer_keywords:
- format files [SQL Server], creating
ms.assetid: f680b4a0-630f-4052-9c79-d348c1076f7b
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: ca9c85bfcac3380ce13ba89fff6de0b5daadbece
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584504"
---
# <a name="create-a-format-file-sql-server"></a><span data-ttu-id="a65b2-102">建立格式檔案 (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="a65b2-102">Create a Format File (SQL Server)</span></span>
  <span data-ttu-id="a65b2-103">當您將資料大量匯入 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料表，或從資料表大量匯出資料時，可以使用格式檔案提供可用來寫入資料檔的彈性系統，幾乎不需要進行編輯即可符合其他資料格式，或是從其他軟體程式讀取資料檔。</span><span class="sxs-lookup"><span data-stu-id="a65b2-103">When you bulk import into a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table or bulk export data from a table, you can use a format file to a flexible system for writing data files that requires little or no editing to comply with other data formats or to read data files from other software programs.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="a65b2-104">支援兩種類型的格式檔案：非 XML 格式和 XML 格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-104">support two types of format file: non-XML format and XML format.</span></span> <span data-ttu-id="a65b2-105">非 XML 格式是舊版 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]所支援的原始格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-105">The non-XML format is the original format that is supported by earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="a65b2-106">一般而言，XML 和非 XML 格式檔案可以互換使用，</span><span class="sxs-lookup"><span data-stu-id="a65b2-106">Generally, XML and non-XML format files are interchangeable.</span></span> <span data-ttu-id="a65b2-107">但是，仍建議您在新的格式檔案中使用 XML 語法，因為 XML 比非 XML 格式檔案多了一些優點。</span><span class="sxs-lookup"><span data-stu-id="a65b2-107">However, we recommend that you use the XML syntax for new format files because they provide several advantages over non-XML format files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a65b2-108">用於讀取格式檔案的 **bcp** 公用程式 (Bcp.exe) 版本，必須與用於建立格式檔案的版本相同或比它更新。</span><span class="sxs-lookup"><span data-stu-id="a65b2-108">The version of the **bcp** utility (Bcp.exe) used to read a format file must be the same as, or later than the version used to create the format file.</span></span> <span data-ttu-id="a65b2-109">例如， [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] **bcp**可以讀取由 bcp 產生的10.0 版格式檔案， [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**但 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] **bcp**無法讀取由 bcp 產生的11.0 格式檔案 [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] \*\* \*\*。</span><span class="sxs-lookup"><span data-stu-id="a65b2-109">For example, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp** can read a version 10.0 format file, which is generated by [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp**, but [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]**bcp** cannot read a version 11.0 format file, which is generated by [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]**bcp**.</span></span>  
  
 <span data-ttu-id="a65b2-110">此主題描述如何使用 [bcp 公用程式](../../tools/bcp-utility.md) 來建立特定資料表的格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-110">This topic describes how to use the [bcp utility](../../tools/bcp-utility.md) to create a format file for a particular table.</span></span> <span data-ttu-id="a65b2-111">格式檔案以指定的資料類型選項 ( **-n**、 **-c**、 **-w**，或 **-N**) 與資料表或檢視分隔符號為基礎。</span><span class="sxs-lookup"><span data-stu-id="a65b2-111">The format file is based on the data-type option specified (**-n**, **-c**, **-w**,or **-N**) and the table or view delimiters.</span></span>  
  
## <a name="creating-a-non-xml-format-file"></a><span data-ttu-id="a65b2-112">建立非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-112">Creating a Non-XML Format File</span></span>  
 <span data-ttu-id="a65b2-113">使用 **bcp** 命令建立格式檔案時，請指定 **format** 引數並使用 **nul** 取代資料檔案路徑。</span><span class="sxs-lookup"><span data-stu-id="a65b2-113">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="a65b2-114">**format** 選項也需要 **-f** 選項，例如：</span><span class="sxs-lookup"><span data-stu-id="a65b2-114">The **format** option also requires the **-f** option, such as:</span></span>  
  
 <span data-ttu-id="a65b2-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span><span class="sxs-lookup"><span data-stu-id="a65b2-115">**bcp** _table_or_view_ **format** nul **-f**_format_file_name_</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a65b2-116">為了區分非 XML 格式檔案，建議您使用 .fmt 做為副檔名，例如 MyTable.fmt。</span><span class="sxs-lookup"><span data-stu-id="a65b2-116">To distinguish a non-XML format file, we recommend that you use .fmt as the file name extension, for example, MyTable.fmt.</span></span>  
  
 <span data-ttu-id="a65b2-117">如需有關非 XML 格式檔案之結構與欄位的詳細資訊，請參閱 [非 XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)所支援的原始格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-117">For information about the structure and fields of non-XML format files, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="a65b2-118">範例</span><span class="sxs-lookup"><span data-stu-id="a65b2-118">Examples</span></span>  
 <span data-ttu-id="a65b2-119">本節包含下列範例，說明如何使用 **bcp** 命令建立非 XML 格式檔案：</span><span class="sxs-lookup"><span data-stu-id="a65b2-119">This section contains the following examples that show how to use **bcp** commands to create a non-XML format file:</span></span>  
  
-   <span data-ttu-id="a65b2-120">A.</span><span class="sxs-lookup"><span data-stu-id="a65b2-120">A.</span></span> <span data-ttu-id="a65b2-121">建立原生資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-121">Creating a non-XML format file for native data</span></span>  
  
-   <span data-ttu-id="a65b2-122">B.</span><span class="sxs-lookup"><span data-stu-id="a65b2-122">B.</span></span> <span data-ttu-id="a65b2-123">建立字元資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-123">Creating a non-XML format file for character data</span></span>  
  
-   <span data-ttu-id="a65b2-124">C.</span><span class="sxs-lookup"><span data-stu-id="a65b2-124">C.</span></span> <span data-ttu-id="a65b2-125">建立 Unicode 原生資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-125">Creating a non-XML format file for Unicode native data</span></span>  
  
-   <span data-ttu-id="a65b2-126">D.</span><span class="sxs-lookup"><span data-stu-id="a65b2-126">D.</span></span> <span data-ttu-id="a65b2-127">建立 Unicode 字元資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-127">Creating a non-XML format file for Unicode character data</span></span>  
  
 <span data-ttu-id="a65b2-128">這些範例使用 `HumanResources.Department` 範例資料庫中的 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 資料表。</span><span class="sxs-lookup"><span data-stu-id="a65b2-128">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="a65b2-129">`HumanResources.Department` 資料表包含四個資料行： `DepartmentID`、 `Name`、 `GroupName`和 `ModifiedDate`。</span><span class="sxs-lookup"><span data-stu-id="a65b2-129">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
#### <a name="a-creating-a-non-xml-format-file-for-native-data"></a><span data-ttu-id="a65b2-130">A.</span><span class="sxs-lookup"><span data-stu-id="a65b2-130">A.</span></span> <span data-ttu-id="a65b2-131">建立原生資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-131">Creating a non-XML format file for native data</span></span>  
 <span data-ttu-id="a65b2-132">下列範例會建立 `Department-n.xml`資料表的 XML 格式檔案 [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-132">The following example creates an XML format file, `Department-n.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="a65b2-133">格式檔案使用原生資料類型。</span><span class="sxs-lookup"><span data-stu-id="a65b2-133">The format file uses native data types.</span></span> <span data-ttu-id="a65b2-134">所產生之格式檔案的內容，會出現在命令之後。</span><span class="sxs-lookup"><span data-stu-id="a65b2-134">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="a65b2-135">**bcp** 命令包含下列限定詞。</span><span class="sxs-lookup"><span data-stu-id="a65b2-135">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="a65b2-136">限定詞</span><span class="sxs-lookup"><span data-stu-id="a65b2-136">Qualifiers</span></span>|<span data-ttu-id="a65b2-137">描述</span><span class="sxs-lookup"><span data-stu-id="a65b2-137">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="a65b2-138">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="a65b2-138">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="a65b2-139">指定非 XML 格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-139">Specifies the non-XML format file.</span></span>|  
|<span data-ttu-id="a65b2-140">**-n**</span><span class="sxs-lookup"><span data-stu-id="a65b2-140">**-n**</span></span>|<span data-ttu-id="a65b2-141">指定原生資料類型。</span><span class="sxs-lookup"><span data-stu-id="a65b2-141">Specifies native data types.</span></span>|  
|<span data-ttu-id="a65b2-142">**-T**</span><span class="sxs-lookup"><span data-stu-id="a65b2-142">**-T**</span></span>|<span data-ttu-id="a65b2-143">指定 **bcp** 公用程式使用整合式安全性的信任連接，連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-143">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="a65b2-144">如果未指定 **-T** ，則必須指定 **-U** 與 **-P** ，才能順利登入。</span><span class="sxs-lookup"><span data-stu-id="a65b2-144">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="a65b2-145">在 Windows 命令提示字元中，輸入下列 `bcp` 命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-145">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -n -f Department-n.fmt  
```  
  
 <span data-ttu-id="a65b2-146">產生的格式檔案 `Department-n.fmt`包含下列資訊：</span><span class="sxs-lookup"><span data-stu-id="a65b2-146">The generated format file, `Department-n.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLSMALLINT   0       2       ""   1     DepartmentID                 ""  
2       SQLNCHAR      2       100     ""   2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLNCHAR      2       100     ""   3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLDATETIME   0       8       ""   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="a65b2-147">如需詳細資訊，請參閱 [非 XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)所支援的原始格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-147">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="b-creating-a-non-xml-format-file-for-character-data"></a><span data-ttu-id="a65b2-148">B.</span><span class="sxs-lookup"><span data-stu-id="a65b2-148">B.</span></span> <span data-ttu-id="a65b2-149">建立字元資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-149">Creating a non-XML format file for character data</span></span>  
 <span data-ttu-id="a65b2-150">下列範例會建立 `Department.fmt`資料表的 XML 格式檔案 [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-150">The following example creates an XML format file, `Department.fmt`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="a65b2-151">格式檔案使用字元資料格式和非預設欄位結束字元 (`,`)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-151">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="a65b2-152">所產生之格式檔案的內容，會出現在命令之後。</span><span class="sxs-lookup"><span data-stu-id="a65b2-152">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="a65b2-153">**bcp** 命令包含下列限定詞。</span><span class="sxs-lookup"><span data-stu-id="a65b2-153">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="a65b2-154">限定詞</span><span class="sxs-lookup"><span data-stu-id="a65b2-154">Qualifiers</span></span>|<span data-ttu-id="a65b2-155">描述</span><span class="sxs-lookup"><span data-stu-id="a65b2-155">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="a65b2-156">**formatnul-f** _format_file_</span><span class="sxs-lookup"><span data-stu-id="a65b2-156">**formatnul-f** _format_file_</span></span>|<span data-ttu-id="a65b2-157">指定非 XML 格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-157">Specifies a non-XML format file.</span></span>|  
|<span data-ttu-id="a65b2-158">**-c**</span><span class="sxs-lookup"><span data-stu-id="a65b2-158">**-c**</span></span>|<span data-ttu-id="a65b2-159">指定字元資料。</span><span class="sxs-lookup"><span data-stu-id="a65b2-159">Specifies character data.</span></span>|  
|<span data-ttu-id="a65b2-160">**-T**</span><span class="sxs-lookup"><span data-stu-id="a65b2-160">**-T**</span></span>|<span data-ttu-id="a65b2-161">指定 **bcp** 公用程式使用整合式安全性的信任連接，連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-161">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="a65b2-162">如果未指定 **-T** ，則必須指定 **-U** 與 **-P** ，才能順利登入。</span><span class="sxs-lookup"><span data-stu-id="a65b2-162">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="a65b2-163">在 Windows 命令提示字元中，輸入下列 `bcp` 命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-163">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -f Department-c.fmt -T  
```  
  
 <span data-ttu-id="a65b2-164">產生的格式檔案 `Department-c.fmt`包含下列資訊：</span><span class="sxs-lookup"><span data-stu-id="a65b2-164">The generated format file, `Department-c.fmt`, contains the following information:</span></span>  
  
```  
12.0  
4  
1       SQLCHAR       0       7       "\t"     1     DepartmentID                 ""  
2       SQLCHAR       0       100     "\t"     2     Name                         SQL_Latin1_General_CP1_CI_AS  
3       SQLCHAR       0       100     "\t"     3     GroupName                    SQL_Latin1_General_CP1_CI_AS  
4       SQLCHAR       0       24      "\r\n"   4     ModifiedDate                 ""  
```  
  
 <span data-ttu-id="a65b2-165">如需詳細資訊，請參閱 [非 XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)所支援的原始格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-165">For more information, see [Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
#### <a name="c-creating-a-non-xml-format-file-for-unicode-native-data"></a><span data-ttu-id="a65b2-166">C.</span><span class="sxs-lookup"><span data-stu-id="a65b2-166">C.</span></span> <span data-ttu-id="a65b2-167">建立 Unicode 原生資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-167">Creating a non-XML format file for Unicode native data</span></span>  
 <span data-ttu-id="a65b2-168">若要針對 `HumanResources.Department` 資料表的 Unicode 原生資料建立非 XML 格式檔案，請使用下列命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-168">To create a non-XML format file for Unicode native data for the `HumanResources.Department` table, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -N -f Department-n.fmt  
```  
  
 <span data-ttu-id="a65b2-169">如需如何使用 Unicode 原生資料的詳細資訊，請參閱[使用 Unicode 原生格式匯入或匯出資料 &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-169">For more information about how to use Unicode native data, see [Use Unicode Native Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="d-creating-a-non-xml-format-file-for-unicode-character-data"></a><span data-ttu-id="a65b2-170">D.</span><span class="sxs-lookup"><span data-stu-id="a65b2-170">D.</span></span> <span data-ttu-id="a65b2-171">建立 Unicode 字元資料的非 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-171">Creating a non-XML format file For Unicode character data</span></span>  
 <span data-ttu-id="a65b2-172">若要針對使用預設結束字元之 `HumanResources.Department` 資料表的 Unicode 字元資料建立非 XML 格式檔案，請使用下列命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-172">To create a non-XML format file for Unicode character data for the `HumanResources.Department` table that uses default terminators, use the following command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -T -w -f Department-w.fmt  
```  
  
 <span data-ttu-id="a65b2-173">如需如何使用 Unicode 字元資料的詳細資訊，請參閱[使用 Unicode 字元格式匯入或匯出資料 &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-173">For more information about how to use Unicode character data, see [Use Unicode Character Format to Import or Export Data &#40;SQL Server&#41;](use-unicode-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="creating-an-xml-format-file"></a><span data-ttu-id="a65b2-174">建立 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-174">Creating an XML Format File</span></span>  
 <span data-ttu-id="a65b2-175">使用 **bcp** 命令建立格式檔案時，請指定 **format** 引數並使用 **nul** 取代資料檔案路徑。</span><span class="sxs-lookup"><span data-stu-id="a65b2-175">To use a **bcp** command to create a format file, specify the **format** argument and use **nul** instead of a data-file path.</span></span> <span data-ttu-id="a65b2-176">**format** 選項一律需要 **-f** 選項，您也必須指定 **-x** 選項才能建立 XML 格式檔案，例如：</span><span class="sxs-lookup"><span data-stu-id="a65b2-176">The **format** option always requires the **-f** option, and to create an XML format file, you must also specify the **-x** option, such as:</span></span>  
  
 <span data-ttu-id="a65b2-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span><span class="sxs-lookup"><span data-stu-id="a65b2-177">**bcp** _table_or_view_ **format nul-f** _format_file_name_ **-x**</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="a65b2-178">為了區分 XML 格式檔案，建議您使用 .xml 做為副檔名，例如 MyTable.xml。</span><span class="sxs-lookup"><span data-stu-id="a65b2-178">To distinguish an XML format file, we recommend that you use .xml as the file name extension, for example, MyTable.xml.</span></span>  
  
 <span data-ttu-id="a65b2-179">如需有關 XML 格式檔案之結構與欄位的詳細資訊，請參閱 [XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)所支援的原始格式。</span><span class="sxs-lookup"><span data-stu-id="a65b2-179">For information about the structure and fields of XML format files, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span>  
  
### <a name="examples"></a><span data-ttu-id="a65b2-180">範例</span><span class="sxs-lookup"><span data-stu-id="a65b2-180">Examples</span></span>  
 <span data-ttu-id="a65b2-181">本節包含下列範例，說明如何使用 **bcp** 命令建立 XML 格式檔案：</span><span class="sxs-lookup"><span data-stu-id="a65b2-181">This section contains the following examples that show how to use **bcp** commands to create an XML format file:</span></span>  
  
-   <span data-ttu-id="a65b2-182">A.</span><span class="sxs-lookup"><span data-stu-id="a65b2-182">A.</span></span> <span data-ttu-id="a65b2-183">建立字元資料的 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-183">Creating an XML format file for character data</span></span>  
  
-   <span data-ttu-id="a65b2-184">B.</span><span class="sxs-lookup"><span data-stu-id="a65b2-184">B.</span></span> <span data-ttu-id="a65b2-185">建立原生資料的 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-185">Creating an XML format file for native data</span></span>  
  
 <span data-ttu-id="a65b2-186">這些範例使用 `HumanResources.Department` 範例資料庫中的 [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] 資料表。</span><span class="sxs-lookup"><span data-stu-id="a65b2-186">The examples use the `HumanResources.Department` table in the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="a65b2-187">`HumanResources.Department` 資料表包含四個資料行： `DepartmentID`、 `Name`、 `GroupName`和 `ModifiedDate`。</span><span class="sxs-lookup"><span data-stu-id="a65b2-187">The `HumanResources.Department` table contains four columns: `DepartmentID`, `Name`, `GroupName`, and `ModifiedDate`.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssSampleDBdesc](../../includes/sssampledbdesc-md.md)]  
  
#### <a name="a-creating-an-xml-format-file-for-character-data"></a><span data-ttu-id="a65b2-188">A.</span><span class="sxs-lookup"><span data-stu-id="a65b2-188">A.</span></span> <span data-ttu-id="a65b2-189">建立字元資料的 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-189">Creating an XML format file for character data</span></span>  
 <span data-ttu-id="a65b2-190">下列範例會建立 `Department.xml`資料表的 XML 格式檔案 [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-190">The following example creates an XML format file, `Department.xml`, for the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)]`HumanResources.Department` table.</span></span> <span data-ttu-id="a65b2-191">格式檔案使用字元資料格式和非預設欄位結束字元 (`,`)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-191">The format file uses character data formats and a non-default field terminator (`,`).</span></span> <span data-ttu-id="a65b2-192">所產生之格式檔案的內容，會出現在命令之後。</span><span class="sxs-lookup"><span data-stu-id="a65b2-192">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="a65b2-193">**bcp** 命令包含下列限定詞。</span><span class="sxs-lookup"><span data-stu-id="a65b2-193">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="a65b2-194">限定詞</span><span class="sxs-lookup"><span data-stu-id="a65b2-194">Qualifiers</span></span>|<span data-ttu-id="a65b2-195">描述</span><span class="sxs-lookup"><span data-stu-id="a65b2-195">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="a65b2-196">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="a65b2-196">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="a65b2-197">指定 XML 格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-197">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="a65b2-198">**-c**</span><span class="sxs-lookup"><span data-stu-id="a65b2-198">**-c**</span></span>|<span data-ttu-id="a65b2-199">指定字元資料。</span><span class="sxs-lookup"><span data-stu-id="a65b2-199">Specifies character data.</span></span>|  
|<span data-ttu-id="a65b2-200">**-t** `,`</span><span class="sxs-lookup"><span data-stu-id="a65b2-200">**-t** `,`</span></span>|<span data-ttu-id="a65b2-201">指定逗號 ( **,** ) 作為欄位結束字元。</span><span class="sxs-lookup"><span data-stu-id="a65b2-201">Specifies a comma (**,**) as the field terminator.</span></span><br /><br /> <span data-ttu-id="a65b2-202">注意:如果資料檔使用預設欄位結束字元 (`\t`)，則不需要 **-t** 參數。</span><span class="sxs-lookup"><span data-stu-id="a65b2-202">Note: If the data file uses the default field terminator (`\t`), the **-t** switch is unnecessary.</span></span>|  
|<span data-ttu-id="a65b2-203">**-T**</span><span class="sxs-lookup"><span data-stu-id="a65b2-203">**-T**</span></span>|<span data-ttu-id="a65b2-204">指定 **bcp** 公用程式使用整合式安全性的信任連接，連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-204">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="a65b2-205">如果未指定 **-T** ，則必須指定 **-U** 與 **-P** ，才能順利登入。</span><span class="sxs-lookup"><span data-stu-id="a65b2-205">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="a65b2-206">在 Windows 命令提示字元中，輸入下列 `bcp` 命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-206">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -c -x -f Department-c..xml -t, -T  
```  
  
 <span data-ttu-id="a65b2-207">產生的格式檔案 `Department-c.xml`包含下列 XML 元素：</span><span class="sxs-lookup"><span data-stu-id="a65b2-207">The generated format file, `Department-c.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="7"/>  
  <FIELD ID="2" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="CharTerm" TERMINATOR="," MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="CharTerm" TERMINATOR="\r\n" MAX_LENGTH="24"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="a65b2-208">如需本格式檔案語法的相關資訊，請參閱 [XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-208">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="a65b2-209">如需字元資料的相關資訊，請參閱[使用字元格式匯入或匯出資料 &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-209">For information about character data, see [Use Character Format to Import or Export Data &#40;SQL Server&#41;](use-character-format-to-import-or-export-data-sql-server.md).</span></span>  
  
#### <a name="b-creating-an-xml-format-file-for-native-data"></a><span data-ttu-id="a65b2-210">B.</span><span class="sxs-lookup"><span data-stu-id="a65b2-210">B.</span></span> <span data-ttu-id="a65b2-211">建立原生資料的 XML 格式檔案</span><span class="sxs-lookup"><span data-stu-id="a65b2-211">Creating an XML format file for native data</span></span>  
 <span data-ttu-id="a65b2-212">下列範例會建立 `Department-n.xml`資料表的 XML 格式檔案 `HumanResources.Department` 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-212">The following example creates an XML format file, `Department-n.xml`, for the `HumanResources.Department` table.</span></span> <span data-ttu-id="a65b2-213">格式檔案使用原生資料類型。</span><span class="sxs-lookup"><span data-stu-id="a65b2-213">The format file uses native data types.</span></span> <span data-ttu-id="a65b2-214">所產生之格式檔案的內容，會出現在命令之後。</span><span class="sxs-lookup"><span data-stu-id="a65b2-214">The contents of the generated format file are presented after the command.</span></span>  
  
 <span data-ttu-id="a65b2-215">**bcp** 命令包含下列限定詞。</span><span class="sxs-lookup"><span data-stu-id="a65b2-215">The **bcp** command contains the following qualifiers.</span></span>  
  
|<span data-ttu-id="a65b2-216">限定詞</span><span class="sxs-lookup"><span data-stu-id="a65b2-216">Qualifiers</span></span>|<span data-ttu-id="a65b2-217">描述</span><span class="sxs-lookup"><span data-stu-id="a65b2-217">Description</span></span>|  
|----------------|-----------------|  
|<span data-ttu-id="a65b2-218">**formatnul-f** _format_file_ **-x**</span><span class="sxs-lookup"><span data-stu-id="a65b2-218">**formatnul-f** _format_file_ **-x**</span></span>|<span data-ttu-id="a65b2-219">指定 XML 格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-219">Specifies the XML format file.</span></span>|  
|<span data-ttu-id="a65b2-220">**-n**</span><span class="sxs-lookup"><span data-stu-id="a65b2-220">**-n**</span></span>|<span data-ttu-id="a65b2-221">指定原生資料類型。</span><span class="sxs-lookup"><span data-stu-id="a65b2-221">Specifies native data types.</span></span>|  
|<span data-ttu-id="a65b2-222">**-T**</span><span class="sxs-lookup"><span data-stu-id="a65b2-222">**-T**</span></span>|<span data-ttu-id="a65b2-223">指定 **bcp** 公用程式使用整合式安全性的信任連接，連接至 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="a65b2-223">Specifies that the **bcp** utility connects to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with a trusted connection using integrated security.</span></span> <span data-ttu-id="a65b2-224">如果未指定 **-T** ，則必須指定 **-U** 與 **-P** ，才能順利登入。</span><span class="sxs-lookup"><span data-stu-id="a65b2-224">If **-T** is not specified, you must specify **-U** and **-P** to successfully log in.</span></span>|  
  
 <span data-ttu-id="a65b2-225">在 Windows 命令提示字元中，輸入下列 `bcp` 命令：</span><span class="sxs-lookup"><span data-stu-id="a65b2-225">At the Windows command prompt, enter the following `bcp` command:</span></span>  
  
```  
bcp AdventureWorks2012.HumanResources.Department format nul -x -f Department-n..xml -n -T  
```  
  
 <span data-ttu-id="a65b2-226">產生的格式檔案 `Department-n.xml`包含下列 XML 元素：</span><span class="sxs-lookup"><span data-stu-id="a65b2-226">The generated format file, `Department-n.xml`, contains the following XML elements:</span></span>  
  
```  
<?xml version="1.0"?>  
<BCPFORMAT xmlns="https://schemas.microsoft.com/sqlserver/2004/bulkload/format" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">  
 <RECORD>  
  <FIELD ID="1" xsi:type="NativeFixed" LENGTH="2"/>  
  <FIELD ID="2" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="3" xsi:type="NCharPrefix" PREFIX_LENGTH="2" MAX_LENGTH="100" COLLATION="SQL_Latin1_General_CP1_CI_AS"/>  
  <FIELD ID="4" xsi:type="NativeFixed" LENGTH="8"/>  
 </RECORD>  
 <ROW>  
  <COLUMN SOURCE="1" NAME="DepartmentID" xsi:type="SQLSMALLINT"/>  
  <COLUMN SOURCE="2" NAME="Name" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="3" NAME="GroupName" xsi:type="SQLNVARCHAR"/>  
  <COLUMN SOURCE="4" NAME="ModifiedDate" xsi:type="SQLDATETIME"/>  
 </ROW>  
</BCPFORMAT>  
```  
  
 <span data-ttu-id="a65b2-227">如需本格式檔案語法的相關資訊，請參閱 [XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-227">For information about the syntax of this format file, see [XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md).</span></span> <span data-ttu-id="a65b2-228">如需如何使用原生資料的相關資訊，請參閱[使用原生格式匯入或匯出資料 &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md)。</span><span class="sxs-lookup"><span data-stu-id="a65b2-228">For information about how to use native data, see [Use Native Format to Import or Export Data &#40;SQL Server&#41;](use-native-format-to-import-or-export-data-sql-server.md).</span></span>  
  
## <a name="mapping-data-fields-to-table-columns"></a><span data-ttu-id="a65b2-229">將資料欄位對應至資料表資料行</span><span class="sxs-lookup"><span data-stu-id="a65b2-229">Mapping Data Fields to Table Columns</span></span>  
 <span data-ttu-id="a65b2-230">格式檔案由 **bcp**建立後，便會依序描述所有的資料表資料行。</span><span class="sxs-lookup"><span data-stu-id="a65b2-230">As created by **bcp**, a format file describes all the table columns in order.</span></span> <span data-ttu-id="a65b2-231">您可以修改格式檔案，重新排列或省略資料表資料列。</span><span class="sxs-lookup"><span data-stu-id="a65b2-231">You can modify a format file to rearrange or omit table rows.</span></span> <span data-ttu-id="a65b2-232">這可讓您針對欄位未直接對應至資料表資料行的資料檔來自訂格式檔案。</span><span class="sxs-lookup"><span data-stu-id="a65b2-232">This lets you customize a format file to a data file whose fields do not map directly to the table columns.</span></span> <span data-ttu-id="a65b2-233">如需詳細資訊，請參閱下列主題：</span><span class="sxs-lookup"><span data-stu-id="a65b2-233">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="a65b2-234">使用格式檔案略過資料表資料行 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a65b2-234">Use a Format File to Skip a Table Column &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-table-column-sql-server.md)  
  
-   [<span data-ttu-id="a65b2-235">使用格式檔案略過資料欄位 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a65b2-235">Use a Format File to Skip a Data Field &#40;SQL Server&#41;</span></span>](use-a-format-file-to-skip-a-data-field-sql-server.md)  
  
-   [<span data-ttu-id="a65b2-236">使用格式檔案將資料表資料行對應至資料檔案欄位 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a65b2-236">Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;</span></span>](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md)  
  
## <a name="see-also"></a><span data-ttu-id="a65b2-237">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a65b2-237">See Also</span></span>  
 <span data-ttu-id="a65b2-238">[bcp 公用程式](../../tools/bcp-utility.md) </span><span class="sxs-lookup"><span data-stu-id="a65b2-238">[bcp Utility](../../tools/bcp-utility.md) </span></span>  
 <span data-ttu-id="a65b2-239">[使用格式檔案將資料表資料行對應至資料檔案欄位 &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a65b2-239">[Use a Format File to Map Table Columns to Data-File Fields &#40;SQL Server&#41;](use-a-format-file-to-map-table-columns-to-data-file-fields-sql-server.md) </span></span>  
 <span data-ttu-id="a65b2-240">[使用格式檔案略過資料表資料行 &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a65b2-240">[Use a Format File to Skip a Table Column &#40;SQL Server&#41;](use-a-format-file-to-skip-a-table-column-sql-server.md) </span></span>  
 <span data-ttu-id="a65b2-241">[使用格式檔案略過資料欄位 &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a65b2-241">[Use a Format File to Skip a Data Field &#40;SQL Server&#41;](use-a-format-file-to-skip-a-data-field-sql-server.md) </span></span>  
 <span data-ttu-id="a65b2-242">[非 XML 格式檔案 &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="a65b2-242">[Non-XML Format Files &#40;SQL Server&#41;](xml-format-files-sql-server.md) </span></span>  
 [<span data-ttu-id="a65b2-243">XML 格式檔案 &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="a65b2-243">XML Format Files &#40;SQL Server&#41;</span></span>](xml-format-files-sql-server.md)  
  
  
