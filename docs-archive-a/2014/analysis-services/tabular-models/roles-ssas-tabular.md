---
title: " (SSAS 表格式) 的角色 |Microsoft Docs"
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e547382a-c064-4bc6-818c-5127890af334
author: minewiskan
ms.author: owend
ms.openlocfilehash: 0293bf6d9ac4ee71df34ece92672311ca9f90436
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686490"
---
# <a name="roles-ssas-tabular"></a><span data-ttu-id="7a7ce-102">角色 (SSAS 表格式)</span><span class="sxs-lookup"><span data-stu-id="7a7ce-102">Roles (SSAS Tabular)</span></span>
  <span data-ttu-id="7a7ce-103">表格式模型中的角色定義模型的成員權限。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-103">Roles, in tabular models, define member permissions for a model.</span></span> <span data-ttu-id="7a7ce-104">每個角色都包含成員 (依 Windows 使用者名稱或 Windows 群組列出) 和權限 (讀取、處理、系統管理員)。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-104">Each role contains members, by Windows username or by Windows group, and permissions (read, process, administrator).</span></span> <span data-ttu-id="7a7ce-105">角色的成員可以依角色權限所定義，對模型執行動作。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-105">Members of the role can perform actions on the model as defined by the role permission.</span></span> <span data-ttu-id="7a7ce-106">以讀取權限定義的角色也可以使用資料列層級篩選，在資料列層級提供額外的安全性。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-106">Roles defined with read permissions can also provide additional security at the row-level by using row-level filters.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="7a7ce-107">為了讓使用者可以使用報表或資料分析用戶端應用程式連接至已部署的模型，您必須至少建立一個具有「讀取」權限的角色，並讓這些使用者成為該角色的成員。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-107">In-order for users to connect to a deployed model by using a reporting or data analysis client application, you must create at least one role with at least Read permission to which those users are members.</span></span>  
  
 <span data-ttu-id="7a7ce-108">本主題中的資訊適用於使用 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]中的 [角色管理員] 對話方塊來定義角色的表格式模型作者。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-108">Information in this topic is meant for tabular model authors who define roles by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="7a7ce-109">在模型製作期間定義的角色會套用至模型工作空間資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-109">Roles defined during model authoring apply to the model workspace database.</span></span> <span data-ttu-id="7a7ce-110">部署模型資料庫之後，模型資料庫管理員即可使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]，來管理 (加入、編輯、刪除) 角色成員。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-110">After a model database has been deployed, model database administrators can manage (add, edit, delete) role members using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="7a7ce-111">若要了解如何在已部署的資料庫中管理角色成員，請參閱[表格式模型角色 &#40;SSAS 表格式&#41;](tabular-model-roles-ssas-tabular.md)。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-111">To learn about managing members of roles in a deployed database, see [Tabular Model Roles &#40;SSAS Tabular&#41;](tabular-model-roles-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="7a7ce-112">[表格式模型化 &#40;Adventure Works 教學課程&#41;](../tabular-modeling-adventure-works-tutorial.md) 包含如何使用此功能的其他資訊和課程。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-112">The [Tabular Modeling &#40;Adventure Works Tutorial&#41;](../tabular-modeling-adventure-works-tutorial.md) includes additional information and lessons on how to use this feature.</span></span>  
  
 <span data-ttu-id="7a7ce-113">本主題的章節：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-113">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="7a7ce-114">了解角色</span><span class="sxs-lookup"><span data-stu-id="7a7ce-114">Understanding Roles</span></span>](#bkmk_underst)  
  
-   [<span data-ttu-id="7a7ce-115">權限</span><span class="sxs-lookup"><span data-stu-id="7a7ce-115">Permissions</span></span>](#bkmk_permissions)  
  
-   [<span data-ttu-id="7a7ce-116">資料列篩選</span><span class="sxs-lookup"><span data-stu-id="7a7ce-116">Row Filters</span></span>](#bkmk_rowfliters)  
  
-   [<span data-ttu-id="7a7ce-117">測試角色</span><span class="sxs-lookup"><span data-stu-id="7a7ce-117">Testing Roles</span></span>](#bkmk_testroles)  
  
-   [<span data-ttu-id="7a7ce-118">相關工作</span><span class="sxs-lookup"><span data-stu-id="7a7ce-118">Related Tasks</span></span>](#bkmk_rt)  
  
##  <a name="understanding-roles"></a><a name="bkmk_underst"></a><span data-ttu-id="7a7ce-119">瞭解角色</span><span class="sxs-lookup"><span data-stu-id="7a7ce-119">Understanding Roles</span></span>  
 <span data-ttu-id="7a7ce-120">在中，會使用角色 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 來管理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 和資料的安全性。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-120">Roles are used in [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to manage security for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and data.</span></span> <span data-ttu-id="7a7ce-121">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]有兩種角色類型：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-121">There are two types of roles in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="7a7ce-122">伺服器角色，這是一種固定角色，提供對 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]執行個體的管理員存取權。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-122">The server role, a fixed role that provides administrator access to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="7a7ce-123">資料庫角色，這是模型作者和管理員所定義的角色，用來控制非管理員使用者對模型資料庫和資料的存取。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-123">Database roles, roles defined by model authors and administrators to control access to a model database and data for non-administrator users.</span></span>  
  
 <span data-ttu-id="7a7ce-124">針對表格式模型定義的角色就是資料庫角色。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-124">Roles defined for a tabular model are database roles.</span></span> <span data-ttu-id="7a7ce-125">換句話說，這些角色的成員是由 Windows 使用者或群組所組成，具有定義成員可對模型資料庫執行之動作的特定權限。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-125">That is, the roles contain members consisting of Windows users or groups that have specific permissions that define the action those members can take on the model database.</span></span> <span data-ttu-id="7a7ce-126">資料庫角色會建立為資料庫中的個別物件，而且只適用於該角色建立所在的資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-126">A database role is created as a separate object in the database, and applies only to the database in which that role is created.</span></span> <span data-ttu-id="7a7ce-127">預設具有工作空間資料庫伺服器之「系統管理員」權限的模型作者，可以將 Windows 使用者及/或 Windows 群組加入至角色；或者針對已部署的模型，由管理員加入。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-127">Windows users and/or Windows groups are included in the role by the model author, which, by default, has Administrator permissions on the workspace database server; for a deployed model, by an administrator.</span></span>  
  
 <span data-ttu-id="7a7ce-128">表格式模型中的角色可以進一步透過資料列篩選定義。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-128">Roles in tabular models can be further defined with row filters.</span></span> <span data-ttu-id="7a7ce-129">資料列篩選使用 DAX 運算式定義使用者可以查詢的資料表資料列，以及許多方向的任何相關資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-129">Row filters use DAX expressions to define the rows in a table, and any related rows in the many direction, that a user can query.</span></span> <span data-ttu-id="7a7ce-130">只有「讀取」及「讀取和處理」權限，才可以定義使用 DAX 運算式的資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-130">Row filters using DAX expressions can only be defined for the Read and Read and Process permissions.</span></span> <span data-ttu-id="7a7ce-131">如需詳細資訊，請參閱本主題稍後的 [資料列篩選](#bkmk_rowfliters) 。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-131">For more information, see [Row Filters](#bkmk_rowfliters) later in this topic.</span></span>  
  
 <span data-ttu-id="7a7ce-132">根據預設，當您建立新的表格式模型專案時，模型專案沒有任何角色。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-132">By default, when you create a new tabular model project, the model project does not have any roles.</span></span> <span data-ttu-id="7a7ce-133">您可以使用 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]中的 [角色管理員] 對話方塊來定義角色。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-133">Roles can be defined by using the Role Manager dialog box in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="7a7ce-134">在模型撰寫期間定義角色時，會將這些角色套用至模型工作空間資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-134">When roles are defined during model authoring, they are applied to the model workspace database.</span></span> <span data-ttu-id="7a7ce-135">部署模型時，會將相同的角色套用至已部署的模型。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-135">When the model is deployed, the same roles are applied to the deployed model.</span></span> <span data-ttu-id="7a7ce-136">部署模型之後，伺服器角色的成員 ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 管理員) 和資料庫管理員即可使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]，來管理與模型相關聯的角色及與每個角色相關聯的成員。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-136">After a model has been deployed, members of the server role ([!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Administrator) and database administrators can manage the roles associated with the model and the members associated with each role by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="7a7ce-137">針對在 DirectQuery 模式下設定之模型所定義的角色無法使用資料列篩選，但是會套用為每個角色定義的權限。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-137">Roles defined for a model configured for DirectQuery mode cannot use row filters, however, permissions defined for each role will apply.</span></span>  
  
##  <a name="permissions"></a><a name="bkmk_permissions"></a> <span data-ttu-id="7a7ce-138">權限</span><span class="sxs-lookup"><span data-stu-id="7a7ce-138">Permissions</span></span>  
 <span data-ttu-id="7a7ce-139">每一個角色都有一個已定義的資料庫權限 (但不包括「讀取和處理」結合權限)。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-139">Each role has a single defined database permission (except for the combined Read and Process permission).</span></span> <span data-ttu-id="7a7ce-140">新角色的預設權限為「無」。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-140">By default, a new role will have the None permission.</span></span> <span data-ttu-id="7a7ce-141">換句話說，成員一旦加入至具有「無」權限的角色後，除非授與其他權限，否則將無法修改資料庫、執行處理作業、查詢資料或查看資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-141">That is, once members are added to the role with the None permission, they cannot modify the database, run a process operation, query data, or see the database unless a different permission is granted.</span></span>  
  
 <span data-ttu-id="7a7ce-142">Windows 群組或使用者可以是任何數目角色的成員，且每個角色具有不同的權限。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-142">A Windows group or user can be a member of any number of roles, each role with a different permission.</span></span> <span data-ttu-id="7a7ce-143">當使用者是多個角色的成員時，針對每個角色定義的權限會累計。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-143">When a user is a member of multiple roles, the permissions defined for each role are cumulative.</span></span> <span data-ttu-id="7a7ce-144">例如，如果某位使用者是具有「讀取」權限之角色的成員，同時也是具有「無」權限之角色的成員，則該使用者將具有「讀取」權限。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-144">For example, if a user is a member of a role with the Read permission, and also a member of a role with None permission, that user will have Read permissions.</span></span>  
  
 <span data-ttu-id="7a7ce-145">每個角色可以定義下列其中一個權限：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-145">Each role can have one the following permissions defined:</span></span>  
  
|<span data-ttu-id="7a7ce-146">權限</span><span class="sxs-lookup"><span data-stu-id="7a7ce-146">Permissions</span></span>|<span data-ttu-id="7a7ce-147">描述</span><span class="sxs-lookup"><span data-stu-id="7a7ce-147">Description</span></span>|<span data-ttu-id="7a7ce-148">使用 DAX 的資料列篩選</span><span class="sxs-lookup"><span data-stu-id="7a7ce-148">Row  filters using DAX</span></span>|  
|-----------------|-----------------|----------------------------|  
|<span data-ttu-id="7a7ce-149">無</span><span class="sxs-lookup"><span data-stu-id="7a7ce-149">None</span></span>|<span data-ttu-id="7a7ce-150">成員無法對模型資料庫結構描述進行任何修改，也無法查詢資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-150">Members cannot make any modifications to the model database schema and cannot query data.</span></span>|<span data-ttu-id="7a7ce-151">不會套用資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-151">Row filters do not apply.</span></span> <span data-ttu-id="7a7ce-152">此角色的使用者看不到任何資料</span><span class="sxs-lookup"><span data-stu-id="7a7ce-152">No data is visible to users in this role</span></span>|  
|<span data-ttu-id="7a7ce-153">讀取</span><span class="sxs-lookup"><span data-stu-id="7a7ce-153">Read</span></span>|<span data-ttu-id="7a7ce-154">允許成員查詢資料 (根據資料列篩選)，但是無法在 SSMS 中看到模型資料庫，也無法對模型資料庫結構描述做任何變更，使用者也無法處理模型。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-154">Members are allowed to query data (based on row filters) but cannot see the model database in SSMS, cannot make any changes to the model database schema, and the user cannot process the model.</span></span>|<span data-ttu-id="7a7ce-155">可套用資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-155">Row filters can be applied.</span></span> <span data-ttu-id="7a7ce-156">使用者只能看到資料列篩選 DAX 公式中指定的資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-156">Only data specified in the row filter DAX formula is visible to users.</span></span>|  
|<span data-ttu-id="7a7ce-157">讀取和處理</span><span class="sxs-lookup"><span data-stu-id="7a7ce-157">Read and Process</span></span>|<span data-ttu-id="7a7ce-158">成員可以查詢資料 (根據資料列層級篩選)，並透過執行指令碼或包含處理命令的封裝來執行處理作業，但無法對資料庫進行任何變更。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-158">Members are allowed to query data (based on row-level filters) and run process operations by running a script or package that contains a process command, but cannot make any changes to the database.</span></span> <span data-ttu-id="7a7ce-159">無法在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中檢視模型資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-159">Cannot view the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="7a7ce-160">可套用資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-160">Row filters can be applied.</span></span> <span data-ttu-id="7a7ce-161">只能查詢資料列篩選 DAX 公式中指定的資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-161">Only data specified in the row filter DAX formula can be queried.</span></span>|  
|<span data-ttu-id="7a7ce-162">Process</span><span class="sxs-lookup"><span data-stu-id="7a7ce-162">Process</span></span>|<span data-ttu-id="7a7ce-163">成員可以透過執行指令碼或包含處理命令的封裝來執行處理作業。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-163">Members can run process operations by running a script or package that contains a process command.</span></span> <span data-ttu-id="7a7ce-164">無法修改模型資料庫結構描述。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-164">Cannot modify the model database schema.</span></span> <span data-ttu-id="7a7ce-165">無法查詢資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-165">Cannot query data.</span></span> <span data-ttu-id="7a7ce-166">無法在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中查詢模型資料庫。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-166">Cannot query the model database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="7a7ce-167">不會套用資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-167">Row filters do not apply.</span></span> <span data-ttu-id="7a7ce-168">無法查詢此角色中的任何資料</span><span class="sxs-lookup"><span data-stu-id="7a7ce-168">No data can be queried in this role</span></span>|  
|<span data-ttu-id="7a7ce-169">系統管理員</span><span class="sxs-lookup"><span data-stu-id="7a7ce-169">Administrator</span></span>|<span data-ttu-id="7a7ce-170">成員可以對模型結構描述進行修改，也可以在模型設計師、報表用戶端及 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中查詢所有資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-170">Members can make modifications to the model schema and can query all data in the model designer, reporting client, and [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>|<span data-ttu-id="7a7ce-171">不會套用資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-171">Row filters do not apply.</span></span> <span data-ttu-id="7a7ce-172">可以查詢此角色中的所有資料。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-172">All data can be queried in this role.</span></span>|  
  
##  <a name="row-filters"></a><a name="bkmk_rowfliters"></a><span data-ttu-id="7a7ce-173">資料列篩選</span><span class="sxs-lookup"><span data-stu-id="7a7ce-173">Row Filters</span></span>  
 <span data-ttu-id="7a7ce-174">資料列篩選條件定義特定角色的成員可以查詢資料表中的哪些資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-174">Row filters define which rows in a table can be queried by members of a particular role.</span></span> <span data-ttu-id="7a7ce-175">您可以使用 DAX 公式，為模型中的每個資料表定義資料列篩選。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-175">Row filters are defined for each table in a model by using DAX formulas.</span></span>  
  
 <span data-ttu-id="7a7ce-176">只能針對具有「讀取」和「讀取和處理」權限的角色定義資料列篩選條件。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-176">Row filters can be defined only for roles with Read and Read and Process permissions.</span></span> <span data-ttu-id="7a7ce-177">根據預設，如果特定資料表未定義資料列篩選，除非從其他資料表套用交叉篩選，否則具有「讀取」或「讀取和處理」權限的角色成員將可以查詢資料表中的所有資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-177">By default, if a row filter is not defined for a particular table, members of a role that has Read or Read and Process permission can query all rows in the table unless cross-filtering applies from another table.</span></span>  
  
 <span data-ttu-id="7a7ce-178">定義特定資料表的資料列篩選之後，必須評估為 TRUE/FALSE 值的 DAX 公式即會定義該特定角色成員可以查詢的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-178">Once a row filter is defined for a particular table, a DAX formula, which must evaluate to a TRUE/FALSE value, defines the rows that can be queried by members of that particular role.</span></span> <span data-ttu-id="7a7ce-179">無法查詢 DAX 公式中未包含的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-179">Rows not included in the DAX formula will cannot be queried.</span></span> <span data-ttu-id="7a7ce-180">例如，對於 Sales 角色的成員，具有下列資料列篩選運算式的 Customers 資料表 *= customers [Country] = "USA"*，銷售角色的成員將只能看到美國的客戶。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-180">For example, for members of the Sales role, the Customers table with the following row filters expression, *=Customers [Country] = "USA"*, members of the Sales role, will only be able to see customers in the USA.</span></span>  
  
 <span data-ttu-id="7a7ce-181">資料列篩選會套用至指定的資料列及相關的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-181">Row filters apply to the specified rows as well as related rows.</span></span> <span data-ttu-id="7a7ce-182">當資料表具有多個關聯性時，篩選會對作用中關聯性套用安全性。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-182">When a table has multiple relationships, filters apply security for the relationship that is active.</span></span> <span data-ttu-id="7a7ce-183">資料列篩選會與針對相關資料表定義的其他資料列篩選進行交叉篩選，例如：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-183">Row filters will be intersected with other row filers defined for related tables, for example:</span></span>  
  
|<span data-ttu-id="7a7ce-184">資料表</span><span class="sxs-lookup"><span data-stu-id="7a7ce-184">Table</span></span>|<span data-ttu-id="7a7ce-185">DAX 運算式</span><span class="sxs-lookup"><span data-stu-id="7a7ce-185">DAX expression</span></span>|  
|-----------|--------------------|  
|<span data-ttu-id="7a7ce-186">區域</span><span class="sxs-lookup"><span data-stu-id="7a7ce-186">Region</span></span>|<span data-ttu-id="7a7ce-187">=Region[Country]="USA"</span><span class="sxs-lookup"><span data-stu-id="7a7ce-187">=Region[Country]="USA"</span></span>|  
|<span data-ttu-id="7a7ce-188">ProductCategory</span><span class="sxs-lookup"><span data-stu-id="7a7ce-188">ProductCategory</span></span>|<span data-ttu-id="7a7ce-189">=ProductCategory[Name]="Bicycles"</span><span class="sxs-lookup"><span data-stu-id="7a7ce-189">=ProductCategory[Name]="Bicycles"</span></span>|  
|<span data-ttu-id="7a7ce-190">異動</span><span class="sxs-lookup"><span data-stu-id="7a7ce-190">Transactions</span></span>|<span data-ttu-id="7a7ce-191">=Transactions[Year]=2008</span><span class="sxs-lookup"><span data-stu-id="7a7ce-191">=Transactions[Year]=2008</span></span>|  
  
 <span data-ttu-id="7a7ce-192">對 Transactions 資料表套用這些權限的結果如下：成員可以查詢美國客戶、自行車產品類別目錄及 2008 年的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-192">The net effect of these permissions on the Transactions table is that members will be allowed to query rows of data where the customer is in the USA, and the product category is bicycles, and the year is 2008.</span></span> <span data-ttu-id="7a7ce-193">使用者將無法查詢美國以外地區、非自行車及非 2008 年的任何交易，除非成為授與這些權限的其他角色成員。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-193">Users would not be able to query any transactions outside of the USA, or any transactions that are not bicycles, or any transactions not in 2008 unless they are a member of another role that grants these permissions.</span></span>  
  
 <span data-ttu-id="7a7ce-194">您可以使用 =FALSE()\*\* 篩選條件，拒絕存取整個資料表的所有資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-194">You can use the filter, *=FALSE()*, to deny access to all rows for an entire table.</span></span>  
  
### <a name="dynamic-security"></a><span data-ttu-id="7a7ce-195">動態安全性</span><span class="sxs-lookup"><span data-stu-id="7a7ce-195">Dynamic Security</span></span>  
 <span data-ttu-id="7a7ce-196">動態安全性可根據下列項目來定義資料列層級安全性：目前登入使用者的使用者名稱或從連接字串所傳回的 CustomData 屬性。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-196">Dynamic security provides a way to define row level security based on the user name of the user currently logged on or the CustomData property returned from a connection string.</span></span> <span data-ttu-id="7a7ce-197">若要實作動態安全性，您必須在模型中加入包含使用者登入 (Windows 使用者名稱) 值以及可用來定義特定權限之欄位的資料表，例如具有登入 ID (domain\username) 以及每個員工部門值的 dimEmployees 資料表。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-197">In order to implement dynamic security, you must include in your model a table with login (Windows user name) values for users as well as a field that can be used to define a particular permission; for example, a dimEmployees table with a login ID (domain\username) as well as a department value for each employee.</span></span>  
  
 <span data-ttu-id="7a7ce-198">若要實現動態安全性，您可以使用以下函數做為 DAX 公式的一部分，來傳回目前登入使用者的使用者名稱，或傳回連接字串中的 CustomData 屬性：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-198">To implement dynamic security, you can use the following functions as part of a DAX formula to return the user name of the user currently logged on, or the CustomData property in a connection string:</span></span>  
  
|<span data-ttu-id="7a7ce-199">函式</span><span class="sxs-lookup"><span data-stu-id="7a7ce-199">Function</span></span>|<span data-ttu-id="7a7ce-200">描述</span><span class="sxs-lookup"><span data-stu-id="7a7ce-200">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="7a7ce-201">USERNAME 函數 &#40;DAX&#41;</span><span class="sxs-lookup"><span data-stu-id="7a7ce-201">USERNAME Function &#40;DAX&#41;</span></span>](/dax/username-function-dax)|<span data-ttu-id="7a7ce-202">傳回目前登入使用者的 domain\username。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-202">Returns the domain\ username of the user currently logged on.</span></span>|  
|[<span data-ttu-id="7a7ce-203">&#40;DAX&#41;的 CUSTOMDATA 函數</span><span class="sxs-lookup"><span data-stu-id="7a7ce-203">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)|<span data-ttu-id="7a7ce-204">傳回連接字串中的 CustomData 屬性。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-204">Returns the CustomData property in a connection string.</span></span>|  
  
 <span data-ttu-id="7a7ce-205">您可以使用 LOOKUPVALUE 函數傳回資料行值，其中 Windows 使用者名稱與 USERNAME 函數傳回的使用者名稱或 CustomData 函數傳回的字串相同。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-205">You can use the LOOKUPVALUE function to return values for a column in which the Windows user name is the same as the user name returned by the USERNAME function or a string returned by the CustomData function.</span></span> <span data-ttu-id="7a7ce-206">然後，可以限制查詢，其中 LOOKUPVALUE 所傳回的值會符合相同或相關資料表中的值。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-206">Queries can then be restricted where the values returned by LOOKUPVALUE match values in the same or related table.</span></span>  
  
 <span data-ttu-id="7a7ce-207">例如，使用以下公式：</span><span class="sxs-lookup"><span data-stu-id="7a7ce-207">For example, using this formula:</span></span>  
  
 `='dimDepartmentGroup'[DepartmentGroupId]=LOOKUPVALUE('dimEmployees'[DepartmentGroupId], 'dimEmployees'[LoginId], USERNAME(), 'dimEmployees'[LoginId], 'dimDepartmentGroup'[DepartmentGroupId])`  
  
 <span data-ttu-id="7a7ce-208">LOOKUPVALUE 函數會傳回 dimEmployees[LoginId] 與 USERNAME 所傳回目前登入使用者的 LoginID 相同，而且 dimEmployees[DepartmentId] 值與 dimDepartmentGroup[DepartmentId] 值相同的 dimEmployees[DepartmentId] 資料行值。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-208">The LOOKUPVALUE function returns values for the dimEmployees[DepartmentId] column where the dimEmployees[LoginId] is the same as the LoginID of the user currently logged on, returned by USERNAME, and values for dimEmployees[DepartmentId] are the same as values for dimDepartmentGroup[DepartmentId].</span></span> <span data-ttu-id="7a7ce-209">然後，使用 LOOKUPVALUE 所傳回的 DepartmentId 值，來限制 dimDepartment 資料表和依 DepartmentId 相關的任何資料表中查詢的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-209">The values in DepartmentId returned by LOOKUPVALUE are then used to restrict the rows queried in the dimDepartment table, and any tables related by DepartmentId.</span></span> <span data-ttu-id="7a7ce-210">只傳回 DepartmentId 值也是 LOOKUPVALUE 函數所傳回 DepartmentId 值的資料列。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-210">Only rows where DepartmentId are also in the values for the DepartmentId returned by LOOKUPVALUE function are returned.</span></span>  
  
 <span data-ttu-id="7a7ce-211">**dimEmployees**</span><span class="sxs-lookup"><span data-stu-id="7a7ce-211">**dimEmployees**</span></span>  
  
|<span data-ttu-id="7a7ce-212">姓氏</span><span class="sxs-lookup"><span data-stu-id="7a7ce-212">LastName</span></span>|<span data-ttu-id="7a7ce-213">名字</span><span class="sxs-lookup"><span data-stu-id="7a7ce-213">FirstName</span></span>|<span data-ttu-id="7a7ce-214">LoginID</span><span class="sxs-lookup"><span data-stu-id="7a7ce-214">LoginID</span></span>|<span data-ttu-id="7a7ce-215">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="7a7ce-215">DepartmentName</span></span>|<span data-ttu-id="7a7ce-216">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="7a7ce-216">DepartmentId</span></span>|  
|--------------|---------------|-------------|--------------------|------------------|  
|<span data-ttu-id="7a7ce-217">Brown</span><span class="sxs-lookup"><span data-stu-id="7a7ce-217">Brown</span></span>|<span data-ttu-id="7a7ce-218">Kevin</span><span class="sxs-lookup"><span data-stu-id="7a7ce-218">Kevin</span></span>|<span data-ttu-id="7a7ce-219">Adventure-works\kevin0</span><span class="sxs-lookup"><span data-stu-id="7a7ce-219">Adventure-works\kevin0</span></span>|<span data-ttu-id="7a7ce-220">Marketing</span><span class="sxs-lookup"><span data-stu-id="7a7ce-220">Marketing</span></span>|<span data-ttu-id="7a7ce-221">7</span><span class="sxs-lookup"><span data-stu-id="7a7ce-221">7</span></span>|  
|<span data-ttu-id="7a7ce-222">Bradley</span><span class="sxs-lookup"><span data-stu-id="7a7ce-222">Bradley</span></span>|<span data-ttu-id="7a7ce-223">David</span><span class="sxs-lookup"><span data-stu-id="7a7ce-223">David</span></span>|<span data-ttu-id="7a7ce-224">Adventure-works\david0</span><span class="sxs-lookup"><span data-stu-id="7a7ce-224">Adventure-works\david0</span></span>|<span data-ttu-id="7a7ce-225">Marketing</span><span class="sxs-lookup"><span data-stu-id="7a7ce-225">Marketing</span></span>|<span data-ttu-id="7a7ce-226">7</span><span class="sxs-lookup"><span data-stu-id="7a7ce-226">7</span></span>|  
|<span data-ttu-id="7a7ce-227">Dobney</span><span class="sxs-lookup"><span data-stu-id="7a7ce-227">Dobney</span></span>|<span data-ttu-id="7a7ce-228">JoLynn</span><span class="sxs-lookup"><span data-stu-id="7a7ce-228">JoLynn</span></span>|<span data-ttu-id="7a7ce-229">Adventure-works\JoLynn0</span><span class="sxs-lookup"><span data-stu-id="7a7ce-229">Adventure-works\JoLynn0</span></span>|<span data-ttu-id="7a7ce-230">生產</span><span class="sxs-lookup"><span data-stu-id="7a7ce-230">Production</span></span>|<span data-ttu-id="7a7ce-231">4</span><span class="sxs-lookup"><span data-stu-id="7a7ce-231">4</span></span>|  
|<span data-ttu-id="7a7ce-232">Baretto DeMattos</span><span class="sxs-lookup"><span data-stu-id="7a7ce-232">Baretto DeMattos</span></span>|<span data-ttu-id="7a7ce-233">Paula</span><span class="sxs-lookup"><span data-stu-id="7a7ce-233">Paula</span></span>|<span data-ttu-id="7a7ce-234">Adventure-works\Paula0</span><span class="sxs-lookup"><span data-stu-id="7a7ce-234">Adventure-works\Paula0</span></span>|<span data-ttu-id="7a7ce-235">Human Resources</span><span class="sxs-lookup"><span data-stu-id="7a7ce-235">Human Resources</span></span>|<span data-ttu-id="7a7ce-236">2</span><span class="sxs-lookup"><span data-stu-id="7a7ce-236">2</span></span>|  
  
 <span data-ttu-id="7a7ce-237">**dimDepartment**</span><span class="sxs-lookup"><span data-stu-id="7a7ce-237">**dimDepartment**</span></span>  
  
|<span data-ttu-id="7a7ce-238">DepartmentId</span><span class="sxs-lookup"><span data-stu-id="7a7ce-238">DepartmentId</span></span>|<span data-ttu-id="7a7ce-239">DepartmentName</span><span class="sxs-lookup"><span data-stu-id="7a7ce-239">DepartmentName</span></span>|  
|------------------|--------------------|  
|<span data-ttu-id="7a7ce-240">1</span><span class="sxs-lookup"><span data-stu-id="7a7ce-240">1</span></span>|<span data-ttu-id="7a7ce-241">公司</span><span class="sxs-lookup"><span data-stu-id="7a7ce-241">Corporate</span></span>|  
|<span data-ttu-id="7a7ce-242">2</span><span class="sxs-lookup"><span data-stu-id="7a7ce-242">2</span></span>|<span data-ttu-id="7a7ce-243">Executive General and Administration</span><span class="sxs-lookup"><span data-stu-id="7a7ce-243">Executive General and Administration</span></span>|  
|<span data-ttu-id="7a7ce-244">3</span><span class="sxs-lookup"><span data-stu-id="7a7ce-244">3</span></span>|<span data-ttu-id="7a7ce-245">Inventory Management</span><span class="sxs-lookup"><span data-stu-id="7a7ce-245">Inventory Management</span></span>|  
|<span data-ttu-id="7a7ce-246">4</span><span class="sxs-lookup"><span data-stu-id="7a7ce-246">4</span></span>|<span data-ttu-id="7a7ce-247">製造業</span><span class="sxs-lookup"><span data-stu-id="7a7ce-247">Manufacturing</span></span>|  
|<span data-ttu-id="7a7ce-248">5</span><span class="sxs-lookup"><span data-stu-id="7a7ce-248">5</span></span>|<span data-ttu-id="7a7ce-249">品質保證</span><span class="sxs-lookup"><span data-stu-id="7a7ce-249">Quality Assurance</span></span>|  
|<span data-ttu-id="7a7ce-250">6</span><span class="sxs-lookup"><span data-stu-id="7a7ce-250">6</span></span>|<span data-ttu-id="7a7ce-251">研究與開發</span><span class="sxs-lookup"><span data-stu-id="7a7ce-251">Research and Development</span></span>|  
|<span data-ttu-id="7a7ce-252">7</span><span class="sxs-lookup"><span data-stu-id="7a7ce-252">7</span></span>|<span data-ttu-id="7a7ce-253">銷售與行銷</span><span class="sxs-lookup"><span data-stu-id="7a7ce-253">Sales and Marketing</span></span>|  
  
##  <a name="testing-roles"></a><a name="bkmk_testroles"></a><span data-ttu-id="7a7ce-254">測試角色</span><span class="sxs-lookup"><span data-stu-id="7a7ce-254">Testing Roles</span></span>  
 <span data-ttu-id="7a7ce-255">在撰寫模型專案時，您可以使用 [在 Excel 中進行分析] 功能，測試所定義之角色的效用。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-255">When authoring a model project, you can use the Analyze in Excel feature to test the efficacy of the roles you have defined.</span></span> <span data-ttu-id="7a7ce-256">請從模型設計師中的 **[模型]** 功能表，按一下 **[在 Excel 中進行分析]**， **[選擇認證和檢視方塊]** 對話方塊即會在 Excel 開啟前出現。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-256">From the **Model** menu in the model designer, when you click **Analyze in Excel**, before Excel opens, the **Choose Credentials and Perspective** dialog box appears.</span></span> <span data-ttu-id="7a7ce-257">在這個對話方塊中，您可指定目前的使用者名稱、其他使用者名稱、角色，以及您想用來連接至做為資料來源之工作空間模型的檢視方塊。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-257">In this dialog, you can specify the current username, a different username, a role, and a perspective with which you will use to connect to the workspace model as a data source.</span></span> <span data-ttu-id="7a7ce-258">如需詳細資訊，請參閱本主題稍後的 [在 Excel 中進行分析 &#40;SSAS 表格式&#41;](analyze-in-excel-ssas-tabular.md)中的 [角色管理員] 對話方塊來定義角色的表格式模型作者。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-258">For more information, see [Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_rt"></a> <span data-ttu-id="7a7ce-259">相關工作</span><span class="sxs-lookup"><span data-stu-id="7a7ce-259">Related Tasks</span></span>  
  
|<span data-ttu-id="7a7ce-260">主題</span><span class="sxs-lookup"><span data-stu-id="7a7ce-260">Topic</span></span>|<span data-ttu-id="7a7ce-261">描述</span><span class="sxs-lookup"><span data-stu-id="7a7ce-261">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="7a7ce-262">建立及管理角色 &#40;SSAS 表格式&#41;</span><span class="sxs-lookup"><span data-stu-id="7a7ce-262">Create and Manage Roles &#40;SSAS Tabular&#41;</span></span>](create-and-manage-roles-ssas-tabular.md)|<span data-ttu-id="7a7ce-263">此主題中的工作描述如何使用 [角色管理員]\*\*\*\* 對話方塊來建立及管理角色。</span><span class="sxs-lookup"><span data-stu-id="7a7ce-263">Tasks in this topic describe how to create and manage roles by using the **Role Manager** dialog box.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="7a7ce-264">另請參閱</span><span class="sxs-lookup"><span data-stu-id="7a7ce-264">See Also</span></span>  
 <span data-ttu-id="7a7ce-265">[SSAS 表格式 &#40;的觀點&#41;](perspectives-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="7a7ce-265">[Perspectives &#40;SSAS Tabular&#41;](perspectives-ssas-tabular.md) </span></span>  
 <span data-ttu-id="7a7ce-266">[在 Excel 中分析 &#40;SSAS 表格式&#41;](analyze-in-excel-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="7a7ce-266">[Analyze in Excel &#40;SSAS Tabular&#41;](analyze-in-excel-ssas-tabular.md) </span></span>  
 <span data-ttu-id="7a7ce-267">[USERNAME 函數 &#40;DAX&#41;](/dax/username-function-dax) </span><span class="sxs-lookup"><span data-stu-id="7a7ce-267">[USERNAME Function &#40;DAX&#41;](/dax/username-function-dax) </span></span>  
 <span data-ttu-id="7a7ce-268">[&#40;DAX&#41;的 LOOKUPVALUE 函數](/dax/lookupvalue-function-dax) </span><span class="sxs-lookup"><span data-stu-id="7a7ce-268">[LOOKUPVALUE Function &#40;DAX&#41;](/dax/lookupvalue-function-dax) </span></span>  
 [<span data-ttu-id="7a7ce-269">&#40;DAX&#41;的 CUSTOMDATA 函數</span><span class="sxs-lookup"><span data-stu-id="7a7ce-269">CUSTOMDATA Function &#40;DAX&#41;</span></span>](/dax/customdata-function-dax)  
  
  
