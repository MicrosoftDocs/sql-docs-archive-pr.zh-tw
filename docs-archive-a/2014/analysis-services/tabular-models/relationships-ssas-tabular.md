---
title: SSAS 表格式) 的關聯性 (|Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 21e0144a-3cfd-4bc7-87ff-bb7d1800ed2f
author: minewiskan
ms.author: owend
ms.openlocfilehash: eac90102e4595bf19cbeb7eefc22e975ecf53610
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87706790"
---
# <a name="relationships-ssas-tabular"></a><span data-ttu-id="25cf7-102">關聯性 (SSAS 表格式)</span><span class="sxs-lookup"><span data-stu-id="25cf7-102">Relationships (SSAS Tabular)</span></span>
  <span data-ttu-id="25cf7-103">在表格式模型中，關聯性是指兩個資料表之間的連接。</span><span class="sxs-lookup"><span data-stu-id="25cf7-103">In tabular models, a relationship is a connection between two tables of data.</span></span> <span data-ttu-id="25cf7-104">關聯性會建立兩個資料表中的資料相互關聯的方式。</span><span class="sxs-lookup"><span data-stu-id="25cf7-104">The relationship establishes how the data in the two tables should be correlated.</span></span> <span data-ttu-id="25cf7-105">例如，Customers 資料表和 Orders 資料表可以產生關聯，以便顯示彼此有關聯性的客戶名稱。</span><span class="sxs-lookup"><span data-stu-id="25cf7-105">For example, a Customers table and an Orders table can be related in order to show the customer name that is associated with each order.</span></span>  
  
 <span data-ttu-id="25cf7-106">當使用 [資料表匯入精靈] 從相同資料來源匯入時，您選擇要匯入之資料表 (位於資料來源) 中已存在的關聯性會在模型中重新建立。</span><span class="sxs-lookup"><span data-stu-id="25cf7-106">When using the Table Import Wizard to import from the same data source, relationships that already exist in tables (at the data source) that you choose to import will be re-created in the model.</span></span> <span data-ttu-id="25cf7-107">您可以使用 [圖表檢視] 中的模型設計師或使用 [管理關聯性] 對話方塊，檢視偵測到且自動重新建立的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-107">You can view relationships that were detected and re-created automatically by using the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="25cf7-108">您也可以使用 [圖表檢視] 中的模型設計師或使用 [建立關聯性] 或 [管理關聯性] 對話方塊，手動建立資料表之間的新關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-108">You can also create new relationships between tables manually by using the model designer in Diagram View or by using the Create Relationship or Manage Relationships dialog box.</span></span>  
  
 <span data-ttu-id="25cf7-109">在定義兩個資料表之間的關聯性 (無論是匯入期間自動建立或手動建立) 之後，便能夠使用相關資料行篩選資料以及在相關資料表中查閱值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-109">After relationships between tables have been defined, either automatically during import or created manually, you will be able to filter data by using related columns and look up values in related tables.</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="25cf7-110">如果您的模型包含許多關聯性，[圖表檢視] 可協助您更妥善地視覺化及建立資料表之間的新關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-110">If your model contains many relationships, Diagram View can better help you better visualize and create new relationships between tables.</span></span>  
  
 <span data-ttu-id="25cf7-111">本主題的章節：</span><span class="sxs-lookup"><span data-stu-id="25cf7-111">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="25cf7-112">優點</span><span class="sxs-lookup"><span data-stu-id="25cf7-112">Benefits</span></span>](#what)  
  
-   [<span data-ttu-id="25cf7-113">關聯性的需求</span><span class="sxs-lookup"><span data-stu-id="25cf7-113">Requirements for Relationships</span></span>](#requirements)  
  
-   [<span data-ttu-id="25cf7-114">關聯性的推斷</span><span class="sxs-lookup"><span data-stu-id="25cf7-114">Inference of Relationships</span></span>](#detection)  
  
-   [<span data-ttu-id="25cf7-115">在匯入資料時偵測關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-115">Detection of Relationships When Importing Data</span></span>](#bkmk_detection)  
  
-   [<span data-ttu-id="25cf7-116">手動建立關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-116">Manually Create Relationships</span></span>](#bkmk_manually_create)  
  
-   [<span data-ttu-id="25cf7-117">重複的值和其他錯誤</span><span class="sxs-lookup"><span data-stu-id="25cf7-117">Duplicate Values and Other Errors</span></span>](#bkmk_dupl_errors)  
  
-   [<span data-ttu-id="25cf7-118">相關工作</span><span class="sxs-lookup"><span data-stu-id="25cf7-118">Related Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits"></a><a name="what"></a> <span data-ttu-id="25cf7-119">優點</span><span class="sxs-lookup"><span data-stu-id="25cf7-119">Benefits</span></span>  
 <span data-ttu-id="25cf7-120">關聯性是在兩個資料表之間，以每個資料表中的一個或多個資料行為基礎的連接。</span><span class="sxs-lookup"><span data-stu-id="25cf7-120">A relationship is a connection between two tables of data, based on one or more columns in each table.</span></span> <span data-ttu-id="25cf7-121">若要了解為什麼關聯性是有用的，請假設您在追蹤自己商務中的客戶訂單資料。</span><span class="sxs-lookup"><span data-stu-id="25cf7-121">To see why relationships are useful, imagine that you track data for customer orders in your business.</span></span> <span data-ttu-id="25cf7-122">您可以在具有類似下列結構的單一資料表中追蹤所有資料：</span><span class="sxs-lookup"><span data-stu-id="25cf7-122">You could track all the data in a single table that has a structure like the following:</span></span>  
  
|<span data-ttu-id="25cf7-123">CustomerID</span><span class="sxs-lookup"><span data-stu-id="25cf7-123">CustomerID</span></span>|<span data-ttu-id="25cf7-124">名稱</span><span class="sxs-lookup"><span data-stu-id="25cf7-124">Name</span></span>|<span data-ttu-id="25cf7-125">EMail</span><span class="sxs-lookup"><span data-stu-id="25cf7-125">EMail</span></span>|<span data-ttu-id="25cf7-126">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="25cf7-126">DiscountRate</span></span>|<span data-ttu-id="25cf7-127">OrderID</span><span class="sxs-lookup"><span data-stu-id="25cf7-127">OrderID</span></span>|<span data-ttu-id="25cf7-128">OrderDate</span><span class="sxs-lookup"><span data-stu-id="25cf7-128">OrderDate</span></span>|<span data-ttu-id="25cf7-129">產品</span><span class="sxs-lookup"><span data-stu-id="25cf7-129">Product</span></span>|<span data-ttu-id="25cf7-130">數量</span><span class="sxs-lookup"><span data-stu-id="25cf7-130">Quantity</span></span>|  
|----------------|----------|-----------|------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="25cf7-131">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-131">1</span></span>|<span data-ttu-id="25cf7-132">Ashton</span><span class="sxs-lookup"><span data-stu-id="25cf7-132">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="25cf7-133">.05</span><span class="sxs-lookup"><span data-stu-id="25cf7-133">.05</span></span>|<span data-ttu-id="25cf7-134">256</span><span class="sxs-lookup"><span data-stu-id="25cf7-134">256</span></span>|<span data-ttu-id="25cf7-135">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="25cf7-135">2010-01-07</span></span>|<span data-ttu-id="25cf7-136">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="25cf7-136">Compact Digital</span></span>|<span data-ttu-id="25cf7-137">11</span><span class="sxs-lookup"><span data-stu-id="25cf7-137">11</span></span>|  
|<span data-ttu-id="25cf7-138">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-138">1</span></span>|<span data-ttu-id="25cf7-139">Ashton</span><span class="sxs-lookup"><span data-stu-id="25cf7-139">Ashton</span></span>|chris.ashton@contoso.com|<span data-ttu-id="25cf7-140">.05</span><span class="sxs-lookup"><span data-stu-id="25cf7-140">.05</span></span>|<span data-ttu-id="25cf7-141">255</span><span class="sxs-lookup"><span data-stu-id="25cf7-141">255</span></span>|<span data-ttu-id="25cf7-142">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="25cf7-142">2010-01-03</span></span>|<span data-ttu-id="25cf7-143">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="25cf7-143">SLR Camera</span></span>|<span data-ttu-id="25cf7-144">15</span><span class="sxs-lookup"><span data-stu-id="25cf7-144">15</span></span>|  
|<span data-ttu-id="25cf7-145">2</span><span class="sxs-lookup"><span data-stu-id="25cf7-145">2</span></span>|<span data-ttu-id="25cf7-146">Jaworski</span><span class="sxs-lookup"><span data-stu-id="25cf7-146">Jaworski</span></span>|michal.jaworski@contoso.com|<span data-ttu-id="25cf7-147">.10</span><span class="sxs-lookup"><span data-stu-id="25cf7-147">.10</span></span>|<span data-ttu-id="25cf7-148">254</span><span class="sxs-lookup"><span data-stu-id="25cf7-148">254</span></span>|<span data-ttu-id="25cf7-149">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="25cf7-149">2010-01-03</span></span>|<span data-ttu-id="25cf7-150">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="25cf7-150">Budget Movie-Maker</span></span>|<span data-ttu-id="25cf7-151">27</span><span class="sxs-lookup"><span data-stu-id="25cf7-151">27</span></span>|  
  
 <span data-ttu-id="25cf7-152">這種方法可能有效，但牽涉到儲存太多重複的資料，例如每筆訂單的客戶電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="25cf7-152">This approach can work, but it involves storing a lot of redundant data, such as the customer e-mail address for every order.</span></span> <span data-ttu-id="25cf7-153">儲存雖然廉價，但是如果電子郵件地址變更，您就需要確定更新該客戶的每個資料列。</span><span class="sxs-lookup"><span data-stu-id="25cf7-153">Storage is cheap, but you have to make sure you update every row for that customer if the e-mail address changes.</span></span> <span data-ttu-id="25cf7-154">此問題的一種解決方案，就是將資料分為多個資料表，並且定義這些資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-154">One solution to this problem is to split the data into multiple tables and define relationships between those tables.</span></span> <span data-ttu-id="25cf7-155">這正是在 *這類* 「關聯式資料庫」 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)](Relational databases) 中使用的方法。</span><span class="sxs-lookup"><span data-stu-id="25cf7-155">This is the approach used in *relational databases* like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="25cf7-156">例如，您匯入模型的資料庫可能會使用三個相關的資料表來表示訂單資料：</span><span class="sxs-lookup"><span data-stu-id="25cf7-156">For example, a database that you import into a model might represent order data by using three related tables:</span></span>  
  
### <a name="customers"></a><span data-ttu-id="25cf7-157">客戶</span><span class="sxs-lookup"><span data-stu-id="25cf7-157">Customers</span></span>  
  
|<span data-ttu-id="25cf7-158">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="25cf7-158">[CustomerID]</span></span>|<span data-ttu-id="25cf7-159">名稱</span><span class="sxs-lookup"><span data-stu-id="25cf7-159">Name</span></span>|<span data-ttu-id="25cf7-160">電子郵件</span><span class="sxs-lookup"><span data-stu-id="25cf7-160">Email</span></span>|  
|--------------------|----------|-----------|  
|<span data-ttu-id="25cf7-161">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-161">1</span></span>|<span data-ttu-id="25cf7-162">Ashton</span><span class="sxs-lookup"><span data-stu-id="25cf7-162">Ashton</span></span>|chris.ashton@contoso.com|  
|<span data-ttu-id="25cf7-163">2</span><span class="sxs-lookup"><span data-stu-id="25cf7-163">2</span></span>|<span data-ttu-id="25cf7-164">Jaworski</span><span class="sxs-lookup"><span data-stu-id="25cf7-164">Jaworski</span></span>|michal.jaworski@contoso.com|  
  
### <a name="customerdiscounts"></a><span data-ttu-id="25cf7-165">CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="25cf7-165">CustomerDiscounts</span></span>  
  
|<span data-ttu-id="25cf7-166">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="25cf7-166">[CustomerID]</span></span>|<span data-ttu-id="25cf7-167">DiscountRate</span><span class="sxs-lookup"><span data-stu-id="25cf7-167">DiscountRate</span></span>|  
|--------------------|------------------|  
|<span data-ttu-id="25cf7-168">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-168">1</span></span>|<span data-ttu-id="25cf7-169">.05</span><span class="sxs-lookup"><span data-stu-id="25cf7-169">.05</span></span>|  
|<span data-ttu-id="25cf7-170">2</span><span class="sxs-lookup"><span data-stu-id="25cf7-170">2</span></span>|<span data-ttu-id="25cf7-171">.10</span><span class="sxs-lookup"><span data-stu-id="25cf7-171">.10</span></span>|  
  
### <a name="orders"></a><span data-ttu-id="25cf7-172">訂單</span><span class="sxs-lookup"><span data-stu-id="25cf7-172">Orders</span></span>  
  
|<span data-ttu-id="25cf7-173">[CustomerID]</span><span class="sxs-lookup"><span data-stu-id="25cf7-173">[CustomerID]</span></span>|<span data-ttu-id="25cf7-174">OrderID</span><span class="sxs-lookup"><span data-stu-id="25cf7-174">OrderID</span></span>|<span data-ttu-id="25cf7-175">OrderDate</span><span class="sxs-lookup"><span data-stu-id="25cf7-175">OrderDate</span></span>|<span data-ttu-id="25cf7-176">產品</span><span class="sxs-lookup"><span data-stu-id="25cf7-176">Product</span></span>|<span data-ttu-id="25cf7-177">數量</span><span class="sxs-lookup"><span data-stu-id="25cf7-177">Quantity</span></span>|  
|--------------------|-------------|---------------|-------------|--------------|  
|<span data-ttu-id="25cf7-178">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-178">1</span></span>|<span data-ttu-id="25cf7-179">256</span><span class="sxs-lookup"><span data-stu-id="25cf7-179">256</span></span>|<span data-ttu-id="25cf7-180">2010-01-07</span><span class="sxs-lookup"><span data-stu-id="25cf7-180">2010-01-07</span></span>|<span data-ttu-id="25cf7-181">Compact Digital</span><span class="sxs-lookup"><span data-stu-id="25cf7-181">Compact Digital</span></span>|<span data-ttu-id="25cf7-182">11</span><span class="sxs-lookup"><span data-stu-id="25cf7-182">11</span></span>|  
|<span data-ttu-id="25cf7-183">1</span><span class="sxs-lookup"><span data-stu-id="25cf7-183">1</span></span>|<span data-ttu-id="25cf7-184">255</span><span class="sxs-lookup"><span data-stu-id="25cf7-184">255</span></span>|<span data-ttu-id="25cf7-185">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="25cf7-185">2010-01-03</span></span>|<span data-ttu-id="25cf7-186">SLR Camera</span><span class="sxs-lookup"><span data-stu-id="25cf7-186">SLR Camera</span></span>|<span data-ttu-id="25cf7-187">15</span><span class="sxs-lookup"><span data-stu-id="25cf7-187">15</span></span>|  
|<span data-ttu-id="25cf7-188">2</span><span class="sxs-lookup"><span data-stu-id="25cf7-188">2</span></span>|<span data-ttu-id="25cf7-189">254</span><span class="sxs-lookup"><span data-stu-id="25cf7-189">254</span></span>|<span data-ttu-id="25cf7-190">2010-01-03</span><span class="sxs-lookup"><span data-stu-id="25cf7-190">2010-01-03</span></span>|<span data-ttu-id="25cf7-191">Budget Movie-Maker</span><span class="sxs-lookup"><span data-stu-id="25cf7-191">Budget Movie-Maker</span></span>|<span data-ttu-id="25cf7-192">27</span><span class="sxs-lookup"><span data-stu-id="25cf7-192">27</span></span>|  
  
 <span data-ttu-id="25cf7-193">如果從相同資料庫匯入這些資料表，[資料表匯入精靈] 即可根據 [方括號] 中的資料行來偵測資料表之間的關聯性，而且可以在模型設計師中重現這些關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-193">If you import these tables from the same database, the Table Import Wizard can detect the relationships between the tables based on the columns that are in [brackets], and can reproduce these relationships in the model designer.</span></span> <span data-ttu-id="25cf7-194">如需詳細資訊，請參閱本主題中的 [關聯性的自動偵測和推斷](#detection) 。</span><span class="sxs-lookup"><span data-stu-id="25cf7-194">For more information, see [Automatic Detection and Inference of Relationships](#detection) in this topic.</span></span> <span data-ttu-id="25cf7-195">如果從多個來源匯入資料表，則可依照 [建立兩個資料表之間的關聯性 &#40;SSAS 表格式&#41;](create-a-relationship-between-two-tables-ssas-tabular.md)(Relational databases) 中使用的方法。</span><span class="sxs-lookup"><span data-stu-id="25cf7-195">If you import tables from multiple sources, you can manually create relationships as described in [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
### <a name="columns-and-keys"></a><span data-ttu-id="25cf7-196">資料行與索引鍵</span><span class="sxs-lookup"><span data-stu-id="25cf7-196">Columns and Keys</span></span>  
 <span data-ttu-id="25cf7-197">關聯性是以包含相同資料的每個資料表中的資料行為基礎。</span><span class="sxs-lookup"><span data-stu-id="25cf7-197">Relationships are based on columns in each table that contain the same data.</span></span> <span data-ttu-id="25cf7-198">例如，「客戶」和「訂單」資料表可以彼此相關，因為兩者都包含儲存客戶 ID 的資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-198">For example, the Customers and Orders tables can be related to each other because they both contain a column that stores a customer ID.</span></span> <span data-ttu-id="25cf7-199">在此範例中，資料行名稱相同，但這點並不是需求。</span><span class="sxs-lookup"><span data-stu-id="25cf7-199">In the example, the column names are the same, but this is not a requirement.</span></span> <span data-ttu-id="25cf7-200">一個資料行可以是 CustomerID，另一個資料行則可是 CustomerNumber，只要「訂單」資料表中所有包含 ID 的資料列也都有儲存在「客戶」資料表中即可。</span><span class="sxs-lookup"><span data-stu-id="25cf7-200">One could be CustomerID and another CustomerNumber, as long as all of the rows in the Orders table contain an ID that is also stored in the Customers table.</span></span>  
  
 <span data-ttu-id="25cf7-201">在關聯式資料庫中，有幾種類型的 *「索引鍵」*(Key)，這些通常只是具有特殊屬性的資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-201">In a relational database, there are several types of *keys*, which are typically just columns with special properties.</span></span> <span data-ttu-id="25cf7-202">在關聯式資料庫中，可以使用下列四種類型的索引鍵：</span><span class="sxs-lookup"><span data-stu-id="25cf7-202">The following four types of keys can be used in relational databases:</span></span>  
  
-   <span data-ttu-id="25cf7-203">「主索引鍵」\*\*：可以唯一識別資料表中的資料列，例如 Customers 資料表中的 CustomerID。</span><span class="sxs-lookup"><span data-stu-id="25cf7-203">*Primary key*: uniquely identifies a row in a table, such as CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="25cf7-204">「其他索引鍵」**(又稱「候選索引鍵」**)：不同於主索引鍵的唯一資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-204">*Alternate key* (or *candidate key*): a column other than the primary key that is unique.</span></span> <span data-ttu-id="25cf7-205">例如，「員工」資料表可能儲存員工 ID 和社會保險號碼，兩者都是唯一的。</span><span class="sxs-lookup"><span data-stu-id="25cf7-205">For example, an Employees table might store an employee ID and a social security number, both of which are unique.</span></span>  
  
-   <span data-ttu-id="25cf7-206">「外部索引鍵」\*\*：參考另一個資料表中唯一資料行的資料行，例如 Orders 資料表中的 CustomerID，這指的是 Customers 資料表中的 CustomerID。</span><span class="sxs-lookup"><span data-stu-id="25cf7-206">*Foreign key*: a column that refers to a unique column in another table, such as CustomerID in the Orders table, which refers to CustomerID in the Customers table.</span></span>  
  
-   <span data-ttu-id="25cf7-207">*「複合索引鍵」*(Composite Key)：由一個以上資料行所組成的索引鍵。</span><span class="sxs-lookup"><span data-stu-id="25cf7-207">*Composite key*: a key that is composed of more than one column.</span></span> <span data-ttu-id="25cf7-208">表格式模型不支援複合索引鍵。</span><span class="sxs-lookup"><span data-stu-id="25cf7-208">Composite keys are not supported in tabular models.</span></span> <span data-ttu-id="25cf7-209">如需詳細資訊，請參閱本主題中的＜複合索引鍵與查閱資料行＞。</span><span class="sxs-lookup"><span data-stu-id="25cf7-209">For more information, see "Composite Keys and Lookup Columns" in this topic.</span></span>  
  
 <span data-ttu-id="25cf7-210">在表格式模型中，主索引鍵或替代索引鍵稱為 *「相關查閱資料行」*(Related lookup column)，或簡稱 *「查閱資料行」*(Lookup column)。</span><span class="sxs-lookup"><span data-stu-id="25cf7-210">In tabular models, the primary key or alternate key is referred to as the *related lookup column*, or just *lookup column*.</span></span> <span data-ttu-id="25cf7-211">如果資料表同時具有主索引鍵和替代索引鍵，您就可以使用其中任一種做為查閱資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-211">If a table has both a primary and alternate key, you can use either as the lookup column.</span></span> <span data-ttu-id="25cf7-212">外部索引鍵又稱為 *「來源資料行」* (Source Column) 或簡稱 *「資料行」*(Column)。</span><span class="sxs-lookup"><span data-stu-id="25cf7-212">The foreign key is referred to as the *source column* or just *column*.</span></span> <span data-ttu-id="25cf7-213">在我們的範例中，會在「訂單」資料表中的 CustomerID (資料行) 與「客戶」資料表中的 CustomerID (查閱資料行) 之間定義關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-213">In our example, a relationship would be defined between CustomerID in the Orders table (the column) and CustomerID (the lookup column) in the Customers table.</span></span> <span data-ttu-id="25cf7-214">如果從關聯式資料庫匯入資料，模型設計師就會依預設從一個資料表選擇外部索引鍵，並從另一個資料表選擇對應的主索引鍵。</span><span class="sxs-lookup"><span data-stu-id="25cf7-214">If you import data from a relational database, by default the model designer chooses the foreign key from one table and the corresponding primary key from the other table.</span></span> <span data-ttu-id="25cf7-215">不過，您可以使用在查閱資料行具有唯一值的任何資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-215">However, you can use any column that has unique values for the lookup column.</span></span>  
  
### <a name="types-of-relationships"></a><span data-ttu-id="25cf7-216">關聯性的類型</span><span class="sxs-lookup"><span data-stu-id="25cf7-216">Types of Relationships</span></span>  
 <span data-ttu-id="25cf7-217">Customers 和 Orders 之間的關聯性是「一對多關聯性」\*\*。</span><span class="sxs-lookup"><span data-stu-id="25cf7-217">The relationship between Customers and Orders is a *one-to-many relationship*.</span></span> <span data-ttu-id="25cf7-218">每個客戶可以有許多張訂單，但是每張訂單不能有多個客戶。</span><span class="sxs-lookup"><span data-stu-id="25cf7-218">Every customer can have multiple orders, but an order cannot have multiple customers.</span></span> <span data-ttu-id="25cf7-219">其他類型的關聯性則是「一對一」\*\* 和「多對多」\*\*。</span><span class="sxs-lookup"><span data-stu-id="25cf7-219">The other types of relationships are *one-to-one* and *many-to-many*.</span></span> <span data-ttu-id="25cf7-220">定義每個客戶之單一折扣率的 CustomerDiscounts 資料表，與「客戶」資料表之間就具有一對一的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-220">The CustomerDiscounts table, which defines a single discount rate for each customer, is in a one-to-one relationship with the Customers table.</span></span> <span data-ttu-id="25cf7-221">Products 與 Customers 之間的直接關聯性就是多對多關聯性的範例，其中客戶可以購買許多產品，而且相同的產品可以由許多客戶購買。</span><span class="sxs-lookup"><span data-stu-id="25cf7-221">An example of a many-to-many relationship is a direct relationship between Products and Customers, in which a customer can buy many products and the same product can be bought by many customers.</span></span> <span data-ttu-id="25cf7-222">模型設計師的使用者介面不支援多對多關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-222">The model designer does not support many-to-many relationships in the user interface.</span></span> <span data-ttu-id="25cf7-223">如需詳細資訊，請參閱本主題中的＜[多對多關聯性](#bkmk_many_to_many)＞。</span><span class="sxs-lookup"><span data-stu-id="25cf7-223">For more information, see "[Many-to-Many Relationships](#bkmk_many_to_many)" in this topic.</span></span>  
  
 <span data-ttu-id="25cf7-224">下表顯示三個資料表之間的關聯性：</span><span class="sxs-lookup"><span data-stu-id="25cf7-224">The following table shows the relationships between the three tables:</span></span>  
  
|<span data-ttu-id="25cf7-225">關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-225">Relationship</span></span>|<span data-ttu-id="25cf7-226">類型</span><span class="sxs-lookup"><span data-stu-id="25cf7-226">Type</span></span>|<span data-ttu-id="25cf7-227">「查閱資料行」</span><span class="sxs-lookup"><span data-stu-id="25cf7-227">Lookup Column</span></span>|<span data-ttu-id="25cf7-228">資料行</span><span class="sxs-lookup"><span data-stu-id="25cf7-228">Column</span></span>|  
|------------------|----------|-------------------|------------|  
|<span data-ttu-id="25cf7-229">Customers-CustomerDiscounts</span><span class="sxs-lookup"><span data-stu-id="25cf7-229">Customers-CustomerDiscounts</span></span>|<span data-ttu-id="25cf7-230">一對一</span><span class="sxs-lookup"><span data-stu-id="25cf7-230">one-to-one</span></span>|<span data-ttu-id="25cf7-231">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="25cf7-231">Customers.CustomerID</span></span>|<span data-ttu-id="25cf7-232">CustomerDiscounts.CustomerID</span><span class="sxs-lookup"><span data-stu-id="25cf7-232">CustomerDiscounts.CustomerID</span></span>|  
|<span data-ttu-id="25cf7-233">Customers-Orders</span><span class="sxs-lookup"><span data-stu-id="25cf7-233">Customers-Orders</span></span>|<span data-ttu-id="25cf7-234">一對多</span><span class="sxs-lookup"><span data-stu-id="25cf7-234">one-to-many</span></span>|<span data-ttu-id="25cf7-235">Customers.CustomerID</span><span class="sxs-lookup"><span data-stu-id="25cf7-235">Customers.CustomerID</span></span>|<span data-ttu-id="25cf7-236">Orders.CustomerID</span><span class="sxs-lookup"><span data-stu-id="25cf7-236">Orders.CustomerID</span></span>|  
  
### <a name="relationships-and-performance"></a><span data-ttu-id="25cf7-237">關聯性與效能</span><span class="sxs-lookup"><span data-stu-id="25cf7-237">Relationships and Performance</span></span>  
 <span data-ttu-id="25cf7-238">建立任何關聯性之後，模型設計師通常都必須重新計算使用新建立關聯性中資料表之資料行的任何公式。</span><span class="sxs-lookup"><span data-stu-id="25cf7-238">After any relationship has been created, the model designer typically must recalculate any formulas that use columns from tables in the newly created relationship.</span></span> <span data-ttu-id="25cf7-239">視資料量與關聯性的複雜度而定，可能需要一些時間進行處理。</span><span class="sxs-lookup"><span data-stu-id="25cf7-239">Processing can take some time depending on the amount of data and the complexity of the relationships.</span></span>  
  
##  <a name="requirements-for-relationships"></a><a name="requirements"></a><span data-ttu-id="25cf7-240">關聯性的需求</span><span class="sxs-lookup"><span data-stu-id="25cf7-240">Requirements for Relationships</span></span>  
 <span data-ttu-id="25cf7-241">模型設計師在建立關聯性時，具有多項必須遵循的需求：</span><span class="sxs-lookup"><span data-stu-id="25cf7-241">The model designer has several requirements that must be followed when creating relationships:</span></span>  
  
### <a name="single-active-relationship-between-tables"></a><span data-ttu-id="25cf7-242">資料表之間的單一使用中關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-242">Single Active Relationship between Tables</span></span>  
 <span data-ttu-id="25cf7-243">多個關聯性可能會在資料表之間造成模稜兩可的相依性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-243">Multiple relationships could result in ambiguous dependencies between tables.</span></span> <span data-ttu-id="25cf7-244">若要建立精確的計算，您需要從一個資料表到下一個資料表的單一路徑。</span><span class="sxs-lookup"><span data-stu-id="25cf7-244">To create accurate calculations, you need a single path from one table to the next.</span></span> <span data-ttu-id="25cf7-245">因此，每一對資料表之間只能有一個使用中的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-245">Therefore, there can be only one active relationship between each pair of tables.</span></span> <span data-ttu-id="25cf7-246">例如，在 AdventureWorks DW 2012 中，資料表 DimDate 包含一個資料行 DateKey，這個資料行與資料表 FactInternetSales 中的三個不同資料行相關：OrderDate、DueDate 與 ShipDate。</span><span class="sxs-lookup"><span data-stu-id="25cf7-246">For example, in AdventureWorks DW 2012, the table, DimDate, contains a column, DateKey, that is related to three different columns in the table, FactInternetSales: OrderDate, DueDate, and ShipDate.</span></span> <span data-ttu-id="25cf7-247">如果您嘗試匯入這些資料表，會成功建立第一個關聯性，但是對於包含相同資料行的後續關聯性，則會收到下列錯誤：</span><span class="sxs-lookup"><span data-stu-id="25cf7-247">If you attempt to import these tables, the first relationship is created successfully, but you will receive the following error on successive relationships that involve the same column:</span></span>  
  
 <span data-ttu-id="25cf7-248">\*關聯性：資料表 [資料行 1]-> 資料表 [資料行 2]-狀態：錯誤-原因：無法在資料表和之間建立關聯性 \<table 1> \<table 2> 。</span><span class="sxs-lookup"><span data-stu-id="25cf7-248">\* Relationship: table[column 1]-> table[column 2]   - Status: error   - Reason: A relationship cannot be created between tables \<table 1> and \<table 2>.</span></span> <span data-ttu-id="25cf7-249">兩個資料表之間只能有一個直接或間接關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-249">Only one direct or indirect relationship can exist between two tables.</span></span>  
  
 <span data-ttu-id="25cf7-250">如果您有兩個資料表，而且在這兩個資料表之間有多個關聯性，則您需要匯入包含查閱資料行之資料表的多個複本，然後在每對資料表之間建立一個關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-250">If you have two tables and multiple relationships between them, then you will need to import multiple copies of the table that contains the lookup column, and create one relationship between each pair of tables.</span></span>  
  
 <span data-ttu-id="25cf7-251">資料表之間可以有許多非使用中的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-251">There can be many inactive relationships between tables.</span></span> <span data-ttu-id="25cf7-252">資料表之間要使用的路徑是在查詢時由報表用戶端指定。</span><span class="sxs-lookup"><span data-stu-id="25cf7-252">The path to use between tables is specified by the reporting client at query time.</span></span>  
  
### <a name="one-relationship-for-each-source-column"></a><span data-ttu-id="25cf7-253">每個來源資料行一個關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-253">One Relationship for Each Source Column</span></span>  
 <span data-ttu-id="25cf7-254">來源資料行無法參與多個關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-254">A source column cannot participate in multiple relationships.</span></span> <span data-ttu-id="25cf7-255">如果您已經使用一個資料行做為某個關聯性中的來源資料行，但是想要使用該資料行連接至不同資料表中的其他相關查閱資料行，您可以建立資料行的複本，然後將該資料行用於新的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-255">If you have used a column as a source column in one relationship already, but want to use that column to connect to another related lookup column in a different table, you can create a copy of the column, and use that column for the new relationship.</span></span>  
  
 <span data-ttu-id="25cf7-256">建立具有完全相同之值的資料行複本相當容易，只要在導出資料行中使用 DAX 公式即可。</span><span class="sxs-lookup"><span data-stu-id="25cf7-256">It is easy to create a copy of a column that has the exact same values, by using a DAX formula in a calculated column.</span></span> <span data-ttu-id="25cf7-257">如需詳細資訊，請參閱[建立導出資料行 &#40;SSAS 表格式&#41;](ssas-calculated-columns-create-a-calculated-column.md)。</span><span class="sxs-lookup"><span data-stu-id="25cf7-257">For more information, see [Create a Calculated Column &#40;SSAS Tabular&#41;](ssas-calculated-columns-create-a-calculated-column.md).</span></span>  
  
### <a name="unique-identifier-for-each-table"></a><span data-ttu-id="25cf7-258">每個資料表的唯一識別碼</span><span class="sxs-lookup"><span data-stu-id="25cf7-258">Unique Identifier for Each Table</span></span>  
 <span data-ttu-id="25cf7-259">每個資料表都必須具有能夠唯一識別該資料表中每個資料列的單一資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-259">Each table must have a single column that uniquely identifies each row in that table.</span></span> <span data-ttu-id="25cf7-260">此資料行通常稱為主索引鍵。</span><span class="sxs-lookup"><span data-stu-id="25cf7-260">This column is often referred to as the primary key.</span></span>  
  
### <a name="unique-lookup-columns"></a><span data-ttu-id="25cf7-261">唯一查閱資料行</span><span class="sxs-lookup"><span data-stu-id="25cf7-261">Unique Lookup Columns</span></span>  
 <span data-ttu-id="25cf7-262">查閱資料行中的資料值必須是唯一的。</span><span class="sxs-lookup"><span data-stu-id="25cf7-262">The data values in the lookup column must be unique.</span></span> <span data-ttu-id="25cf7-263">換句話說，資料行不能包含重複的值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-263">In other words, the column cannot contain duplicates.</span></span> <span data-ttu-id="25cf7-264">在表格式模型中，雖然空值和空白字串相當於空白，卻是不同的資料值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-264">In Tabular models, nulls and empty strings are equivalent to a blank, which is a distinct data value.</span></span> <span data-ttu-id="25cf7-265">這表示您無法在查閱資料行中有多個 Null 值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-265">This means that you cannot have multiple nulls in the lookup column.</span></span>  
  
### <a name="compatible-data-types"></a><span data-ttu-id="25cf7-266">相容的資料類型</span><span class="sxs-lookup"><span data-stu-id="25cf7-266">Compatible Data Types</span></span>  
 <span data-ttu-id="25cf7-267">來源資料行和查閱資料行中的資料類型都必須相容。</span><span class="sxs-lookup"><span data-stu-id="25cf7-267">The data types in the source column and lookup column must be compatible.</span></span> <span data-ttu-id="25cf7-268">如需資料類型的詳細資訊，請參閱[支援的資料類型 &#40;SSAS 表格式&#41;](data-types-supported-ssas-tabular.md)。</span><span class="sxs-lookup"><span data-stu-id="25cf7-268">For more information about data types, see [Data Types Supported &#40;SSAS Tabular&#41;](data-types-supported-ssas-tabular.md).</span></span>  
  
### <a name="composite-keys-and-lookup-columns"></a><span data-ttu-id="25cf7-269">複合索引鍵和查閱資料行</span><span class="sxs-lookup"><span data-stu-id="25cf7-269">Composite Keys and Lookup Columns</span></span>  
 <span data-ttu-id="25cf7-270">您無法在表格式模型中使用複合索引鍵；您必須永遠具備一個可唯一識別資料表中每個資料列的資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-270">You cannot use composite keys in a tabular model; you must always have one column that uniquely identifies each row in the table.</span></span> <span data-ttu-id="25cf7-271">若您嘗試匯入含有以複合索引鍵為基礎之現有關聯性的資料表，[資料表匯入精靈] 將會忽略該關聯性，因為它無法在表格式模型中建立。</span><span class="sxs-lookup"><span data-stu-id="25cf7-271">If you try to import tables that have an existing relationship based on a composite key, the Table Import Wizard will ignore that relationship because it cannot be created in the tabular model.</span></span>  
  
 <span data-ttu-id="25cf7-272">若您想在模型設計師中建立兩個資料表之間的關聯性，但其中有多個資料行定義主索引鍵及外部索引鍵，您就必須在建立關聯性之前，先合併這些值以建立單一索引鍵資料行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-272">If you want to create a relationship between two tables in the model designer, and there are multiple columns defining the primary and foreign keys, you must combine the values to create a single key column before creating the relationship.</span></span> <span data-ttu-id="25cf7-273">您可以在匯入資料之前執行這項作業，也可以在模型設計師中透過建立導出資料行來執行。</span><span class="sxs-lookup"><span data-stu-id="25cf7-273">You can do this before you import the data, or you can do this in the model designer by creating a calculated column.</span></span>  
  
###  <a name="many-to-many-relationships"></a><a name="bkmk_many_to_many"></a><span data-ttu-id="25cf7-274">多對多關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-274">Many-to-Many Relationships</span></span>  
 <span data-ttu-id="25cf7-275">表格式模型不支援多對多關聯性，而且您無法直接在模型設計師中加入 *「聯合資料表」* (Junction table)。</span><span class="sxs-lookup"><span data-stu-id="25cf7-275">Tabular models do not support many-to-many relationships, and you cannot add *junction tables* in the model designer.</span></span> <span data-ttu-id="25cf7-276">不過，您可以使用 DAX 函數來塑造多對多關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-276">However, you can use DAX functions to model many-to-many relationships.</span></span>  
  
### <a name="self-joins-and-loops"></a><span data-ttu-id="25cf7-277">自我聯結與迴圈</span><span class="sxs-lookup"><span data-stu-id="25cf7-277">Self-Joins and Loops</span></span>  
 <span data-ttu-id="25cf7-278">在表格式模型資料表中不允許使用自我聯結。</span><span class="sxs-lookup"><span data-stu-id="25cf7-278">Self-joins are not permitted in tabular model tables.</span></span> <span data-ttu-id="25cf7-279">自我聯結是資料表和本身之間的遞迴關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-279">A self-join is a recursive relationship between a table and itself.</span></span> <span data-ttu-id="25cf7-280">自我聯結通常用來定義父子式階層。</span><span class="sxs-lookup"><span data-stu-id="25cf7-280">Self-joins are often used to define parent-child hierarchies.</span></span> <span data-ttu-id="25cf7-281">例如，您可以將 Employees 資料表聯結到其本身，以產生會顯示商務中管理鏈結的階層。</span><span class="sxs-lookup"><span data-stu-id="25cf7-281">For example, you could join an Employees table to itself to produce a hierarchy that shows the management chain at a business.</span></span>  
  
 <span data-ttu-id="25cf7-282">模型設計師不允許在模型的關聯性之間建立迴圈。</span><span class="sxs-lookup"><span data-stu-id="25cf7-282">The model designer does not allow loops to be created among relationships in a model.</span></span> <span data-ttu-id="25cf7-283">換句話說，系統禁止下列這組關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-283">In other words, the following set of relationships is prohibited.</span></span>  
  
 <span data-ttu-id="25cf7-284">資料表 1 的資料行 a - 資料表 2 的資料行 f</span><span class="sxs-lookup"><span data-stu-id="25cf7-284">Table 1, column a   to   Table 2, column f</span></span>  
  
 <span data-ttu-id="25cf7-285">資料表 2 的資料行 f - 資料表 3 的資料行 n</span><span class="sxs-lookup"><span data-stu-id="25cf7-285">Table 2, column f   to   Table 3, column n</span></span>  
  
 <span data-ttu-id="25cf7-286">資料表 3 的資料行 n - 資料表 1 的資料行 a</span><span class="sxs-lookup"><span data-stu-id="25cf7-286">Table 3, column n   to   Table 1, column a</span></span>  
  
 <span data-ttu-id="25cf7-287">如果您嘗試建立的關聯性會建立迴圈，則會產生錯誤。</span><span class="sxs-lookup"><span data-stu-id="25cf7-287">If you try to create a relationship that would result in a loop being created, an error is generated.</span></span>  
  
##  <a name="inference-of-relationships"></a><a name="detection"></a><span data-ttu-id="25cf7-288">關聯性的推斷</span><span class="sxs-lookup"><span data-stu-id="25cf7-288">Inference of Relationships</span></span>  
 <span data-ttu-id="25cf7-289">在某些情況下，資料表之間的關聯性會自動鏈結。</span><span class="sxs-lookup"><span data-stu-id="25cf7-289">In some cases, relationships between tables are automatically chained.</span></span> <span data-ttu-id="25cf7-290">例如，如果您在以下前兩組資料表之間建立關聯性，就會推斷另外兩個資料表之間也有關聯性，然後自動建立關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-290">For example, if you create a relationship between the first two sets of tables below, a relationship is inferred to exist between the other two tables, and a relationship is automatically established.</span></span>  
  
 <span data-ttu-id="25cf7-291">產品和類別 -- 手動建立</span><span class="sxs-lookup"><span data-stu-id="25cf7-291">Products and Category -- created manually</span></span>  
  
 <span data-ttu-id="25cf7-292">產品和子類別 -- 手動建立</span><span class="sxs-lookup"><span data-stu-id="25cf7-292">Category and SubCategory -- created manually</span></span>  
  
 <span data-ttu-id="25cf7-293">產品和子類別 -- 推斷出關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-293">Products and SubCategory -- relationship is inferred</span></span>  
  
 <span data-ttu-id="25cf7-294">為了讓關聯性能夠自動鏈結，如上所示，關聯性都必走向同一個方向。</span><span class="sxs-lookup"><span data-stu-id="25cf7-294">In order for relationships to be automatically chained, the relationships must go in one direction, as shown above.</span></span> <span data-ttu-id="25cf7-295">如果初始的關聯性是在「銷售」和「產品」，以及「銷售」和「客戶」之間，就不會推斷出關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-295">If the initial relationships were between, for example, Sales and Products, and Sales and Customers, a relationship is not inferred.</span></span> <span data-ttu-id="25cf7-296">這是因為「產品」和「客戶」之間的關聯性是多對多關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-296">This is because the relationship between Products and Customers is a many-to-many relationship.</span></span>  
  
##  <a name="detection-of-relationships-when-importing-data"></a><a name="bkmk_detection"></a><span data-ttu-id="25cf7-297">在匯入資料時偵測關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-297">Detection of Relationships When Importing Data</span></span>  
 <span data-ttu-id="25cf7-298">當您從關聯式資料來源資料表匯入時，資料表匯入精靈會根據來源結構描述資料來偵測這些來源資料表內的現有關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-298">When you import from a relational data source table, the Table Import Wizard detects existing relationships in those source tables based on the source schema data.</span></span> <span data-ttu-id="25cf7-299">如果匯入相關資料表，將會在模型中複製這些關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-299">If related tables are imported, those relationships will be duplicated in the model.</span></span>  
  
##  <a name="manually-create-relationships"></a><a name="bkmk_manually_create"></a><span data-ttu-id="25cf7-300">手動建立關聯性</span><span class="sxs-lookup"><span data-stu-id="25cf7-300">Manually Create Relationships</span></span>  
 <span data-ttu-id="25cf7-301">雖然單一關聯式資料來源中資料表之間的大多數關聯性都會被自動偵測到並在表格式模型中建立，但在許多情況下必須手動建立模型資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-301">While most relationships between tables in a single relational data source will be detected automatically, and created in the tabular model, there are also many instances where you must manually create relationships between model tables.</span></span>  
  
 <span data-ttu-id="25cf7-302">如果您的模型包含來自多個資料來源的資料，則可能需要手動建立關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-302">If your model contains data from multiple sources, you will likely have to manually create relationships.</span></span> <span data-ttu-id="25cf7-303">例如，您可以從關聯式資料來源匯入 Customers、CustomerDiscounts 和 Orders 資料表。</span><span class="sxs-lookup"><span data-stu-id="25cf7-303">For example, you may import Customers, CustomerDiscounts, and Orders tables from a relational data source.</span></span> <span data-ttu-id="25cf7-304">來源中這些資料表之間的現有關聯式會在模型中自動建立。</span><span class="sxs-lookup"><span data-stu-id="25cf7-304">Relationships existing between those tables at the source are automatically created in the model.</span></span> <span data-ttu-id="25cf7-305">然後，您可以從不同來源新增其他資料表，例如，從 Microsoft Excel 活頁簿中的 Geography 資料表匯入地區資料。</span><span class="sxs-lookup"><span data-stu-id="25cf7-305">You may then add another table from a different source, for example, you import region data from a Geography table in a Microsoft Excel workbook.</span></span> <span data-ttu-id="25cf7-306">接著手動建立 Customers 資料表中的資料行和 Geography 資料表中的資料行之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-306">You can then manually create a relationship between a column in the Customers table and a column in the Geography table.</span></span>  
  
 <span data-ttu-id="25cf7-307">若要在表格式模型中手動建立關聯性，您可以使用 [圖表檢視] 中的模型設計師或使用 [管理關聯性] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="25cf7-307">To manually create relationships in a tabular model, you can use the model designer in Diagram View or by using the Manage Relationships dialog box.</span></span> <span data-ttu-id="25cf7-308">此圖表檢視以圖形格式顯示資料表，以及資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-308">The diagram view displays tables, with relationships between them, in a graphical format.</span></span> <span data-ttu-id="25cf7-309">您可以按一下一個資料表中的資料行，將游標拖曳到另一個資料表中，輕鬆地在兩個資料表之間以正確順序建立關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-309">You can click a column in one table and drag the cursor to another table to easily create a relationship, in the correct order, between the tables.</span></span> <span data-ttu-id="25cf7-310">[管理關聯性] 對話方塊以簡單的表格格式顯示資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-310">The Manage Relationships dialog box displays relationships between tables in a simple table format.</span></span> <span data-ttu-id="25cf7-311">若要了解如何手動建立關聯性，請參閱 [建立兩個資料表之間的關聯性 &#40;SSAS 表格式&#41;](create-a-relationship-between-two-tables-ssas-tabular.md)(Relational databases) 中使用的方法。</span><span class="sxs-lookup"><span data-stu-id="25cf7-311">To learn how to manually create relationships, see [Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;](create-a-relationship-between-two-tables-ssas-tabular.md).</span></span>  
  
##  <a name="duplicate-values-and-other-errors"></a><a name="bkmk_dupl_errors"></a><span data-ttu-id="25cf7-312">重複的值和其他錯誤</span><span class="sxs-lookup"><span data-stu-id="25cf7-312">Duplicate Values and Other Errors</span></span>  
 <span data-ttu-id="25cf7-313">如果您選擇不能用於關聯性的資料行，資料行旁邊就會出現紅色的 X。</span><span class="sxs-lookup"><span data-stu-id="25cf7-313">If you choose a column that cannot be used in the relationship, a red X appears next to the column.</span></span> <span data-ttu-id="25cf7-314">您可以將游標暫停在錯誤圖示上方，以檢視訊息，其中提供有關此問題的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="25cf7-314">You can pause the cursor over the error icon to view a message that provides more information about the problem.</span></span> <span data-ttu-id="25cf7-315">以下列出的問題，可能會使得所選資料行之間無法建立關聯性：</span><span class="sxs-lookup"><span data-stu-id="25cf7-315">Problems that can make it impossible to create a relationship between the selected columns include the following:</span></span>  
  
|<span data-ttu-id="25cf7-316">問題或訊息</span><span class="sxs-lookup"><span data-stu-id="25cf7-316">Problem or message</span></span>|<span data-ttu-id="25cf7-317">解決方案</span><span class="sxs-lookup"><span data-stu-id="25cf7-317">Resolution</span></span>|  
|------------------------|----------------|  
|<span data-ttu-id="25cf7-318">由於所選取的兩個資料行包含重複值，無法建立關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-318">The relationship cannot be created because both columns selected contain duplicate values.</span></span>|<span data-ttu-id="25cf7-319">若要建立有效的關聯性，您所選取的一對中至少有一個資料行必須只包含唯一值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-319">To create a valid relationship, at least one column of the pair that you select must contain only unique values.</span></span><br /><br /> <span data-ttu-id="25cf7-320">您可以編輯資料行以移除重複項目，也可以反轉資料行的順序，以便使用包含唯一值的資料行做為 **[相關查閱資料行]**。</span><span class="sxs-lookup"><span data-stu-id="25cf7-320">You can either edit the columns to remove duplicates, or you can reverse the order of the columns so that the column that contains the unique values is used as the **Related Lookup Column**.</span></span>|  
|<span data-ttu-id="25cf7-321">資料行包含 Null 值或空白值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-321">The column contains a null or empty value.</span></span>|<span data-ttu-id="25cf7-322">資料行無法以 Null 值，彼此進行聯結。</span><span class="sxs-lookup"><span data-stu-id="25cf7-322">Data columns cannot be joined to each other on a null value.</span></span> <span data-ttu-id="25cf7-323">針對每個資料列，在兩個資料行中都必須有在關聯性中用到的值。</span><span class="sxs-lookup"><span data-stu-id="25cf7-323">For every row, there must be a value in both of the columns that are used in a relationship.</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_related_tasks"></a> <span data-ttu-id="25cf7-324">相關工作</span><span class="sxs-lookup"><span data-stu-id="25cf7-324">Related Tasks</span></span>  
  
|<span data-ttu-id="25cf7-325">主題</span><span class="sxs-lookup"><span data-stu-id="25cf7-325">Topic</span></span>|<span data-ttu-id="25cf7-326">描述</span><span class="sxs-lookup"><span data-stu-id="25cf7-326">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="25cf7-327">建立兩個資料表之間的關聯性 &#40;SSAS 表格式&#41;</span><span class="sxs-lookup"><span data-stu-id="25cf7-327">Create a Relationship Between Two Tables &#40;SSAS Tabular&#41;</span></span>](create-a-relationship-between-two-tables-ssas-tabular.md)|<span data-ttu-id="25cf7-328">描述如何手動建立兩個資料表之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="25cf7-328">Describes how to manually create a relationship between two tables.</span></span>|  
|[<span data-ttu-id="25cf7-329">刪除關聯性 &#40;SSAS 表格式&#41;</span><span class="sxs-lookup"><span data-stu-id="25cf7-329">Delete Relationships &#40;SSAS Tabular&#41;</span></span>](relationships-ssas-tabular.md)|<span data-ttu-id="25cf7-330">描述如何刪除關聯性和刪除關聯性的後果。</span><span class="sxs-lookup"><span data-stu-id="25cf7-330">Describes how to delete a relationship and the ramifications of deleting relationships.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="25cf7-331">另請參閱</span><span class="sxs-lookup"><span data-stu-id="25cf7-331">See Also</span></span>  
 <span data-ttu-id="25cf7-332">[&#40;SSAS 表格式&#41;的資料表和資料行](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="25cf7-332">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="25cf7-333">匯入資料 (SSAS 表格式)</span><span class="sxs-lookup"><span data-stu-id="25cf7-333">Import Data &#40;SSAS Tabular&#41;</span></span>](../import-data-ssas-tabular.md)  
  
  
