---
title: Microsoft 線性回歸演算法 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- algorithms [data mining]
- linear regression algorithms [Analysis Services]
- linear regression [Analysis Services]
- regression algorithms [Analysis Services]
ms.assetid: 50a4abb8-c0b0-4380-ba5e-c49b305b9d22
author: minewiskan
ms.author: owend
ms.openlocfilehash: 6d03f4d60131471d1a978fd66306cc73f274a536
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87606505"
---
# <a name="microsoft-linear-regression-algorithm"></a><span data-ttu-id="2fcc7-102">Microsoft 線性迴歸演算法</span><span class="sxs-lookup"><span data-stu-id="2fcc7-102">Microsoft Linear Regression Algorithm</span></span>
  <span data-ttu-id="2fcc7-103">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 線性迴歸演算法是 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 決策樹演算法的變異形式，可幫助您計算相依與獨立變數之間的線性關聯性，然後使用該關聯性進行預測。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-103">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Linear Regression algorithm is a variation of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm that helps you calculate a linear relationship between a dependent and independent variable, and then use that relationship for prediction.</span></span>

 <span data-ttu-id="2fcc7-104">關聯性會以最能夠代表一系列資料的線性方程式表示。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-104">The relationship takes the form of an equation for a line that best represents a series of data.</span></span> <span data-ttu-id="2fcc7-105">例如，下列圖表中的線條是最佳的資料線性表示法。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-105">For example, the line in the following diagram is the best possible linear representation of the data.</span></span>

 <span data-ttu-id="2fcc7-106">![模式化一組資料的線條](../media/linear-regression.gif "模式化一組資料的線條")</span><span class="sxs-lookup"><span data-stu-id="2fcc7-106">![A line that models a set of data](../media/linear-regression.gif "A line that models a set of data")</span></span>

 <span data-ttu-id="2fcc7-107">圖表中的每一個資料點都有錯誤，與它到迴歸線的距離相關聯。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-107">Each data point in the diagram has an error associated with its distance from the regression line.</span></span> <span data-ttu-id="2fcc7-108">迴歸方程式中的係數 a 和 b 會調整迴歸線的角度和位置。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-108">The coefficients a and b in the regression equation adjust the angle and location of the regression line.</span></span> <span data-ttu-id="2fcc7-109">您可以調整 a 和 b，直到與所有點相關聯的錯誤總和達到最小值為止，以取得迴歸方程式。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-109">You can obtain the regression equation by adjusting a and b until the sum of the errors that are associated with all the points reaches its minimum.</span></span>

 <span data-ttu-id="2fcc7-110">還有其他種類的迴歸會使用多個變數，以及迴歸的非線性方法。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-110">There are other kinds of regression that use multiple variables, and also nonlinear methods of regression.</span></span> <span data-ttu-id="2fcc7-111">但是，線性迴歸是一個實用且知名的方法，可將某個基礎因數之變更的回應模型化。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-111">However, linear regression is a useful and well-known method for modeling a response to a change in some underlying factor.</span></span>

## <a name="example"></a><span data-ttu-id="2fcc7-112">範例</span><span class="sxs-lookup"><span data-stu-id="2fcc7-112">Example</span></span>
 <span data-ttu-id="2fcc7-113">您可以使用線性迴歸來決定兩個連續資料行之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-113">You can use linear regression to determine a relationship between two continuous columns.</span></span> <span data-ttu-id="2fcc7-114">例如，您可以使用線性迴歸，從製造或銷售資料計算趨勢線。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-114">For example, you can use linear regression to compute a trend line from manufacturing or sales data.</span></span> <span data-ttu-id="2fcc7-115">您也可以使用線性迴歸當做開發更複雜之資料採礦模型的先驅，以評估資料行之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-115">You could also use the linear regression as a precursor to development of more complex data mining models, to assess the relationships among data columns.</span></span>

 <span data-ttu-id="2fcc7-116">雖然有許多方法可計算線性迴歸，而不需要資料採礦工具，但是針對這項工作使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 線性迴歸演算法的好處在於，變數之間所有可能的關聯性都會自動計算出來，並加以測試。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-116">Although there are many ways to compute linear regression that do not require data mining tools, the advantage of using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Linear Regression algorithm for this task is that all the possible relationships among the variables are automatically computed and tested.</span></span> <span data-ttu-id="2fcc7-117">您不必選取計算方法，例如最小平方的解決方式。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-117">You do not have to select a computation method, such as solving for least squares.</span></span> <span data-ttu-id="2fcc7-118">但是，在有多個因數影響結果的狀況下，線性迴歸可能會過於簡化關聯性。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-118">However, linear regression might oversimplify the relationships in scenarios where multiple factors affect the outcome.</span></span>

## <a name="how-the-algorithm-works"></a><span data-ttu-id="2fcc7-119">演算法的運作方式</span><span class="sxs-lookup"><span data-stu-id="2fcc7-119">How the Algorithm Works</span></span>
 <span data-ttu-id="2fcc7-120">[!INCLUDE[msCoName](../../includes/msconame-md.md)] 線性迴歸演算法是 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 決策樹演算法的變異形式。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-120">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Linear Regression algorithm is a variation of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm.</span></span> <span data-ttu-id="2fcc7-121">當您選取 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 線性迴歸演算法時，會叫用特殊形式的 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 決策樹演算法，其參數會限制此演算法的行為，而且需要某些輸入資料類型。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-121">When you select the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Linear Regression algorithm, a special case of the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Decision Trees algorithm is invoked, with parameters that constrain the behavior of the algorithm and require certain input data types.</span></span> <span data-ttu-id="2fcc7-122">此外，在線性迴歸模型中，整個資料集都會用來計算初始行程內的關聯性，而標準決策樹模型則會將資料重複分割成較小的子集或樹狀結構。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-122">Moreover, in a linear regression model, the whole data set is used for computing relationships in the initial pass, whereas a standard decision trees model splits the data repeatedly into smaller subsets or trees.</span></span>

## <a name="data-required-for-linear-regression-models"></a><span data-ttu-id="2fcc7-123">線性迴歸模型所需的資料</span><span class="sxs-lookup"><span data-stu-id="2fcc7-123">Data Required for Linear Regression Models</span></span>
 <span data-ttu-id="2fcc7-124">當您準備資料以供線性迴歸模型使用時，您需要了解特定演算法的需求。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-124">When you prepare data for use in a linear regression model, you should understand the requirements for the particular algorithm.</span></span> <span data-ttu-id="2fcc7-125">其中包括所需的資料數量及資料的使用方式。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-125">This includes how much data is needed, and how the data is used.</span></span> <span data-ttu-id="2fcc7-126">此模型類型的需求如下：</span><span class="sxs-lookup"><span data-stu-id="2fcc7-126">The requirements for this model type are as follows:</span></span>

-   <span data-ttu-id="2fcc7-127">**單一索引鍵資料行** ：每個模型都必須包含一個能唯一識別每一筆記錄的數值或文字資料行。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-127">**A single key column** Each model must contain one numeric or text column that uniquely identifies each record.</span></span> <span data-ttu-id="2fcc7-128">不允許複合的索引鍵。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-128">Compound keys are not permitted.</span></span>

-   <span data-ttu-id="2fcc7-129">**可預測資料行** ：至少需要一個可預測資料行。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-129">**A predictable column** Requires at least one predictable column.</span></span> <span data-ttu-id="2fcc7-130">您可以在模型中加入多個可預測的屬性，但是這些可預測的屬性必須是連續數值資料類型。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-130">You can include multiple predictable attributes in a model, but the predictable attributes must be continuous numeric data types.</span></span> <span data-ttu-id="2fcc7-131">即使資料的原生儲存體為數值，您還是不能將日期時間資料類型當做可預測的屬性使用。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-131">You cannot use a datetime data type as a predictable attribute even if the native storage for the data is numeric.</span></span>

-   <span data-ttu-id="2fcc7-132">**輸入資料行** ：輸入資料行必須包含連續數值資料，而且必須為它指派適當的資料類型。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-132">**Input columns** Input columns must contain continuous numeric data and be assigned the appropriate data type.</span></span>

 <span data-ttu-id="2fcc7-133">如需詳細資訊，請參閱的 [Microsoft 線性迴歸演算法技術參考](microsoft-linear-regression-algorithm-technical-reference.md)的＜需求＞一節。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-133">For more information, see the Requirements section of [Microsoft Linear Regression Algorithm Technical Reference](microsoft-linear-regression-algorithm-technical-reference.md).</span></span>

## <a name="viewing-a-linear-regression-model"></a><span data-ttu-id="2fcc7-134">檢視線性迴歸模型</span><span class="sxs-lookup"><span data-stu-id="2fcc7-134">Viewing a Linear Regression Model</span></span>
 <span data-ttu-id="2fcc7-135">若要瀏覽此模型，您可使用 [Microsoft 樹狀檢視器]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-135">To explore the model, you use the **Microsoft Tree Viewer**.</span></span> <span data-ttu-id="2fcc7-136">線性迴歸模型的樹狀結構非常簡單，其中包含有關單一節點內所包含之迴歸方程式的所有資訊。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-136">The tree structure for a linear regression model is very simple, with all the information about the regression equation contained in a single node.</span></span> <span data-ttu-id="2fcc7-137">如需詳細資訊，請參閱 [使用 Microsoft 樹狀檢視器瀏覽模型](browse-a-model-using-the-microsoft-tree-viewer.md)。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-137">For more information, see [Browse a Model Using the Microsoft Tree Viewer](browse-a-model-using-the-microsoft-tree-viewer.md).</span></span>

 <span data-ttu-id="2fcc7-138">如果您想要知道此方程式的詳細資料，也可以使用 [Microsoft 一般內容樹狀檢視器](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)來檢視係數和其他詳細資料。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-138">If you want to know more detail about the equation, you can also view the coefficients and other details by using the [Microsoft Generic Content Tree Viewer](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md).</span></span>

 <span data-ttu-id="2fcc7-139">如果是線性迴歸模型，此模型內容包含中繼資料、迴歸公式及有關輸入值分佈的統計資料。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-139">For a linear regression model, the model content includes metadata, the regression formula, and statistics about the distribution of input values.</span></span> <span data-ttu-id="2fcc7-140">如需詳細資訊，請參閱 [線性迴歸模型的採礦模型內容 &#40;Analysis Services - 資料採礦&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)的＜需求＞一節。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-140">For more information, see [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md).</span></span>

## <a name="creating-predictions"></a><span data-ttu-id="2fcc7-141">建立預測</span><span class="sxs-lookup"><span data-stu-id="2fcc7-141">Creating Predictions</span></span>
 <span data-ttu-id="2fcc7-142">當此模型已處理完之後，結果會儲存成一組統計資料，連同線性迴歸公式 (這些公式可用來計算未來趨勢)。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-142">After the model has been processed, the results are stored as a set of statistics together with the linear regression formula, which you can use to compute future trends.</span></span> <span data-ttu-id="2fcc7-143">如需搭配線性迴歸模型使用之查詢的範例，請參閱 [線性迴歸模型查詢範例](linear-regression-model-query-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-143">For examples of queries to use with a linear regression model, see [Linear Regression Model Query Examples](linear-regression-model-query-examples.md).</span></span>

 <span data-ttu-id="2fcc7-144">如需如何針對採礦模型建立查詢的一般資訊，請參閱 [資料採礦查詢](data-mining-queries.md)。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-144">For general information about how to create queries against mining models, see [Data Mining Queries](data-mining-queries.md).</span></span>

 <span data-ttu-id="2fcc7-145">除了選取 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 線性迴歸演算法來建立線性迴歸模型之外，如果可預測屬性為連續數值資料類型，您也可以建立一個包含迴歸的決策樹模型。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-145">In addition to creating a linear regression model by selecting the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Linear Regression algorithm, if the predictable attribute is a continuous numeric data type, you can create a decision tree model that contains regressions.</span></span> <span data-ttu-id="2fcc7-146">在此情況下，此演算法會在找到適當的分隔點時分割資料，但如果是某些資料區，則會改為建立迴歸公式。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-146">In this case, the algorithm will split the data when it finds appropriate separation points, but for some regions of data, will create a regression formula instead.</span></span> <span data-ttu-id="2fcc7-147">如需決策樹模型內之迴歸樹的詳細資訊，請參閱[決策樹模型的採礦模型內容 &#40;Analysis Services - 資料採礦&#41;](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md)。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-147">For more information about regression trees within a decision trees model, see [Mining Model Content for Decision Tree Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md).</span></span>

## <a name="remarks"></a><span data-ttu-id="2fcc7-148">備註</span><span class="sxs-lookup"><span data-stu-id="2fcc7-148">Remarks</span></span>

-   <span data-ttu-id="2fcc7-149">不支援使用預測模型標記語言 (PMML) 來建立採礦模型。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-149">Does not support the use of Predictive Model Markup Language (PMML) to create mining models.</span></span>

-   <span data-ttu-id="2fcc7-150">不支援建立資料採礦維度。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-150">Does not support the creation of data mining dimensions.</span></span>

-   <span data-ttu-id="2fcc7-151">支援鑽研。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-151">Supports drillthrough.</span></span>

-   <span data-ttu-id="2fcc7-152">支援 OLAP 採礦模型的使用。</span><span class="sxs-lookup"><span data-stu-id="2fcc7-152">Supports the use of OLAP mining models.</span></span>

## <a name="see-also"></a><span data-ttu-id="2fcc7-153">另請參閱</span><span class="sxs-lookup"><span data-stu-id="2fcc7-153">See Also</span></span>
 <span data-ttu-id="2fcc7-154">[資料採礦演算法 &#40;Analysis Services 資料採礦&#41;](data-mining-algorithms-analysis-services-data-mining.md) [Microsoft 線性回歸演算法技術參考](microsoft-linear-regression-algorithm-technical-reference.md)[線性回歸模型查詢範例](linear-regression-model-query-examples.md)[線性回歸模型的採礦模型內容 &#40;Analysis Services-資料採礦&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)</span><span class="sxs-lookup"><span data-stu-id="2fcc7-154">[Data Mining Algorithms &#40;Analysis Services - Data Mining&#41;](data-mining-algorithms-analysis-services-data-mining.md) [Microsoft Linear Regression Algorithm Technical Reference](microsoft-linear-regression-algorithm-technical-reference.md) [Linear Regression Model Query Examples](linear-regression-model-query-examples.md) [Mining Model Content for Linear Regression Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)</span></span>


