---
title: 使用 SQL Server Profiler 來監視資料採礦 (Analysis Services-資料採礦) |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Profiler [SQL Server Profiler], Analysis Services
ms.assetid: 655ac93c-5c5c-4565-914b-915327f7d349
author: minewiskan
ms.author: owend
ms.openlocfilehash: eb59d122e07a51c6546eee8affd31cc9eea1028b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584821"
---
# <a name="using-sql-server-profiler-to-monitor-data-mining-analysis-services---data-mining"></a><span data-ttu-id="d7deb-102">使用 SQL Server Profiler 監視資料採礦 (Analysis Services - 資料採礦)</span><span class="sxs-lookup"><span data-stu-id="d7deb-102">Using SQL Server Profiler to Monitor Data Mining (Analysis Services - Data Mining)</span></span>
  <span data-ttu-id="d7deb-103">如果您有必要的權限，可以使用 SQL Server Profiler 來監視資料採礦活動，這些活動會當做傳送給 SQL Server Analysis Services 執行個體的要求來發行。</span><span class="sxs-lookup"><span data-stu-id="d7deb-103">If you have the necessary permissions, you can use SQL Server Profiler to monitor data mining activities that are issued as requests sent to an instance of SQL Server Analysis Services.</span></span> <span data-ttu-id="d7deb-104">資料採礦活動可包括模型或結構的處理、預測查詢或內容查詢，或是新模型或結構的建立。</span><span class="sxs-lookup"><span data-stu-id="d7deb-104">Data mining activity can include the processing of models or structures, prediction queries or content queries, or the creation of new models or structures.</span></span>  
  
 <span data-ttu-id="d7deb-105">SQL Server Profiler 會使用 `trace` 監視從多個用戶端傳送的要求，包括 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]、SQL Server Management Studio、Web 服務或是適用於 Excel 的資料採礦增益集，只要這些活動全都使用相同的 SQL Server Analysis Services 執行個體即可。</span><span class="sxs-lookup"><span data-stu-id="d7deb-105">SQL Server Profiler uses a `trace` to monitor requests sent from multiple clients, including [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], SQL Server Management Studio, Web services, or the Data Mining Add-ins for Excel, so long as the activities all use the same instance of SQL Server Analysis Services.</span></span> <span data-ttu-id="d7deb-106">您必須針對您想要監視的每一個 SQL Server Analysis Services 執行個體建立個別的追蹤。</span><span class="sxs-lookup"><span data-stu-id="d7deb-106">You must create a separate trace for each instance of SQL Server Analysis Services that you want to monitor.</span></span> <span data-ttu-id="d7deb-107">如需追蹤及如何使用 SQL Server Profiler 的一般資訊，請參閱 [使用 SQL Server Profiler 監視 Analysis Services](../instances/use-sql-server-profiler-to-monitor-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d7deb-107">For general information about traces, and how to use SQL Server Profiler, see [Use SQL Server Profiler to Monitor Analysis Services](../instances/use-sql-server-profiler-to-monitor-analysis-services.md).</span></span>  
  
 <span data-ttu-id="d7deb-108">如需擷取事件類型的特定指引，請參閱[建立 Profiler 追蹤以重新執行 &#40;Analysis Services&#41;](../instances/create-profiler-traces-for-replay-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d7deb-108">For specific guidance about the types of events to capture, see [Create Profiler Traces for Replay &#40;Analysis Services&#41;](../instances/create-profiler-traces-for-replay-analysis-services.md).</span></span>  
  
## <a name="using-traces-to-monitor-data-mining"></a><span data-ttu-id="d7deb-109">使用追蹤來監視資料採礦</span><span class="sxs-lookup"><span data-stu-id="d7deb-109">Using Traces to Monitor Data Mining</span></span>  
 <span data-ttu-id="d7deb-110">當您在追蹤內擷取資訊時，可以指定該資訊是要儲存到檔案中還是 SQL Server 執行個體的資料表中。</span><span class="sxs-lookup"><span data-stu-id="d7deb-110">When you capture information in a trace, you can specify whether the information is saved in a file or in a table on an instance of SQL Server.</span></span> <span data-ttu-id="d7deb-111">不論您用來儲存資料的方法為何，您都可以使用 SQL Server Profiler 來檢視追蹤及根據事件篩選。</span><span class="sxs-lookup"><span data-stu-id="d7deb-111">Regardless of the method you use to store the data, you can use SQL Server Profiler to view the trace and filter by events.</span></span> <span data-ttu-id="d7deb-112">下表列出在預設 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 追蹤內對於資料採礦有興趣的一些事件和子類別。</span><span class="sxs-lookup"><span data-stu-id="d7deb-112">The following table lists some of the events and subclasses in the default [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] trace that are of interest for data mining.</span></span>  
  
|<span data-ttu-id="d7deb-113">EventClass</span><span class="sxs-lookup"><span data-stu-id="d7deb-113">EventClass</span></span>|<span data-ttu-id="d7deb-114">EventSubclass</span><span class="sxs-lookup"><span data-stu-id="d7deb-114">EventSubclass</span></span>|<span data-ttu-id="d7deb-115">描述</span><span class="sxs-lookup"><span data-stu-id="d7deb-115">Description</span></span>|  
|----------------|-------------------|-----------------|  
|<span data-ttu-id="d7deb-116">**查詢開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-116">**Query Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-117">**查詢結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-117">**Query End**</span></span>|<span data-ttu-id="d7deb-118">**0 - MDXQuery**</span><span class="sxs-lookup"><span data-stu-id="d7deb-118">**0 - MDXQuery**</span></span>|<span data-ttu-id="d7deb-119">包含所有 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 預存程序呼叫的文字。</span><span class="sxs-lookup"><span data-stu-id="d7deb-119">Contains the text of all calls to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] stored procedures.</span></span>|  
|<span data-ttu-id="d7deb-120">**查詢開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-120">**Query Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-121">**查詢結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-121">**Query End**</span></span>|<span data-ttu-id="d7deb-122">**1 - DMXQuery**</span><span class="sxs-lookup"><span data-stu-id="d7deb-122">**1 - DMXQuery**</span></span>|<span data-ttu-id="d7deb-123">包含資料採礦延伸模組 (DMX) 陳述式的文字和結果。</span><span class="sxs-lookup"><span data-stu-id="d7deb-123">Contains the text and results of Data Mining Extensions (DMX) statements.</span></span>|  
|<span data-ttu-id="d7deb-124">**進度報告開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-124">**Progress Report Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-125">**進度報告結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-125">**Progress Report End**</span></span>|<span data-ttu-id="d7deb-126">**34 - DataMiningProgress**</span><span class="sxs-lookup"><span data-stu-id="d7deb-126">**34 - DataMiningProgress**</span></span>|<span data-ttu-id="d7deb-127">提供有關資料採礦演算法之進度的資訊：例如，如果您正在建立群集模型，進度訊息會告訴您正在建立哪一個候選群集。</span><span class="sxs-lookup"><span data-stu-id="d7deb-127">Provides information about the progress of the data mining algorithm: for example, if you are building a clustering model, the progress message tells you which candidate cluster is being built</span></span>|  
|<span data-ttu-id="d7deb-128">**查詢開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-128">**Query Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-129">**查詢結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-129">**Query End**</span></span>|<span data-ttu-id="d7deb-130">EXECUTESQL</span><span class="sxs-lookup"><span data-stu-id="d7deb-130">EXECUTESQL</span></span>|<span data-ttu-id="d7deb-131">包含所執行之 ransact-SQL 查詢的文字。</span><span class="sxs-lookup"><span data-stu-id="d7deb-131">Contains the text of the Transact-SQL query that is being executed</span></span>|  
|<span data-ttu-id="d7deb-132">**查詢開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-132">**Query Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-133">**查詢結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-133">**Query End**</span></span>|<span data-ttu-id="d7deb-134">**2-SQLQuery**</span><span class="sxs-lookup"><span data-stu-id="d7deb-134">**2- SQLQuery**</span></span>|<span data-ttu-id="d7deb-135">包含針對系統資料表形式之結構描述資料列集執行之任何查詢的文字。</span><span class="sxs-lookup"><span data-stu-id="d7deb-135">Contains the text of any queries against the schema rowsets in the form of system tables.</span></span>|  
|<span data-ttu-id="d7deb-136">**探索開始**</span><span class="sxs-lookup"><span data-stu-id="d7deb-136">**DISCOVER Begin**</span></span><br /><br /> <span data-ttu-id="d7deb-137">**探索結束**</span><span class="sxs-lookup"><span data-stu-id="d7deb-137">**DISCOVER End**</span></span>|<span data-ttu-id="d7deb-138">多個</span><span class="sxs-lookup"><span data-stu-id="d7deb-138">Multiple</span></span>|<span data-ttu-id="d7deb-139">包含 DMX 函數呼叫或 DISCOVER 陳述式 (封裝在 XMLA 內) 的文字。</span><span class="sxs-lookup"><span data-stu-id="d7deb-139">Contains the text of DMX function calls or DISCOVER statements, encapsulated in XMLA.</span></span>|  
|<span data-ttu-id="d7deb-140">**錯誤**</span><span class="sxs-lookup"><span data-stu-id="d7deb-140">**Error**</span></span>|<span data-ttu-id="d7deb-141">(無)</span><span class="sxs-lookup"><span data-stu-id="d7deb-141">(none)</span></span>|<span data-ttu-id="d7deb-142">包含由伺服器傳送給用戶端之錯誤的文字。</span><span class="sxs-lookup"><span data-stu-id="d7deb-142">Contains the text of errors sent by the server to the client.</span></span><br /><br /> <span data-ttu-id="d7deb-143">前置 **Error (Data Mining):** 或 **Informational (Data Mining):** (為了回應 DMX 要求所特別產生) 的錯誤訊息。</span><span class="sxs-lookup"><span data-stu-id="d7deb-143">Error messages prefaced with **Error (Data Mining):** or **Informational (Data Mining):** are generated specifically in response to DMX requests.</span></span> <span data-ttu-id="d7deb-144">但是，只檢視這些錯誤訊息是不夠的。</span><span class="sxs-lookup"><span data-stu-id="d7deb-144">However, it not sufficient to view only these error messages.</span></span> <span data-ttu-id="d7deb-145">其他錯誤 (例如剖析器產生的錯誤) 可能會與資料採礦相關，但是沒有此前置詞。</span><span class="sxs-lookup"><span data-stu-id="d7deb-145">Other errors, such as those generated by the parser, may be related to data mining but do not have this prefix.</span></span>|  
  
 <span data-ttu-id="d7deb-146">您也可以藉由檢視追蹤記錄內的命令陳述式，查看用戶端傳送給 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 伺服器之複雜陳述式的語法，包括系統預存程序的呼叫。</span><span class="sxs-lookup"><span data-stu-id="d7deb-146">By viewing the command statements in the trace log, you can also see the syntax of complex statements sent by the client to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server, including calls to system stored procedures.</span></span> <span data-ttu-id="d7deb-147">此資訊對於偵錯很有幫助，或者您也可以使用有效的陳述式當做範本來建立新的預測查詢或模型。</span><span class="sxs-lookup"><span data-stu-id="d7deb-147">This information can be useful for debugging, or you can use valid statements as a template for creating new prediction queries or models.</span></span> <span data-ttu-id="d7deb-148">如需您可以透過追蹤擷取之預存程序呼叫的一些範例，請參閱 [叢集模型查詢範例](clustering-model-query-examples.md)。</span><span class="sxs-lookup"><span data-stu-id="d7deb-148">For some examples of stored procedure calls that you can capture via a trace, see [Clustering Model Query Examples](clustering-model-query-examples.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d7deb-149">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d7deb-149">See Also</span></span>  
 <span data-ttu-id="d7deb-150">[監視 Analysis Services 實例](../instances/monitor-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="d7deb-150">[Monitor an Analysis Services Instance](../instances/monitor-an-analysis-services-instance.md) </span></span>  
 [<span data-ttu-id="d7deb-151">使用 SQL Server 擴充事件 &#40;XEvents&#41; 監視 Analysis Services</span><span class="sxs-lookup"><span data-stu-id="d7deb-151">Use SQL Server Extended Events &#40;XEvents&#41; to Monitor Analysis Services</span></span>](../instances/monitor-analysis-services-with-sql-server-extended-events.md)  
  
  
