---
title: 交叉驗證公式 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: fd1ea582-29a1-4154-8de2-47bab3539b4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 878d88f695b2cdbf3c999c54568304accc54e3d9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87594848"
---
# <a name="cross-validation-formulas"></a><span data-ttu-id="87127-102">交叉驗證公式</span><span class="sxs-lookup"><span data-stu-id="87127-102">Cross-Validation Formulas</span></span>
  <span data-ttu-id="87127-103">當您產生交叉驗證報表時，報表會根據採礦模型類型包含每一個模型的精確度量值 (也就是之前用來建立模型的演算法)、可預測屬性的資料類型，以及可預測的屬性值 (如果有的話)。</span><span class="sxs-lookup"><span data-stu-id="87127-103">When you generate a cross-validation report, it contains accuracy measures for each model, depending on the type of mining model (that is, the algorithm that was used to create the model), the data type of the predictable attribute, and the predictable attribute value, if any.</span></span>  
  
 <span data-ttu-id="87127-104">本節列出交叉驗證報表中所使用的量值，並描述計算的方法。</span><span class="sxs-lookup"><span data-stu-id="87127-104">This section lists the measures used in the cross-validation report and describes the method of calculation.</span></span>  
  
 <span data-ttu-id="87127-105">如需依模型類型的精確度量值分解，請參閱 [交叉驗證報表中的量值](measures-in-the-cross-validation-report.md)。</span><span class="sxs-lookup"><span data-stu-id="87127-105">For a breakdown of the accuracy measures by model type, see [Measures in the Cross-Validation Report](measures-in-the-cross-validation-report.md).</span></span>  
  
## <a name="formulas-used-for-cross-validation-measures"></a><span data-ttu-id="87127-106">交叉驗證量值所使用的公式</span><span class="sxs-lookup"><span data-stu-id="87127-106">Formulas used for Cross-Validation Measures</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="87127-107">**重要事項** ：這些精確度量值是針對每一個目標屬性計算而得。</span><span class="sxs-lookup"><span data-stu-id="87127-107">**Important:** These measures of accuracy are computed for each target attribute.</span></span> <span data-ttu-id="87127-108">您可以針對每一個屬性指定或省略目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-108">For each attribute you can specify or omit a target value.</span></span> <span data-ttu-id="87127-109">如果資料集內的案例沒有任何目標屬性值，此案例會視為擁有特殊值，稱為 *「遺漏值」*(Missing Value)。</span><span class="sxs-lookup"><span data-stu-id="87127-109">If a case in the data set does not have any value for the target attribute, the case is treated as having a special value called the *missing value*.</span></span> <span data-ttu-id="87127-110">計算特定目標屬性的精確度量值時，不會計算有遺漏值的資料列。</span><span class="sxs-lookup"><span data-stu-id="87127-110">Rows that have missing values are not counted when computing the accuracy measure for a particular target attribute.</span></span> <span data-ttu-id="87127-111">請注意，由於分數是分別針對每一個屬性計算而得，因此如果目標屬性的值存在，而其他屬性有遺漏值，這樣並不會影響目標屬性的分數。</span><span class="sxs-lookup"><span data-stu-id="87127-111">Note that because the scores are computed for each attribute individually, if values are present for the target attribute but missing for other attributes, it does not affect the score for the target attribute.</span></span>  
  
|<span data-ttu-id="87127-112">Measure</span><span class="sxs-lookup"><span data-stu-id="87127-112">Measure</span></span>|<span data-ttu-id="87127-113">套用至</span><span class="sxs-lookup"><span data-stu-id="87127-113">Applies To</span></span>|<span data-ttu-id="87127-114">實作</span><span class="sxs-lookup"><span data-stu-id="87127-114">Implementation</span></span>|  
|-------------|----------------|--------------------|  
|<span data-ttu-id="87127-115">**真肯定**</span><span class="sxs-lookup"><span data-stu-id="87127-115">**True positive**</span></span>|<span data-ttu-id="87127-116">離散屬性，已指定值</span><span class="sxs-lookup"><span data-stu-id="87127-116">Discrete attribute, value is specified</span></span>|<span data-ttu-id="87127-117">符合這些條件的案例計數：</span><span class="sxs-lookup"><span data-stu-id="87127-117">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="87127-118">案例包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-118">Case contains the target value.</span></span><br /><br /> <span data-ttu-id="87127-119">模型預測出案例包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-119">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="87127-120">**真否定**</span><span class="sxs-lookup"><span data-stu-id="87127-120">**True Negative**</span></span>|<span data-ttu-id="87127-121">離散屬性，已指定值</span><span class="sxs-lookup"><span data-stu-id="87127-121">Discrete attribute, value is specified</span></span>|<span data-ttu-id="87127-122">符合這些條件的案例計數：</span><span class="sxs-lookup"><span data-stu-id="87127-122">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="87127-123">案例不包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-123">Case does not contain the target value.</span></span><br /><br /> <span data-ttu-id="87127-124">模型預測出案例不包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-124">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="87127-125">**錯誤正面**</span><span class="sxs-lookup"><span data-stu-id="87127-125">**False positive**</span></span>|<span data-ttu-id="87127-126">離散屬性，已指定值</span><span class="sxs-lookup"><span data-stu-id="87127-126">Discrete attribute, value is specified</span></span>|<span data-ttu-id="87127-127">符合這些條件的案例計數：</span><span class="sxs-lookup"><span data-stu-id="87127-127">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="87127-128">實際的值等於目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-128">Actual value is equal to target value.</span></span><br /><br /> <span data-ttu-id="87127-129">模型預測出案例包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-129">Model predicted that case contains the target value.</span></span>|  
|<span data-ttu-id="87127-130">**誤否定**</span><span class="sxs-lookup"><span data-stu-id="87127-130">**False Negative**</span></span>|<span data-ttu-id="87127-131">離散屬性，已指定值</span><span class="sxs-lookup"><span data-stu-id="87127-131">Discrete attribute, value is specified</span></span>|<span data-ttu-id="87127-132">符合這些條件的案例計數：</span><span class="sxs-lookup"><span data-stu-id="87127-132">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="87127-133">實際的值不等於目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-133">Actual value not equal to target value.</span></span><br /><br /> <span data-ttu-id="87127-134">模型預測出案例不包含目標值。</span><span class="sxs-lookup"><span data-stu-id="87127-134">Model predicted that case does not contain the target value.</span></span>|  
|<span data-ttu-id="87127-135">**通過/失敗**</span><span class="sxs-lookup"><span data-stu-id="87127-135">**Pass/fail**</span></span>|<span data-ttu-id="87127-136">離散屬性，沒有指定的目標</span><span class="sxs-lookup"><span data-stu-id="87127-136">Discrete attribute, no specified target</span></span>|<span data-ttu-id="87127-137">符合這些條件的案例計數：</span><span class="sxs-lookup"><span data-stu-id="87127-137">Count of cases that meet these conditions:</span></span><br /><br /> <span data-ttu-id="87127-138">如果具有最高機率的預測狀態與輸入狀態相同，且機率大於 [狀態臨界值]\*\*\*\* 的值，則通過。</span><span class="sxs-lookup"><span data-stu-id="87127-138">Pass if the predicted state with the highest probability is the same as the input state and probability is greater than the value of **State Threshold**.</span></span><br /><br /> <span data-ttu-id="87127-139">否則為失敗。</span><span class="sxs-lookup"><span data-stu-id="87127-139">Otherwise, fail.</span></span>|  
|<span data-ttu-id="87127-140">**升降**</span><span class="sxs-lookup"><span data-stu-id="87127-140">**Lift**</span></span>|<span data-ttu-id="87127-141">離散屬性。</span><span class="sxs-lookup"><span data-stu-id="87127-141">Discrete attribute.</span></span> <span data-ttu-id="87127-142">您可以指定目標值，但並非必要條件。</span><span class="sxs-lookup"><span data-stu-id="87127-142">Target value can be specified but is not required.</span></span>|<span data-ttu-id="87127-143">包含目標屬性值之所有資料列的平均對數可能性，其中每一個案例的對數可能性會計算為 Log(ActualProbability/MarginalProbability)。</span><span class="sxs-lookup"><span data-stu-id="87127-143">The mean log likelihood for all rows with values for the target attribute, where log likelihood for each case is calculated as Log(ActualProbability/MarginalProbability).</span></span> <span data-ttu-id="87127-144">若要計算平均值，會將對數概似值的總和除以輸入資料集中的資料列數，不包括目標屬性擁有遺漏值的資料列。</span><span class="sxs-lookup"><span data-stu-id="87127-144">To compute the mean, the sum of the log likelihood values is divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="87127-145">增益可以是負值或正值。</span><span class="sxs-lookup"><span data-stu-id="87127-145">Lift can be either a negative or positive value.</span></span> <span data-ttu-id="87127-146">正值代表優於隨機猜測的有效模型。</span><span class="sxs-lookup"><span data-stu-id="87127-146">A positive value means an effective model that outperforms the random guess.</span></span>|  
|<span data-ttu-id="87127-147">**對數分數**</span><span class="sxs-lookup"><span data-stu-id="87127-147">**Log score**</span></span>|<span data-ttu-id="87127-148">離散屬性。</span><span class="sxs-lookup"><span data-stu-id="87127-148">Discrete attribute.</span></span> <span data-ttu-id="87127-149">您可以指定目標值，但並非必要條件。</span><span class="sxs-lookup"><span data-stu-id="87127-149">Target value can be specified but is not required.</span></span>|<span data-ttu-id="87127-150">每一個案例之實際機率的對數，經過加總，然後除以輸入資料集中的資料列數目，不包括目標屬性擁有遺漏值的資料列。</span><span class="sxs-lookup"><span data-stu-id="87127-150">Log of the actual probability for each case, summed, and then divided by the number of rows in the input dataset, excluding rows with missing values for the target attribute.</span></span><br /><br /> <span data-ttu-id="87127-151">由於機率會以小數表示，因此對數分數永遠為負數。</span><span class="sxs-lookup"><span data-stu-id="87127-151">Because probability is represented as a decimal fraction, log scores are always negative numbers.</span></span> <span data-ttu-id="87127-152">分數越接近 0，表示得分越高。</span><span class="sxs-lookup"><span data-stu-id="87127-152">A score that is closer to 0 is a better score.</span></span>|  
|<span data-ttu-id="87127-153">**案例可能性**</span><span class="sxs-lookup"><span data-stu-id="87127-153">**Case likelihood**</span></span>|<span data-ttu-id="87127-154">叢集</span><span class="sxs-lookup"><span data-stu-id="87127-154">Cluster</span></span>|<span data-ttu-id="87127-155">所有案例的叢集概似值分數總和，除以資料分割中的案例數目，不包括目標屬性擁有遺漏值的資料列。</span><span class="sxs-lookup"><span data-stu-id="87127-155">Sum of the cluster likelihood scores for all cases, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="87127-156">**平均絕對誤差**</span><span class="sxs-lookup"><span data-stu-id="87127-156">**Mean absolute error**</span></span>|<span data-ttu-id="87127-157">連續屬性</span><span class="sxs-lookup"><span data-stu-id="87127-157">Continuous attribute</span></span>|<span data-ttu-id="87127-158">資料分割中所有案例的絕對錯誤總和，除以資料分割中的案例數目。</span><span class="sxs-lookup"><span data-stu-id="87127-158">Sum of the absolute error for all cases in the partition, divided by the number of cases in the partition.</span></span>|  
|<span data-ttu-id="87127-159">**根平均平方誤差**</span><span class="sxs-lookup"><span data-stu-id="87127-159">**Root mean square error**</span></span>|<span data-ttu-id="87127-160">連續屬性</span><span class="sxs-lookup"><span data-stu-id="87127-160">Continuous attribute</span></span>|<span data-ttu-id="87127-161">資料分割之均方誤差的平方根。</span><span class="sxs-lookup"><span data-stu-id="87127-161">Square root of the mean squared error for the partition.</span></span>|  
|<span data-ttu-id="87127-162">**均方根誤差**</span><span class="sxs-lookup"><span data-stu-id="87127-162">**Root mean squared error**</span></span>|<span data-ttu-id="87127-163">離散屬性。</span><span class="sxs-lookup"><span data-stu-id="87127-163">Discrete attribute.</span></span> <span data-ttu-id="87127-164">您可以指定目標值，但並非必要條件。</span><span class="sxs-lookup"><span data-stu-id="87127-164">Target value can be specified but is not required.</span></span>|<span data-ttu-id="87127-165">機率分數補數平方之平均數的平方根，除以資料分割中的案例數目，不包括目標屬性擁有遺漏值的資料列。</span><span class="sxs-lookup"><span data-stu-id="87127-165">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding rows with missing values for the target attribute.</span></span>|  
|<span data-ttu-id="87127-166">**均方根誤差**</span><span class="sxs-lookup"><span data-stu-id="87127-166">**Root mean squared error**</span></span>|<span data-ttu-id="87127-167">離散屬性，沒有指定的目標。</span><span class="sxs-lookup"><span data-stu-id="87127-167">Discrete attribute, no specified target.</span></span>|<span data-ttu-id="87127-168">機率分數補數平方之平均數的平方根，除以資料分割中的案例數目，不包括目標屬性擁有遺漏值的案例。</span><span class="sxs-lookup"><span data-stu-id="87127-168">Square root of the mean of the squares of complement of the probability score, divided by the number of cases in the partition, excluding cases with missing values for the target attribute.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="87127-169">另請參閱</span><span class="sxs-lookup"><span data-stu-id="87127-169">See Also</span></span>  
 <span data-ttu-id="87127-170">[測試和驗證 &#40;資料採礦&#41;](testing-and-validation-data-mining.md) </span><span class="sxs-lookup"><span data-stu-id="87127-170">[Testing and Validation &#40;Data Mining&#41;](testing-and-validation-data-mining.md) </span></span>  
 [<span data-ttu-id="87127-171">交叉驗證 &#40;Analysis Services - 資料採礦&#41;</span><span class="sxs-lookup"><span data-stu-id="87127-171">Cross-Validation &#40;Analysis Services - Data Mining&#41;</span></span>](cross-validation-analysis-services-data-mining.md)  
  
  
