---
title: 建立和管理本機資料分割 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 05/24/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- local partitions [Analysis Services]
- partitions [Analysis Services], local
- partitions [Analysis Services], creating
ms.assetid: eaa95278-9ce9-47d5-a6b6-1046e7076599
author: minewiskan
ms.author: owend
ms.openlocfilehash: 7251f9e9422a79c214d27d913112a28ff43d56b1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584765"
---
# <a name="create-and-manage-a-local-partition-analysis-services"></a><span data-ttu-id="58e5f-102">建立及管理本機分割區 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="58e5f-102">Create and Manage a Local Partition (Analysis Services)</span></span>
  <span data-ttu-id="58e5f-103">您可以建立其他分割區，讓量值群組能夠改善處理效能。</span><span class="sxs-lookup"><span data-stu-id="58e5f-103">You can create additional partitions for a measure group to improve processing performance.</span></span> <span data-ttu-id="58e5f-104">擁有多個分割區可讓您在本機和遠端伺服器上，跨對應數目的實體資料檔案以配置事實資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-104">Having multiple partitions allows you to allocate fact data across a corresponding number of physical data files on local as well as remote servers.</span></span> <span data-ttu-id="58e5f-105">在 Analysis Services 中，分割區可以獨立及平行處理，讓您在伺服器上處理工作負載時，能夠有更強的控制力。</span><span class="sxs-lookup"><span data-stu-id="58e5f-105">In Analysis Services, partitions can be processed independently and in parallel, giving you more control over processing workloads on the server.</span></span>

 <span data-ttu-id="58e5f-106">您可以在模型設計期間，於 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 中建立分割區，或是在部署方案之後，使用 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 或 XMLA 來建立分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-106">Partitions can be created in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] during model design, or after the solution is deployed using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or XMLA.</span></span> <span data-ttu-id="58e5f-107">建議您選取一種方法就好。</span><span class="sxs-lookup"><span data-stu-id="58e5f-107">We recommend that you choose one approach only.</span></span> <span data-ttu-id="58e5f-108">如果您交替使用這兩種工具，可能會發現，當您後續從 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 重新部署方案時，先前在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]中對已部署的資料庫所做的變更會被覆寫。</span><span class="sxs-lookup"><span data-stu-id="58e5f-108">If you alternate between tools, you might find that changes made to a deployed database in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] are overwritten when you subsequently redeploy the solution from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span>

## <a name="before-you-start"></a><span data-ttu-id="58e5f-109">開始之前</span><span class="sxs-lookup"><span data-stu-id="58e5f-109">Before you start</span></span>
 <span data-ttu-id="58e5f-110">檢查您是否有 Business Intelligence 版或 Enterprise 版。</span><span class="sxs-lookup"><span data-stu-id="58e5f-110">Check whether you have either the business intelligence edition or enterprise edition.</span></span> <span data-ttu-id="58e5f-111">Standard 版不支援多個分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-111">Standard edition does not support multiple partitions.</span></span> <span data-ttu-id="58e5f-112">若要檢查版本，請以滑鼠右鍵按一下中的伺服器節點 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] ，然後選擇 [**報表**]  |  **[一般**]。</span><span class="sxs-lookup"><span data-stu-id="58e5f-112">To check the edition, right-click the server node in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] and choose **Reports** | **General**.</span></span> <span data-ttu-id="58e5f-113">如需功能可用性的詳細資訊，請參閱[SQL Server 2014 版本所支援的功能](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)。</span><span class="sxs-lookup"><span data-stu-id="58e5f-113">For more information about feature availability, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>

 <span data-ttu-id="58e5f-114">一開始時就務必了解，如果您之後要將分割區合併，則其必須共用相同的彙總設計。</span><span class="sxs-lookup"><span data-stu-id="58e5f-114">From the outset, it's important to understand that partitions must share the same aggregation design if you want to merge them later.</span></span> <span data-ttu-id="58e5f-115">分割區必須要有相同的彙總設計及儲存模式，才能進行合併。</span><span class="sxs-lookup"><span data-stu-id="58e5f-115">Partitions can be merged only if they have identical aggregation designs and storage modes.</span></span>

> [!TIP]
>  <span data-ttu-id="58e5f-116">瀏覽資料來源檢視 (DSV) 中的資料，以了解您要分割之資料的範圍和深度。</span><span class="sxs-lookup"><span data-stu-id="58e5f-116">Explore the data in Data Source View (DSV) to understand the range and depth of the data you are partitioning.</span></span> <span data-ttu-id="58e5f-117">例如，如果是依日期進行分割區，則可在日期資料行排序，以決定每個分割區的上限和下限。</span><span class="sxs-lookup"><span data-stu-id="58e5f-117">For example, if partitioning by date, you can sort on a date column to determine the upper and lower bounds of each partition.</span></span>

## <a name="choose-an-approach"></a><span data-ttu-id="58e5f-118">選擇方式</span><span class="sxs-lookup"><span data-stu-id="58e5f-118">Choose an approach</span></span>
 <span data-ttu-id="58e5f-119">在建立分割區時，最重要的考量就是要分割資料，以避免重複的資料列。</span><span class="sxs-lookup"><span data-stu-id="58e5f-119">The most important consideration when creating partitions is to segment the data so that there are no duplicate rows.</span></span> <span data-ttu-id="58e5f-120">資料必須儲存在一個且單一的分割區中，以免重複計算任何資料列。</span><span class="sxs-lookup"><span data-stu-id="58e5f-120">Data must be stored in one, and only one, partition to avoid double counting any rows.</span></span> <span data-ttu-id="58e5f-121">因此，常會依日期進行分割區，這樣您就可以在各分割區之間定義清楚的界限。</span><span class="sxs-lookup"><span data-stu-id="58e5f-121">As such, it's common to partition by DATE so that you can define clear boundaries between each partition.</span></span>

 <span data-ttu-id="58e5f-122">您可以使用下列任一技術，在跨多個分割區間散發事實資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-122">You can use either technique to distribute the fact data across multiple partitions.</span></span> <span data-ttu-id="58e5f-123">下列技術可用來分割資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-123">The following techniques can be used to segment the data.</span></span>

|<span data-ttu-id="58e5f-124">技巧</span><span class="sxs-lookup"><span data-stu-id="58e5f-124">Technique</span></span>|<span data-ttu-id="58e5f-125">建議</span><span class="sxs-lookup"><span data-stu-id="58e5f-125">Recommendations</span></span>|
|---------------|---------------------|
|<span data-ttu-id="58e5f-126">使用 SQL 查詢來分割事實資料</span><span class="sxs-lookup"><span data-stu-id="58e5f-126">Use SQL queries to segment fact data</span></span>|<span data-ttu-id="58e5f-127">分割區可以來自 SQL 查詢。</span><span class="sxs-lookup"><span data-stu-id="58e5f-127">Partitions can be sourced from SQL queries.</span></span> <span data-ttu-id="58e5f-128">在處理期間，SQL 查詢的目的是要擷取資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-128">During processing, the SQL query is to retrieve the data.</span></span> <span data-ttu-id="58e5f-129">該查詢的 WHERE 子句會針對每個分割區，提供分割資料的篩選。</span><span class="sxs-lookup"><span data-stu-id="58e5f-129">The query's WHERE clause provides the filter that segments the data for each partition.</span></span> <span data-ttu-id="58e5f-130">Analysis Services 會為您產生查詢，但是您必須完整填寫 WHERE 子句，才能正確地分割資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-130">Analysis Services generates the query for you, but you must fill in the WHERE clause to properly segment the data.</span></span><br /><br /> <span data-ttu-id="58e5f-131">您可以輕易地分割來自單一來源資料表的資料是這個方法的主要優點。</span><span class="sxs-lookup"><span data-stu-id="58e5f-131">The primary advantage of this approach is the ease with which you can partition data from a single source table.</span></span> <span data-ttu-id="58e5f-132">如果所有來源資料皆來自大型事實資料表，您可以建立查詢，將該資料篩選至不同分割區中，而不需要在資料來源檢視 (DSV) 中建立額外的資料結構。</span><span class="sxs-lookup"><span data-stu-id="58e5f-132">If all of the source data originates from a large fact table, you can build queries that filter that data into discrete partitions, without having to create additional data structures in the Data Source View (DSV).</span></span><br /><br /> <span data-ttu-id="58e5f-133">但有一個缺點，就是使用查詢會中斷分割區與 DSV 之間的繫結。</span><span class="sxs-lookup"><span data-stu-id="58e5f-133">One disadvantage is that using queries will break the binding between the partition and the DSV.</span></span> <span data-ttu-id="58e5f-134">如果您之後要更新 Analysis Services 專案中的 DSV (例如新增資料行至事實資料表)，則必須手動編輯每個分割區的查詢，以包含新的資料行。</span><span class="sxs-lookup"><span data-stu-id="58e5f-134">If you later update the DSV in the Analysis Services project, such as adding columns to the fact table, you must manually edit the queries for each partition to include the new column.</span></span> <span data-ttu-id="58e5f-135">接下來要討論的第二種方法，則沒有這個缺點。</span><span class="sxs-lookup"><span data-stu-id="58e5f-135">The second approach, discussed next, does not have this disadvantage.</span></span>|
|<span data-ttu-id="58e5f-136">使用 DSV 中的資料表以分割事實資料</span><span class="sxs-lookup"><span data-stu-id="58e5f-136">Use tables in the DSV to segment fact data</span></span>|<span data-ttu-id="58e5f-137">您可以將分割區繫結至 DSV 中的資料表、具名查詢或檢視。</span><span class="sxs-lookup"><span data-stu-id="58e5f-137">You can bind a partition to a table, named query, or view in the DSV.</span></span> <span data-ttu-id="58e5f-138">這三個都是分割區的基礎，且功能皆相同。</span><span class="sxs-lookup"><span data-stu-id="58e5f-138">As the basis of a partition, all three are functionally equivalent.</span></span> <span data-ttu-id="58e5f-139">整個資料表、具名查詢或檢視會提供所有資料給單一分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-139">The entire table, named query, or view provides all of the data to a single partition.</span></span><br /><br /> <span data-ttu-id="58e5f-140">使用資料表、檢視或具名查詢會將所有資料選取邏輯放在 DSV 中，隨著時間會愈來愈容易管理及維護。</span><span class="sxs-lookup"><span data-stu-id="58e5f-140">Using a table, view, or named query places all of the data selection logic in the DSV, which can be easier to manage and maintain over time.</span></span> <span data-ttu-id="58e5f-141">這個方法的重要優點是會保留資料表繫結。</span><span class="sxs-lookup"><span data-stu-id="58e5f-141">An important advantage to this approach is that table bindings are preserved.</span></span> <span data-ttu-id="58e5f-142">如果您之後更新來源資料表，並不需要修改使用它的分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-142">If you update the source table later, you do not have to modify the partitions that use it.</span></span> <span data-ttu-id="58e5f-143">其次，所有資料表，具名查詢和檢視都存在於一個共同的工作空間，這讓更新更為方便，且不需要個別開啟和編輯分割區查詢。</span><span class="sxs-lookup"><span data-stu-id="58e5f-143">Secondly, all of the tables, named queries and views exist in a common work space, making updates more convenient than having to open and edit partition queries individually.</span></span>|

## <a name="option-1-filter-a-fact-table-for-multiple-partitions"></a><span data-ttu-id="58e5f-144">選項 1：篩選多個分割區的事實資料表</span><span class="sxs-lookup"><span data-stu-id="58e5f-144">Option 1: Filter a Fact Table for Multiple Partitions</span></span>
 <span data-ttu-id="58e5f-145">若要建立多個分割區，請於一開始先修改預設分割區的 **Source** 屬性。</span><span class="sxs-lookup"><span data-stu-id="58e5f-145">To create multiple partitions, you begin by modifying the **Source** property of the default partition.</span></span> <span data-ttu-id="58e5f-146">根據預設，量值群組是使用繫結至 DSV 中之單一資料表的單一分割區來建立的。</span><span class="sxs-lookup"><span data-stu-id="58e5f-146">By default, a measure group is created using a single partition that is bound to a single table in the DSV.</span></span> <span data-ttu-id="58e5f-147">您必須先修改原始分割區，使其只包含一部分的事實資料之後，才能加入更多分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-147">Before you can add more partitions, you must first modify the original partition to contain just a portion of the fact data.</span></span> <span data-ttu-id="58e5f-148">然後您可以繼續建立其他分割區，以儲存資料的其餘部分。</span><span class="sxs-lookup"><span data-stu-id="58e5f-148">You can then proceed to create additional partitions for storing the remainder of the data.</span></span>

 <span data-ttu-id="58e5f-149">建構您的篩選，使分割區之間的資料不要重複。</span><span class="sxs-lookup"><span data-stu-id="58e5f-149">Construct your filters such that data is not duplicated among the partitions.</span></span> <span data-ttu-id="58e5f-150">分割區的篩選會指定分割區使用事實資料表中的哪些資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-150">A partition's filter specifies which data in the fact table is used in the partition.</span></span> <span data-ttu-id="58e5f-151">在同一個 Cube 中之所有分割區的篩選，都必須從事實資料表擷取互斥的資料集，這點非常重要。</span><span class="sxs-lookup"><span data-stu-id="58e5f-151">It is important that the filters for all partitions in a cube extract mutually exclusive datasets from the fact table.</span></span> <span data-ttu-id="58e5f-152">如果相同的事實資料出現在多個分割區中，可能會重複計算。</span><span class="sxs-lookup"><span data-stu-id="58e5f-152">The same fact data might be double-counted if it appears in multiple partitions.</span></span>

1.  <span data-ttu-id="58e5f-153">在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 的方案總管中，按兩下 Cube 以在 Cube 設計師中開啟，然後按一下 [分割區]\*\*\*\* 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="58e5f-153">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], in Solution Explorer, double-click the cube to open it in Cube Designer, and then click the **Partitions** tab.</span></span>

2.  <span data-ttu-id="58e5f-154">展開要為其加入分割區的量值群組。</span><span class="sxs-lookup"><span data-stu-id="58e5f-154">Expand the measure group for which are adding partitions.</span></span> <span data-ttu-id="58e5f-155">依預設，每個量值群組都有一個分割區會繫結至 DSV 中的事實資料表。</span><span class="sxs-lookup"><span data-stu-id="58e5f-155">By default, each measure group has one partition, bound to a fact table in the DSV.</span></span>

3.  <span data-ttu-id="58e5f-156">在 Source 資料行中，按一下 [瀏覽] (.</span><span class="sxs-lookup"><span data-stu-id="58e5f-156">In the Source column, click the browse (.</span></span> <span data-ttu-id="58e5f-157">.) 按鈕，以開啟 [分割區來源] 對話方塊。</span><span class="sxs-lookup"><span data-stu-id="58e5f-157">.) button to open the Partition Source dialog box.</span></span>

     <span data-ttu-id="58e5f-158">![[分割區] 窗格中的來源資料行](../media/ssas-partitionsource.png "[分割區] 窗格中的來源資料行")</span><span class="sxs-lookup"><span data-stu-id="58e5f-158">![Source column in Partition pane](../media/ssas-partitionsource.png "Source column in Partition pane")</span></span>

4.  <span data-ttu-id="58e5f-159">在 [繫結類型] 中，選取 [查詢繫結]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="58e5f-159">In Binding Type, select **Query Binding**.</span></span> <span data-ttu-id="58e5f-160">選取資料的 SQL 查詢會自動出現。</span><span class="sxs-lookup"><span data-stu-id="58e5f-160">The SQL query that selects the data appears automatically.</span></span>

5.  <span data-ttu-id="58e5f-161">在最下面的 WHERE 子句中，新增為此分割區進行分割資料的篩選。</span><span class="sxs-lookup"><span data-stu-id="58e5f-161">In the WHERE clause at the bottom, add a filter that segments data for this partition.</span></span>

     <span data-ttu-id="58e5f-162">WHERE 子句語法的範例包括 `WHERE OrderDateKey >= '20060101'` 或 `WHERE OrderDateKey BETWEEN '20051001' AND '20051201'`。</span><span class="sxs-lookup"><span data-stu-id="58e5f-162">Examples of WHERE clause syntax include `WHERE OrderDateKey >= '20060101'` or `WHERE OrderDateKey BETWEEN '20051001' AND '20051201'`.</span></span> <span data-ttu-id="58e5f-163">如需其他範例，請參閱 [WHERE &#40;Transact-SQL&#41;](/sql/t-sql/queries/where-transact-sql)。</span><span class="sxs-lookup"><span data-stu-id="58e5f-163">For other examples, see [WHERE &#40;Transact-SQL&#41;](/sql/t-sql/queries/where-transact-sql).</span></span>

     <span data-ttu-id="58e5f-164">請注意，下列篩選在每一個集合中均為互斥：</span><span class="sxs-lookup"><span data-stu-id="58e5f-164">Notice that the following filters are mutually exclusive within each set:</span></span>

    |||
    |-|-|
    |<span data-ttu-id="58e5f-165">集合 1：</span><span class="sxs-lookup"><span data-stu-id="58e5f-165">Set 1:</span></span>|<span data-ttu-id="58e5f-166">"SaleYear" = 2012</span><span class="sxs-lookup"><span data-stu-id="58e5f-166">"SaleYear" = 2012</span></span><br /><br /> <span data-ttu-id="58e5f-167">"SaleYear" = 2013</span><span class="sxs-lookup"><span data-stu-id="58e5f-167">"SaleYear" = 2013</span></span>|
    |<span data-ttu-id="58e5f-168">集合 2：</span><span class="sxs-lookup"><span data-stu-id="58e5f-168">Set 2:</span></span>|<span data-ttu-id="58e5f-169">"Continent" = 'NorthAmerica'</span><span class="sxs-lookup"><span data-stu-id="58e5f-169">"Continent" = 'NorthAmerica'</span></span><br /><br /> <span data-ttu-id="58e5f-170">"Continent" = 'Europe'</span><span class="sxs-lookup"><span data-stu-id="58e5f-170">"Continent" = 'Europe'</span></span><br /><br /> <span data-ttu-id="58e5f-171">"Continent" = 'SouthAmerica'</span><span class="sxs-lookup"><span data-stu-id="58e5f-171">"Continent" = 'SouthAmerica'</span></span>|
    |<span data-ttu-id="58e5f-172">集合 3：</span><span class="sxs-lookup"><span data-stu-id="58e5f-172">Set 3:</span></span>|<span data-ttu-id="58e5f-173">"Country" = 'USA'</span><span class="sxs-lookup"><span data-stu-id="58e5f-173">"Country" = 'USA'</span></span><br /><br /> <span data-ttu-id="58e5f-174">"Country" = 'Mexico'</span><span class="sxs-lookup"><span data-stu-id="58e5f-174">"Country" = 'Mexico'</span></span><br /><br /> <span data-ttu-id="58e5f-175">("Country" <> 'USA' AND "Country" <> 'Mexico')</span><span class="sxs-lookup"><span data-stu-id="58e5f-175">("Country" <> 'USA' AND "Country" <> 'Mexico')</span></span>|

6.  <span data-ttu-id="58e5f-176">按一下 [檢查]\*\*\*\* 以檢查語法錯誤，然後按一下 [確定]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="58e5f-176">Click **Check** to check for syntax errors, and then click **OK**.</span></span>

7.  <span data-ttu-id="58e5f-177">重複先前的步驟以建立其餘的分割區，並每次修改 WHERE 子句，以選取下一個資料配量。</span><span class="sxs-lookup"><span data-stu-id="58e5f-177">Repeat the previous steps to create the remaining partitions, modifying the WHERE clause each time to select the next data slice.</span></span>

8.  <span data-ttu-id="58e5f-178">部署方案或處理分割區以載入資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-178">Deploy the solution or process the partition to load the data.</span></span> <span data-ttu-id="58e5f-179">請務必處理所有的分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-179">Be sure to process all partitions.</span></span>

9. <span data-ttu-id="58e5f-180">瀏覽 Cube 以驗證傳回正確的資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-180">Browse the cube to verify the correct data is returned.</span></span>

 <span data-ttu-id="58e5f-181">在您有了使用多個量值群組的量值群組之後，即可在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]中建立其他分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-181">After you have a measure group that uses multiple measure groups, you can create additional partitions in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="58e5f-182">在量值群組底下，以滑鼠右鍵按一下 Partitions 資料夾，並選取 [新增分割區]\*\*\*\* 以啟動精靈。</span><span class="sxs-lookup"><span data-stu-id="58e5f-182">Under a measure group, right-click the Partitions folder and select **New Partitions** to start the wizard.</span></span>

> [!NOTE]
>  <span data-ttu-id="58e5f-183">除了在分割區中篩選資料，您可以使用相同的查詢在 DSV 中建立具名查詢，然後以具名查詢做為分割區的基礎。</span><span class="sxs-lookup"><span data-stu-id="58e5f-183">Instead of filtering data in a partition, you can use the same query to create a name query in the DSV, and then base the partition on the named query.</span></span>

## <a name="option-2-use-tables-views-or-named-queries"></a><span data-ttu-id="58e5f-184">選項 2：使用資料表、檢視或具名查詢</span><span class="sxs-lookup"><span data-stu-id="58e5f-184">Option 2: Use Tables, Views, or Named Queries</span></span>
 <span data-ttu-id="58e5f-185">如果 DSV 已經將事實組織成個別資料表 (例如，依年份或季)，您可以根據個別資料表來建立分割區，而每個分割區都要有自己的資料來源資料表。</span><span class="sxs-lookup"><span data-stu-id="58e5f-185">If the DSV already organizes facts into individual tables (for example, by year or quarter), you can create partitions based on an individual table, where each partition has its own data source table.</span></span> <span data-ttu-id="58e5f-186">基本上，這是分割量值群組的預設方式，但是如果有多個分割區，則要將原始分割區分成多個分割區，並將每個新的分割區對應至提供資料的資料來源資料表。</span><span class="sxs-lookup"><span data-stu-id="58e5f-186">This is essentially how measure groups are partitioned by default but in the case of multiple partitions, you break the original partition into multiple partitions, and map each new partition to the data source table providing the data.</span></span>

 <span data-ttu-id="58e5f-187">檢視和具名查詢的功能相當於資料表，因為這三個物件都定義在 DSV 中，並且是使用 [分割區來源] 對話方塊中的 [資料表繫結] 選項繫結至分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-187">Views and named queries are functional equivalent to tables, in that all three objects are defined in the DSV and bound to a partition using the Table Binding option in the Partition Source dialog box.</span></span> <span data-ttu-id="58e5f-188">您可以建立檢視或具名查詢以產生每個分割區所需的資料區段。</span><span class="sxs-lookup"><span data-stu-id="58e5f-188">You can create a view or named query to generate the data segment needed for each partition.</span></span> <span data-ttu-id="58e5f-189">如需詳細資訊，請參閱[在資料來源檢視中定義具名查詢 &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="58e5f-189">For more information, see [Define Named Queries in a Data Source View &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md).</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="58e5f-190">在 DSV 中建立分割區的互斥具名查詢時，請確定分割區的結合資料，會包含您要在 Cube 中包含之量值群組的所有資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-190">When you create mutually exclusive named queries for partitions in a DSV, ensure that the combined data for the partitions includes all data from a measure group that you want to include in the cube.</span></span> <span data-ttu-id="58e5f-191">請確定您未保留以量值群組之整個資料表為基礎的預設分割區，否則以查詢為基礎的分割區，就會和以整個資料表為基礎的查詢重疊。</span><span class="sxs-lookup"><span data-stu-id="58e5f-191">Make sure that you do not leave a default partition based on the entire table for the measure group, or else the query based partitions will overlap the query based on the complete table.</span></span>

1.  <span data-ttu-id="58e5f-192">建立一個或多個具名查詢，以做為分割區來源。</span><span class="sxs-lookup"><span data-stu-id="58e5f-192">Create one or more named queries to use as the partition source.</span></span> <span data-ttu-id="58e5f-193">如需詳細資訊，請參閱[在資料來源檢視中定義具名查詢 &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="58e5f-193">For more information, see [Define Named Queries in a Data Source View &#40;Analysis Services&#41;](define-named-queries-in-a-data-source-view-analysis-services.md).</span></span>

     <span data-ttu-id="58e5f-194">具名查詢必須以與量值群組相關聯的事實資料表為基礎。</span><span class="sxs-lookup"><span data-stu-id="58e5f-194">The named query must be based on the fact table associated with the measure group.</span></span> <span data-ttu-id="58e5f-195">例如，若您要分割 FactInternetSales 量值群組，則 DSV 中的具名查詢必須在 FROM 陳述式中指定 FactInternetSales 資料表。</span><span class="sxs-lookup"><span data-stu-id="58e5f-195">For example, if you are partitioning the FactInternetSales measure group, the named queries in the DSV must specify the FactInternetSales table in the FROM statement.</span></span>

2.  <span data-ttu-id="58e5f-196">在 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 的方案總管中，按兩下 Cube 以在 Cube 設計師中開啟，然後按一下 [分割區]\*\*\*\* 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="58e5f-196">In [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], in Solution Explorer, double-click the cube to open it in Cube Designer, and then click the **Partitions** tab.</span></span>

3.  <span data-ttu-id="58e5f-197">展開要為其加入分割區的量值群組。</span><span class="sxs-lookup"><span data-stu-id="58e5f-197">Expand the measure group for which are adding partitions.</span></span>

4.  <span data-ttu-id="58e5f-198">按一下 [新增分割區]\*\*\*\*，以啟動 [分割區精靈]。</span><span class="sxs-lookup"><span data-stu-id="58e5f-198">Click **New Partition** to start the Partition Wizard.</span></span> <span data-ttu-id="58e5f-199">如果您是使用繫結至量值群組的事實資料表來建立具名查詢，應該就會看到您在前面步驟中建立的每一個具名查詢。</span><span class="sxs-lookup"><span data-stu-id="58e5f-199">If you created the named queries using the fact table bound to the measure group, you should see each of the named queries you created in the previous step.</span></span>

5.  <span data-ttu-id="58e5f-200">在 [指定來源資訊] 中，選擇您在前面步驟中建立的其中一個具名查詢。</span><span class="sxs-lookup"><span data-stu-id="58e5f-200">In Specify Source Information, choose one of the named queries you created in a previous step.</span></span> <span data-ttu-id="58e5f-201">如果沒有看到任何具名查詢，請回到 DSV 並檢查 FROM 陳述式。</span><span class="sxs-lookup"><span data-stu-id="58e5f-201">If you do not see any named queries, go back to the DSV and check the FROM statement.</span></span>

6.  <span data-ttu-id="58e5f-202">按一下 [下一步]\*\*\*\* 以接受每個後續頁面的預設值。</span><span class="sxs-lookup"><span data-stu-id="58e5f-202">Click **Next** to accept the default values for each subsequent page.</span></span>

7.  <span data-ttu-id="58e5f-203">在最後一頁的 [正在完成精靈] 上，提供描述性名稱給分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-203">On the last page, Completing the Wizard, give the partition a descriptive name.</span></span>

8.  <span data-ttu-id="58e5f-204">按一下 [完成] 。</span><span class="sxs-lookup"><span data-stu-id="58e5f-204">Click **Finish**.</span></span>

9. <span data-ttu-id="58e5f-205">重複先前的步驟以建立其餘的分割區，並每次選擇不同的具名查詢，以選取下一個資料配量。</span><span class="sxs-lookup"><span data-stu-id="58e5f-205">Repeat the previous steps to create the remaining partitions, choosing a different named query each time to select the next data slice.</span></span>

10. <span data-ttu-id="58e5f-206">部署方案或處理分割區以載入資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-206">Deploy the solution or process the partition to load the data.</span></span> <span data-ttu-id="58e5f-207">請務必處理所有的分割區。</span><span class="sxs-lookup"><span data-stu-id="58e5f-207">Be sure to process all partitions.</span></span>

11. <span data-ttu-id="58e5f-208">瀏覽 Cube 以驗證傳回正確的資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-208">Browse the cube to verify the correct data is returned.</span></span>

## <a name="next-step"></a><span data-ttu-id="58e5f-209">後續步驟</span><span class="sxs-lookup"><span data-stu-id="58e5f-209">Next Step</span></span>
 <span data-ttu-id="58e5f-210">建立分割區的互斥查詢時，請確定結合的分割區資料包含您要在 Cube 中包含的所有資料。</span><span class="sxs-lookup"><span data-stu-id="58e5f-210">When you create mutually exclusive queries for partitions, ensure that the combined partition data includes all data you want to include in the cube.</span></span>

 <span data-ttu-id="58e5f-211">在最後一個步驟中，您通常會想要移除以資料表本身為基礎的預設分割區 (如果還存在的話)，否則以查詢為基礎的分割區會和以完整資料表為基礎的查詢重疊。</span><span class="sxs-lookup"><span data-stu-id="58e5f-211">As a final step, you normally want to remove the default partition that was based on the table itself (if it still exists), or else the query based partitions will overlap the query based on the complete table.</span></span>

## <a name="see-also"></a><span data-ttu-id="58e5f-212">另請參閱</span><span class="sxs-lookup"><span data-stu-id="58e5f-212">See Also</span></span>
 <span data-ttu-id="58e5f-213">分割區[&#40;Analysis Services 多維度資料&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) [遠端](../multidimensional-models-olap-logical-cube-objects/partitions-remote-partitions.md)分割區會[在 Analysis Services 中合併分割區 &#40;SSAS-多維度&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md)</span><span class="sxs-lookup"><span data-stu-id="58e5f-213">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) [Remote Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-remote-partitions.md) [Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md)</span></span>


