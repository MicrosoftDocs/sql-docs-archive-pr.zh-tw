---
title: 使用 [架構產生] Wizard (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Schema Generation Wizard, steps
- relational schema [Analysis Services], Schema Generation Wizard
ms.assetid: 8c710745-d41d-4c31-b6a2-2956229df75a
author: minewiskan
ms.author: owend
ms.openlocfilehash: fa65c2c6f377a375d0fc6aa8298cdec749805b6c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87597395"
---
# <a name="use-the-schema-generation-wizard-analysis-services"></a><span data-ttu-id="87ae5-102">使用結構描述產生精靈 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="87ae5-102">Use the Schema Generation Wizard (Analysis Services)</span></span>
  <span data-ttu-id="87ae5-103">結構描述產生精靈在產生階段，需要不多的資訊。</span><span class="sxs-lookup"><span data-stu-id="87ae5-103">The Schema Generation Wizard requires a limited amount of information during the generation phase.</span></span> <span data-ttu-id="87ae5-104">[結構描述產生精靈] 產生關聯式結構描述所需的大部分資訊，都是從您在專案中已建立的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Cube 和維度中擷取。</span><span class="sxs-lookup"><span data-stu-id="87ae5-104">Most of the information that the Schema Generation Wizard requires for generating relational schemas is extracted from the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions that you already created in the project.</span></span> <span data-ttu-id="87ae5-105">此外，您可以自訂產生主題領域資料庫結構描述的方式，以及為結構描述中之物件命名的方式。</span><span class="sxs-lookup"><span data-stu-id="87ae5-105">Additionally, you can customize how the subject area database schema is generated and how objects in the schema are named.</span></span>  
  
## <a name="start-the-wizard"></a><span data-ttu-id="87ae5-106">啟動精靈</span><span class="sxs-lookup"><span data-stu-id="87ae5-106">Start the Wizard</span></span>  
 <span data-ttu-id="87ae5-107">您可以使用幾個不同的方法從 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 開啟 [結構描述產生精靈]：</span><span class="sxs-lookup"><span data-stu-id="87ae5-107">You can open the Schema Generation Wizard from [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] in several different ways:</span></span>  
  
-   <span data-ttu-id="87ae5-108">以滑鼠右鍵按一下 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 專案物件，然後從內容功能表按一下 [產生關聯式結構描述]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-108">Right-click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object and then click **Generate Relational Schema** from the context menu.</span></span>  
  
-   <span data-ttu-id="87ae5-109">按一下 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 專案物件，然後從 [資料庫]\*\*\*\* 功能表按一下 [產生關聯式結構描述]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-109">Click the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project object, and then click **Generate Relational Schema** from the **Database** menu.</span></span>  
  
-   <span data-ttu-id="87ae5-110">按一下精靈最後一頁上的 [立即產生結構描述]\*\*\*\* 核取方塊，從 [維度精靈] 內啟動精靈。</span><span class="sxs-lookup"><span data-stu-id="87ae5-110">Start the wizard from within the Dimension Wizard by clicking the **Generate Schema Now** check box on the last page of the wizard.</span></span>  
  
## <a name="step-1-specify-targets"></a><span data-ttu-id="87ae5-111">步驟 1：指定目標</span><span class="sxs-lookup"><span data-stu-id="87ae5-111">Step 1: Specify Targets</span></span>  
 <span data-ttu-id="87ae5-112">您必須指定您希望 [結構描述產生精靈] 在其中產生主題領域資料庫之結構描述的資料來源檢視 (DSV)。</span><span class="sxs-lookup"><span data-stu-id="87ae5-112">You must specify the data source view (DSV) in which you want the Schema Generation Wizard to generate the schema for the subject area database.</span></span> <span data-ttu-id="87ae5-113">雖然您可以選取現有的 DSV，不過通常是會根據資料來源建立新的 DSV。</span><span class="sxs-lookup"><span data-stu-id="87ae5-113">Although you can select an existing DSV, typically you create a new one based on a data source.</span></span> <span data-ttu-id="87ae5-114">您可以根據現有的或新的連接，或是根據另一個物件，來建立資料來源。</span><span class="sxs-lookup"><span data-stu-id="87ae5-114">You can create the data source based on an existing or a new connection, or based on another object.</span></span> <span data-ttu-id="87ae5-115">[結構描述產生精靈] 會在資料來源及資料來源檢視所參考的資料庫中，為主題領域資料庫產生結構描述。</span><span class="sxs-lookup"><span data-stu-id="87ae5-115">The Schema Generation Wizard generates the schema for the subject area database in the database referenced by the data source, as well as the data source view.</span></span> <span data-ttu-id="87ae5-116">[結構描述產生精靈] 不會建立主題領域資料庫本身，而是會建立關聯式結構描述來支援您所指定之現有資料庫中的 Cube 和維度。</span><span class="sxs-lookup"><span data-stu-id="87ae5-116">The Schema Generation Wizard does not create the subject area database itself; instead, the wizard creates the relational schema to support the cubes and dimensions in an existing database that you specify.</span></span>  
  
 <span data-ttu-id="87ae5-117">[結構描述產生精靈] 產生基礎物件時，會使用來源檢視樣式繫結，將 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 維度和 Cube 繫結到產生的資料表與資料行。</span><span class="sxs-lookup"><span data-stu-id="87ae5-117">When the Schema Generation Wizard generates the underlying objects, it binds the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes to the generated tables and columns by using data source view-style bindings.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="87ae5-118">若要解除 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 維度和 Cube 與先前產生之物件之間的繫結，請刪除 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Cube 和維度所繫結的資料來源檢視，然後使用 [結構描述產生精靈]，為 Cube 和維度定義新的資料來源檢視。</span><span class="sxs-lookup"><span data-stu-id="87ae5-118">To unbind [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimensions and cubes from previously generated objects, delete the data source view to which the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] cubes and dimensions are bound, and then define a new data source view for the cubes and dimensions by using the Schema Generation Wizard.</span></span>  
  
## <a name="step-3-specify-schema-options-for-the-subject-area-database"></a><span data-ttu-id="87ae5-119">步驟 3：指定主題領域資料庫的結構描述選項</span><span class="sxs-lookup"><span data-stu-id="87ae5-119">Step 3: Specify Schema Options for the Subject Area Database</span></span>  
 <span data-ttu-id="87ae5-120">[結構描述產生精靈] 提供許多選項，可以定義為主題領域資料庫產生的結構描述。</span><span class="sxs-lookup"><span data-stu-id="87ae5-120">The Schema Generation Wizard provides a number of options for defining the schema that is generated for the subject area database.</span></span> <span data-ttu-id="87ae5-121">您可以在精靈的 [主題領域資料庫結構描述選項]\*\*\*\* 頁面上，指定這些選項。</span><span class="sxs-lookup"><span data-stu-id="87ae5-121">You can specify these options on the **Subject Area Database Schema Options** page of the wizard.</span></span>  
  
### <a name="specifying-the-schema-owner"></a><span data-ttu-id="87ae5-122">指定結構描述擁有者</span><span class="sxs-lookup"><span data-stu-id="87ae5-122">Specifying the Schema Owner</span></span>  
 <span data-ttu-id="87ae5-123">您可以將 [主控結構描述]\*\*\*\* 的值設定為有效的字串，以指定結構描述的擁有者。</span><span class="sxs-lookup"><span data-stu-id="87ae5-123">You can specify the owner of the schema by setting the value of **Owning schema** to a valid string.</span></span> <span data-ttu-id="87ae5-124">結構描述的預設擁有者是 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 專案，不過您可以指定任何想要的結構描述擁有者。</span><span class="sxs-lookup"><span data-stu-id="87ae5-124">The default owner of the schema is the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] project, but you can specify any desired schema owner.</span></span>  
  
### <a name="specifying-primary-keys-indexes-and-constraints"></a><span data-ttu-id="87ae5-125">指定主索引鍵、索引和條件約束</span><span class="sxs-lookup"><span data-stu-id="87ae5-125">Specifying Primary Keys, Indexes, and Constraints</span></span>  
 <span data-ttu-id="87ae5-126">依預設，結構描述產生精靈會在主題領域資料庫裡的每個維度資料表中，建立一個主索引鍵條件約束。</span><span class="sxs-lookup"><span data-stu-id="87ae5-126">The Schema Generation Wizard by default creates a primary key constraint in each dimension table in the subject area database.</span></span> <span data-ttu-id="87ae5-127">主索引鍵對應到屬性，該屬性會在對應的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 維度中指定為索引鍵屬性。</span><span class="sxs-lookup"><span data-stu-id="87ae5-127">The primary key corresponds to the attribute that is designated as the key attribute in the corresponding [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] dimension.</span></span> <span data-ttu-id="87ae5-128">這個條件約束可以最低的成本，改善大多數環境中的處理效能。</span><span class="sxs-lookup"><span data-stu-id="87ae5-128">This constraint improves processing performance in most environments, with minimal cost.</span></span> <span data-ttu-id="87ae5-129">邏輯主索引鍵一律會在資料來源檢視中建立，即使您選擇不在主題領域資料庫中建立主索引鍵也一樣。</span><span class="sxs-lookup"><span data-stu-id="87ae5-129">Logical primary keys are always created in the data source view, even if you choose not to create the primary key in the subject area database.</span></span> <span data-ttu-id="87ae5-130">若要定義維度資料表上的主索引鍵條件約束，請選取 [在維度資料表上建立主索引鍵]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-130">To define primary key constraints on dimension tables, select **Create primary keys on dimension tables**.</span></span>  
  
 <span data-ttu-id="87ae5-131">依預設，精靈也會在每個事實資料表中的外部索引鍵資料行上建立索引。</span><span class="sxs-lookup"><span data-stu-id="87ae5-131">The wizard by default also creates indexes on the foreign key columns in each fact table.</span></span> <span data-ttu-id="87ae5-132">這些索引會增進大多數環境中的處理效能。</span><span class="sxs-lookup"><span data-stu-id="87ae5-132">These indexes improve processing performance in most environments.</span></span> <span data-ttu-id="87ae5-133">效能之得以增進，是因為 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 產生從主題領域資料庫擷取新資料的處理查詢，通常會包含事實資料表和維度資料表之間的許多聯結陳述式。</span><span class="sxs-lookup"><span data-stu-id="87ae5-133">Performance is typically improved because the processing queries that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] generates to retrieve new data from the subject area database typically include a significant number of join statements between the fact table and the dimension tables.</span></span> <span data-ttu-id="87ae5-134">若要在每個事實資料表中的外部索引鍵資料行上定義索引，請選取 [建立索引]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-134">To define indexes on the foreign key columns in each fact table, select **Create indexes**.</span></span>  
  
 <span data-ttu-id="87ae5-135">最後，依預設精靈會在事實資料表和每個維度資料表之間，強制執行參考完整性。</span><span class="sxs-lookup"><span data-stu-id="87ae5-135">Finally, the wizard by default enforces referential integrity between the fact table and each of the dimension tables.</span></span> <span data-ttu-id="87ae5-136">如果您選擇不強制執行參考完整性，結構描述產生精靈還是會在資料庫和資料來源檢視中，建立這些關聯性。</span><span class="sxs-lookup"><span data-stu-id="87ae5-136">If you choose not to enforce referential integrity, the Schema Generation Wizard still creates these relationships in the database and the data source view.</span></span> <span data-ttu-id="87ae5-137">若要強制執行參考完整性，請選取 [強制執行參考完整性]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-137">To enforce referential integrity, select **Enforce referential integrity**.</span></span>  
  
### <a name="preserving-data-for-incremental-generation"></a><span data-ttu-id="87ae5-138">保留累加產生的資料</span><span class="sxs-lookup"><span data-stu-id="87ae5-138">Preserving Data for Incremental Generation</span></span>  
 <span data-ttu-id="87ae5-139">重新產生資料庫結構描述時，結構描述產生精靈預設會嘗試保留資料。</span><span class="sxs-lookup"><span data-stu-id="87ae5-139">The Schema Generation Wizard by default attempts to preserve data when the database schema is regenerated.</span></span> <span data-ttu-id="87ae5-140">如果因為結構描述變更，以致結構描述產生精靈必須刪除任何資料列，則在刪除資料列之前，您會收到警告。</span><span class="sxs-lookup"><span data-stu-id="87ae5-140">If the Schema Generation Wizard has to delete any rows because of a schema change, you receive a warning before the rows are deleted.</span></span> <span data-ttu-id="87ae5-141">例如，可能因為您卸除維度，或者因為您變更維度屬性時變更了資料類型，所以必須刪除資料列，以解決參考完整性的問題。</span><span class="sxs-lookup"><span data-stu-id="87ae5-141">For example, rows may have to be deleted to solve referential integrity issues because you dropped a dimension or because a data type changed when you changed a dimension attribute.</span></span> <span data-ttu-id="87ae5-142">若要在重新產生資料庫結構描述時保留資料，請選取 [重新產生時保留資料]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="87ae5-142">To preserve data when the database schema is regenerated, select **Preserve data on regeneration**.</span></span>  
  
## <a name="step-4-specify-naming-conventions"></a><span data-ttu-id="87ae5-143">步驟 4：指定命名慣例</span><span class="sxs-lookup"><span data-stu-id="87ae5-143">Step 4: Specify Naming Conventions</span></span>  
 <span data-ttu-id="87ae5-144">您可以在精靈的 [指定命名慣例]\*\*\*\* 頁面上，定義 [結構描述產生精靈] 在主題領域資料庫中產生某些物件時，所使用的命名慣例。</span><span class="sxs-lookup"><span data-stu-id="87ae5-144">You can define the naming conventions that the Schema Generation Wizard uses when generating certain objects in the subject area database on the **Specify Naming Conventions** page of the wizard.</span></span> <span data-ttu-id="87ae5-145">如需 [指定命名慣例]\*\*\*\* 頁面上可用選項的詳細資訊，請參閱[指定命名慣例 &#40;結構描述產生精靈&#41; &#40;Analysis Services - 多維度資料&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md)。</span><span class="sxs-lookup"><span data-stu-id="87ae5-145">For more information about the options available on the **Specify Naming Conventions** page, see [Specify Naming Conventions &#40;Schema Generation Wizard&#41; &#40;Analysis Services - Multidimensional Data&#41;](../specify-naming-conventions-schema-generation-analysis-services-multidimensional-data.md).</span></span>  
  
  
