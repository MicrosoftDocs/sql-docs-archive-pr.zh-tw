---
title: Analysis Services 資料庫的備份與還原 |Microsoft Docs
ms.custom: ''
ms.date: 03/25/2019
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.ssmsimbi.Backup.f1
- sql12.asvs.ssmsimbi.Restore.f1
helpviewer_keywords:
- backing up databases [Analysis Services]
- encryption [Analysis Services]
- databases [Analysis Services], restoring
- cryptography [Analysis Services]
- databases [Analysis Services], backing up
- restoring databases [Analysis Services]
- recovery [Analysis Services]
ms.assetid: 947eebd2-3622-479e-8aa6-57c11836e4ec
author: minewiskan
ms.author: owend
ms.openlocfilehash: 00a05fa39b57836490dde3dc6d4a1095e4b3ccaa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87702016"
---
# <a name="backup-and-restore-of-analysis-services-databases"></a><span data-ttu-id="cfee5-102">備份與還原 Analysis Services 資料庫</span><span class="sxs-lookup"><span data-stu-id="cfee5-102">Backup and Restore of Analysis Services Databases</span></span>
  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="cfee5-103">包括備份與還原，讓您可以從特定時間點復原資料庫及其物件。</span><span class="sxs-lookup"><span data-stu-id="cfee5-103">includes backup and restore so that you can recover a database and its objects from a particular point in time.</span></span> <span data-ttu-id="cfee5-104">備份與還原也是一種有效的技術，可將資料庫移轉到升級的伺服器、在伺服器之間移動資料庫，或是將資料庫部署到實際伺服器。</span><span class="sxs-lookup"><span data-stu-id="cfee5-104">Backup and restore is also a valid technique for migrating databases to upgraded servers, moving databases between servers, or deploying a database to a production server.</span></span> <span data-ttu-id="cfee5-105">如果您還沒有備份計畫，但是您有很重要的資料，就應該盡快設計及實作計畫，以供資料復原之用。</span><span class="sxs-lookup"><span data-stu-id="cfee5-105">For the purposes of data recovery, if you do not already have a backup plan and your data is valuable, you should design and implement a plan as soon as possible.</span></span>  
  
 <span data-ttu-id="cfee5-106">備份與還原命令是在已部署的 Analysis Services 資料庫上執行。</span><span class="sxs-lookup"><span data-stu-id="cfee5-106">The backup and restore commands are performed on a deployed Analysis Services database.</span></span> <span data-ttu-id="cfee5-107">針對您在 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]中的專案和方案，您應該使用原始檔控制來確保您可以復原特定版本的來源檔案，然後為您要使用之原始檔控制系統的儲存機制，建立資料復原計畫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-107">For your projects and solutions in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], you should use source control to ensure you can recover specific versions of your source files, and then create a data recovery plan for the repository of the source control system you are using.</span></span>  
  
 <span data-ttu-id="cfee5-108">針對包含來源資料的完整備份，您必須備份包含詳細資料的資料庫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-108">For a full backup that includes source data, you have to back up the database which contains detail data.</span></span> <span data-ttu-id="cfee5-109">更明確地說，如果您使用 ROLAP 或 DirectQuery 資料庫儲存，詳細資料會儲存在與 Analysis Services 資料庫分開的外部 SQL Server 關聯式資料庫中。</span><span class="sxs-lookup"><span data-stu-id="cfee5-109">Specifically, if you are using ROLAP or DirectQuery database storage, detail data is stored in an external SQL Server relational database that is distinct from the Analysis Services database.</span></span> <span data-ttu-id="cfee5-110">否則，如果所有物件都是表格式或多維度，Analysis Services 備份就會包含中繼資料和來源資料。</span><span class="sxs-lookup"><span data-stu-id="cfee5-110">Otherwise, if all objects are tabular or multidimensional, the Analysis Services backup will include both the metadata and source data.</span></span>  
  
 <span data-ttu-id="cfee5-111">自動備份的一個明顯好處，就是資料快照集可以按照自動備份頻率，保持在最新的狀態。</span><span class="sxs-lookup"><span data-stu-id="cfee5-111">One clear benefit of automating backup is that the data snapshot will always be as up-to-date as the automated frequency of backup specifies.</span></span> <span data-ttu-id="cfee5-112">自動排程器可確保不會忘記備份。</span><span class="sxs-lookup"><span data-stu-id="cfee5-112">Automated schedulers ensure that backups are not forgotten.</span></span> <span data-ttu-id="cfee5-113">還原資料庫也可以自動化，且是複寫資料的好方法，但一定要在您複寫至的執行個體上備份加密金鑰檔案。</span><span class="sxs-lookup"><span data-stu-id="cfee5-113">Restoring a database can also be automated, and can be a good way to replicate data, but be sure to back up the encryption key file on the instance you replicate to.</span></span> <span data-ttu-id="cfee5-114">同步處理功能是 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的複寫專用，但僅針對過期的資料。</span><span class="sxs-lookup"><span data-stu-id="cfee5-114">The synchronization feature is dedicated to replication of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, but only for the data that is out of date.</span></span> <span data-ttu-id="cfee5-115">此處提到的所有功能可以透過使用者介面、利用 XML/A 命令或透過 AMO 以程式設計方式執行來實作。</span><span class="sxs-lookup"><span data-stu-id="cfee5-115">All of the features mentioned here can be implemented through the user interface, by way of XML/A commands or programmatically run through AMO.</span></span>  
  
 <span data-ttu-id="cfee5-116">這個主題包括下列各節：</span><span class="sxs-lookup"><span data-stu-id="cfee5-116">This topic includes the following sections:</span></span>  
  
-   [<span data-ttu-id="cfee5-117">準備備份</span><span class="sxs-lookup"><span data-stu-id="cfee5-117">Preparing for Backup</span></span>](#bkmk_prep)  
  
-   [<span data-ttu-id="cfee5-118">備份多維度或表格式資料庫</span><span class="sxs-lookup"><span data-stu-id="cfee5-118">Backing Up a Multidimensional or a Tabular Database</span></span>](#bkmk_cube)  
  
-   [<span data-ttu-id="cfee5-119">還原 Analysis Services 資料庫</span><span class="sxs-lookup"><span data-stu-id="cfee5-119">Restoring an Analysis Services Database</span></span>](#bkmk_restore)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="cfee5-120">必要條件</span><span class="sxs-lookup"><span data-stu-id="cfee5-120">Prerequisites</span></span>  
 <span data-ttu-id="cfee5-121">您必須具有 Analysis Services 執行個體的管理權限，或在要備份的資料庫上擁有「完整控制權 (管理員)」權限。</span><span class="sxs-lookup"><span data-stu-id="cfee5-121">You must have administrative permissions on the Analysis Services instance or Full Control (Administrator) permissions on the database you are backing up.</span></span>  
  
 <span data-ttu-id="cfee5-122">還原位置相較於取得備份的來源執行個體而言，必須是相同版本或更新版本的 Analysis Services 執行個體。</span><span class="sxs-lookup"><span data-stu-id="cfee5-122">Restore location must be an Analysis Services instance that is the same version, or a newer version, as the instance from which the backup was taken.</span></span> <span data-ttu-id="cfee5-123">雖然您無法將 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 執行個體中的資料庫還原到舊版的 Analysis Services，但是在較新的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 執行個體上還原舊版資料庫 (例如 SQL Server 2012) 是常見的做法。</span><span class="sxs-lookup"><span data-stu-id="cfee5-123">Although you cannot restore a database from a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance to an earlier version of Analysis Services, it is common practice to restore an older version database, such as SQL Server 2012, on a newer [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] instance.</span></span>  
  
 <span data-ttu-id="cfee5-124">還原位置必須具有相同的伺服器類型。</span><span class="sxs-lookup"><span data-stu-id="cfee5-124">Restore location must be the same server type.</span></span> <span data-ttu-id="cfee5-125">表格式資料庫只能還原到以表格式模式執行的 Analysis Services。</span><span class="sxs-lookup"><span data-stu-id="cfee5-125">Tabular databases can only be restored to Analysis Services running in tabular mode.</span></span> <span data-ttu-id="cfee5-126">多維度資料庫需要在多維度模式下執行的執行個體。</span><span class="sxs-lookup"><span data-stu-id="cfee5-126">Multidimensional databases require an instance running in multidimensional mode.</span></span>  
  
##  <a name="preparing-for-backup"></a><a name="bkmk_prep"></a><span data-ttu-id="cfee5-127">準備備份</span><span class="sxs-lookup"><span data-stu-id="cfee5-127">Preparing for Backup</span></span>  
 <span data-ttu-id="cfee5-128">請使用下列檢查清單來準備備份：</span><span class="sxs-lookup"><span data-stu-id="cfee5-128">Use the following checklist to prepare for backup:</span></span>  
  
-   <span data-ttu-id="cfee5-129">檢查將儲存備份檔案的位置。</span><span class="sxs-lookup"><span data-stu-id="cfee5-129">Check the location where the backup file will be stored.</span></span> <span data-ttu-id="cfee5-130">如果您使用遠端位置，必須將它指定為 UNC 資料夾。</span><span class="sxs-lookup"><span data-stu-id="cfee5-130">If you are using a remote location, you must specify it as a UNC folder.</span></span> <span data-ttu-id="cfee5-131">確認您可以存取此 UNC 路徑。</span><span class="sxs-lookup"><span data-stu-id="cfee5-131">Verify that you can access the UNC path.</span></span>  
  
-   <span data-ttu-id="cfee5-132">檢查資料夾的權限，以確保 Analysis Services 服務帳戶有資料夾的讀取/寫入權限。</span><span class="sxs-lookup"><span data-stu-id="cfee5-132">Check the permissions on the folder to ensure that the Analysis Services service account has Read/Write permissions on the folder.</span></span>  
  
-   <span data-ttu-id="cfee5-133">檢查目標伺服器上是否有足夠的磁碟空間。</span><span class="sxs-lookup"><span data-stu-id="cfee5-133">Check for sufficient disk space on the target server.</span></span>  
  
-   <span data-ttu-id="cfee5-134">檢查現有檔案是否有相同名稱。</span><span class="sxs-lookup"><span data-stu-id="cfee5-134">Check for existing files of the same name.</span></span> <span data-ttu-id="cfee5-135">如果同名的檔案已經存在，備份將會失敗，除非您指定覆寫檔案的選項。</span><span class="sxs-lookup"><span data-stu-id="cfee5-135">If a file of the same name already exists, backup will fail unless you specify options to overwrite the file.</span></span>  
  
##  <a name="backing-up-a-multidimensional-or-a-tabular-database"></a><a name="bkmk_cube"></a> <span data-ttu-id="cfee5-136">備份多維度或表格式資料庫</span><span class="sxs-lookup"><span data-stu-id="cfee5-136">Backing Up a Multidimensional or a Tabular Database</span></span>  
 <span data-ttu-id="cfee5-137">系統管理員可以將 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫備份至單一 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 備份檔 (.abf)，而不用考慮資料庫的大小。</span><span class="sxs-lookup"><span data-stu-id="cfee5-137">Administrators can back up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to a single [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup file (.abf), regardless of size of the database.</span></span> <span data-ttu-id="cfee5-138">如需逐步指示，請參閱 [如何備份 Analysis Services 資料庫 (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Backup_an_Analysis_Services_Database.html) 和 [自動備份 Analysis Services 資料庫 (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Automate_Backup_of_Analysis_Services_Database.html)。</span><span class="sxs-lookup"><span data-stu-id="cfee5-138">For step by step instructions, see [How to Backup an Analysis Services Database (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Backup_an_Analysis_Services_Database.html) and [Automate Backup an Analysis Services Database (TechMantra)](http://www.mytechmantra.com/LearnSQLServer/Automate_Backup_of_Analysis_Services_Database.html).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cfee5-139">用來在 SharePoint 環境中載入和查詢 PowerPivot 資料模型的 [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 會從 SharePoint 內容資料庫載入其模型。</span><span class="sxs-lookup"><span data-stu-id="cfee5-139">[!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)], used for loading and querying PowerPivot data models in a SharePoint environment, loads its models from SharePoint content databases.</span></span> <span data-ttu-id="cfee5-140">這些內容資料庫為關聯式，而且會在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 關聯式資料庫引擎上執行。</span><span class="sxs-lookup"><span data-stu-id="cfee5-140">These content databases are relational and run on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database engine.</span></span> <span data-ttu-id="cfee5-141">因此，PowerPivot 資料模型沒有 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 備份和還原策略。</span><span class="sxs-lookup"><span data-stu-id="cfee5-141">As such, there is no [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup and restore strategy for PowerPivot data models.</span></span> <span data-ttu-id="cfee5-142">如果您已經針對 SharePoint 內容設定災害復原計畫，此計畫會包含內容資料庫中所儲存的 PowerPivot 資料模型。</span><span class="sxs-lookup"><span data-stu-id="cfee5-142">If you have a disaster recovery plan in place for SharePoint content, that plan encompasses the PowerPivot data models stored in the content databases.</span></span>  
  
 <span data-ttu-id="cfee5-143">**遠端資料分割**</span><span class="sxs-lookup"><span data-stu-id="cfee5-143">**Remote Partitions**</span></span>  
  
 <span data-ttu-id="cfee5-144">如果 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫包含遠端資料分割，也應該備份遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="cfee5-144">If the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database contains remote partitions, the remote partitions should also be backed up.</span></span> <span data-ttu-id="cfee5-145">備份含有遠端資料分割的資料庫時，每一個遠端伺服器上的所有遠端資料分割都會分別備份到每一個遠端伺服器上的單一檔案。</span><span class="sxs-lookup"><span data-stu-id="cfee5-145">When you back up a database with remote partitions, all the remote partitions on each remote server are backed up to a single file on each of those remote servers respectively.</span></span> <span data-ttu-id="cfee5-146">因此，如果您想要從個別的主機電腦上建立那些遠端備份，就必須手動將那些檔案複製到指定的儲存區。</span><span class="sxs-lookup"><span data-stu-id="cfee5-146">Therefore, if you want to create those remote backups off their respective host computers, you will have to manually copy those files to the designated storage areas.</span></span>  
  
 <span data-ttu-id="cfee5-147">**備份檔案的內容**</span><span class="sxs-lookup"><span data-stu-id="cfee5-147">**Contents of a backup file**</span></span>  
  
 <span data-ttu-id="cfee5-148">備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫會產生備份檔案，其內容因資料庫物件所使用的儲存模式而異。</span><span class="sxs-lookup"><span data-stu-id="cfee5-148">Backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database produces a backup file whose contents vary depending upon the storage mode used by the database objects.</span></span> <span data-ttu-id="cfee5-149">備份內容的差異肇因於這樣的事實：每一個儲存模式實際上在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫內儲存不同的資訊集。</span><span class="sxs-lookup"><span data-stu-id="cfee5-149">This difference in backup content results from the fact that each storage mode actually stores a different set of information within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="cfee5-150">例如，多維度混合式 OLAP (HOLAP) 資料分割和維度會將彙總和中繼資料儲存在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫中，而關聯式 OLAP (ROLAP) 資料分割和維度只會將中繼資料儲存在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫中。</span><span class="sxs-lookup"><span data-stu-id="cfee5-150">For example, multidimensional hybrid OLAP (HOLAP) partitions and dimensions store aggregations and metadata in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, while relational OLAP (ROLAP) partitions and dimensions only store metadata in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="cfee5-151">因為 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的實際內容根據每一個資料分割的儲存模式而有所不同，所以備份檔案的內容也不一樣。</span><span class="sxs-lookup"><span data-stu-id="cfee5-151">Because the actual contents of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database vary based on the storage mode of each partition, the contents of the backup file also vary.</span></span> <span data-ttu-id="cfee5-152">下表使備份檔案的內容與物件所使用的儲存模式產生關聯。</span><span class="sxs-lookup"><span data-stu-id="cfee5-152">The following table associates the contents of the backup file to the storage mode used by the objects.</span></span>  
  
|<span data-ttu-id="cfee5-153">儲存模式</span><span class="sxs-lookup"><span data-stu-id="cfee5-153">Storage Mode</span></span>|<span data-ttu-id="cfee5-154">備份檔案的內容</span><span class="sxs-lookup"><span data-stu-id="cfee5-154">Contents of backup file</span></span>|  
|------------------|-----------------------------|  
|<span data-ttu-id="cfee5-155">多維度 MOLAP 分割區和維度</span><span class="sxs-lookup"><span data-stu-id="cfee5-155">Multidimensional MOLAP partitions and dimensions</span></span>|<span data-ttu-id="cfee5-156">中繼資料、來源資料和彙總</span><span class="sxs-lookup"><span data-stu-id="cfee5-156">Metadata, source data, and aggregations</span></span>|  
|<span data-ttu-id="cfee5-157">多維度 HOLAP 分割區和維度</span><span class="sxs-lookup"><span data-stu-id="cfee5-157">Multidimensional HOLAP partitions and dimensions</span></span>|<span data-ttu-id="cfee5-158">中繼資料和彙總</span><span class="sxs-lookup"><span data-stu-id="cfee5-158">Metadata and aggregations</span></span>|  
|<span data-ttu-id="cfee5-159">多維度 ROLAP 分割區和維度</span><span class="sxs-lookup"><span data-stu-id="cfee5-159">Multidimensional ROLAP partitions and dimensions</span></span>|<span data-ttu-id="cfee5-160">中繼資料</span><span class="sxs-lookup"><span data-stu-id="cfee5-160">Metadata</span></span>|  
|<span data-ttu-id="cfee5-161">表格式記憶體中模型</span><span class="sxs-lookup"><span data-stu-id="cfee5-161">Tabular In-Memory Models</span></span>|<span data-ttu-id="cfee5-162">中繼資料和來源資料</span><span class="sxs-lookup"><span data-stu-id="cfee5-162">Metadata and source data</span></span>|  
|<span data-ttu-id="cfee5-163">表格式 DirectQuery 模型</span><span class="sxs-lookup"><span data-stu-id="cfee5-163">Tabular DirectQuery Models</span></span>|<span data-ttu-id="cfee5-164">僅限中繼資料</span><span class="sxs-lookup"><span data-stu-id="cfee5-164">Metadata only</span></span>|  
  
> [!NOTE]  
>  <span data-ttu-id="cfee5-165">備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫不會備份基礎資料來源中的資料，例如關聯式資料庫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-165">Backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database does not back up the data in any underlying data sources, such as a relational database.</span></span> <span data-ttu-id="cfee5-166">只備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的內容。</span><span class="sxs-lookup"><span data-stu-id="cfee5-166">Only the contents of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database are backed up.</span></span>  
  
 <span data-ttu-id="cfee5-167">當您備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫時，可以從下列選項中選擇：</span><span class="sxs-lookup"><span data-stu-id="cfee5-167">When you back up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, you can choose from the following options:</span></span>  
  
-   <span data-ttu-id="cfee5-168">是否壓縮所有資料庫備份。</span><span class="sxs-lookup"><span data-stu-id="cfee5-168">Whether to compress all database backups.</span></span> <span data-ttu-id="cfee5-169">預設為壓縮備份。</span><span class="sxs-lookup"><span data-stu-id="cfee5-169">The default is to compress backups.</span></span>  
  
-   <span data-ttu-id="cfee5-170">是否要加密備份檔案的內容以及在解密和還原檔案之前要求密碼。</span><span class="sxs-lookup"><span data-stu-id="cfee5-170">Whether to encrypt the contents of the backup files and require a password before the file can be unencrypted and restored.</span></span> <span data-ttu-id="cfee5-171">根據預設，不加密備份資料。</span><span class="sxs-lookup"><span data-stu-id="cfee5-171">By default, the backed up data is not encrypted.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="cfee5-172">對於每個備份檔案，執行備份命令的使用者必須擁有寫入針對每個檔案所指定之備份位置的權限。</span><span class="sxs-lookup"><span data-stu-id="cfee5-172">For each backup file, the user who runs the backup command must have permission to write to the backup location specified for each file.</span></span> <span data-ttu-id="cfee5-173">此外，使用者必須具有下列其中一個角色： [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體之伺服器角色的成員，或在即將備份之資料庫上擁有「完整控制 (系統管理員)」權限的資料庫角色成員。</span><span class="sxs-lookup"><span data-stu-id="cfee5-173">Also, the user must have one of the following roles: a member of a server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be backed up.</span></span>  
  
 <span data-ttu-id="cfee5-174">如需備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的詳細資訊，請參閱 [備份選項](backup-options.md)。</span><span class="sxs-lookup"><span data-stu-id="cfee5-174">For more information about backing up an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, see [Backup Options](backup-options.md).</span></span>  
  
##  <a name="restoring-an-analysis-services-database"></a><a name="bkmk_restore"></a><span data-ttu-id="cfee5-175">還原 Analysis Services 資料庫</span><span class="sxs-lookup"><span data-stu-id="cfee5-175">Restoring an Analysis Services Database</span></span>  
 <span data-ttu-id="cfee5-176">管理員可以從一個或多個備份檔案還原 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-176">Administrators can restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from one or more backup files.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="cfee5-177">如果有加密備份檔案，在您使用該檔案來還原 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫之前，必須提供備份期間所指定的密碼。</span><span class="sxs-lookup"><span data-stu-id="cfee5-177">If a backup file is encrypted, you must provide the password specified during backup before you can use that file to restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="cfee5-178">在還原期間，您有下列選項：</span><span class="sxs-lookup"><span data-stu-id="cfee5-178">During restoration, you have the following options:</span></span>  
  
-   <span data-ttu-id="cfee5-179">您可以使用原始資料庫名稱來還原資料庫，或指定新的資料庫名稱。</span><span class="sxs-lookup"><span data-stu-id="cfee5-179">You can restore the database using the original database name, or you can specify a new database name.</span></span>  
  
-   <span data-ttu-id="cfee5-180">您可以覆寫現有的資料庫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-180">You can overwrite an existing database.</span></span> <span data-ttu-id="cfee5-181">如果您選擇要覆寫資料庫，則必須明確指定您要覆寫現有的資料庫。</span><span class="sxs-lookup"><span data-stu-id="cfee5-181">If you choose to overwrite the database, you must expressly specify that you want to overwrite the existing database.</span></span>  
  
-   <span data-ttu-id="cfee5-182">您可以選擇是否要還原現有的安全性資訊，或略過安全性成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="cfee5-182">You can choose whether to restore existing security information or skip security membership information.</span></span>  
  
-   <span data-ttu-id="cfee5-183">您可以選擇由還原命令變更每一個要還原之分割區的還原資料夾。</span><span class="sxs-lookup"><span data-stu-id="cfee5-183">You can choose to have the restore command change the restoration folder for each partition being restored.</span></span> <span data-ttu-id="cfee5-184">本機資料分割可以還原至 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體的任何本機資料夾位置，資料庫即還原至此處。</span><span class="sxs-lookup"><span data-stu-id="cfee5-184">Local partitions can be restored to any folder location that is local to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance to which the database is being restored.</span></span> <span data-ttu-id="cfee5-185">遠端分割區可以還原至本機伺服器以外之任何伺服器上的任何資料夾；遠端分割區無法變成本機式。</span><span class="sxs-lookup"><span data-stu-id="cfee5-185">Remote partitions can be restored to any folder on any server, other than the local server; remote partitions cannot become local.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="cfee5-186">對於每個備份檔案，執行還原命令的使用者必須擁有從針對每個檔案所指定之備份位置讀取的權限。</span><span class="sxs-lookup"><span data-stu-id="cfee5-186">For each backup file, the user who runs the restore command must have permission to read from the backup location specified for each file.</span></span> <span data-ttu-id="cfee5-187">若要還原沒有安裝在伺服器上的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫，使用者也必須是該 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體之伺服器角色的成員。</span><span class="sxs-lookup"><span data-stu-id="cfee5-187">To restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database that is not installed on the server, the user must also be a member of the server role for that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="cfee5-188">若要覆寫 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫，使用者必須具有下列其中一個角色： [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體之伺服器角色的成員，或在即將還原之資料庫上擁有「完整控制 (系統管理員)」權限的資料庫角色成員。</span><span class="sxs-lookup"><span data-stu-id="cfee5-188">To overwrite an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, the user must have one of the following roles: a member of the server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be restored.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="cfee5-189">還原現有的資料庫之後，還原資料庫的使用者可能會喪失已還原資料庫的存取權。</span><span class="sxs-lookup"><span data-stu-id="cfee5-189">After restoring an existing database, the user who restored the database might lose access to the restored database.</span></span> <span data-ttu-id="cfee5-190">如果在執行備份時，使用者不是伺服器角色的成員，也不是擁有完整控制權 (管理員) 權限的資料庫角色成員，就可能會發生存取權喪失的情況。</span><span class="sxs-lookup"><span data-stu-id="cfee5-190">This loss of access can occur if, at the time that the backup was performed, the user was not a member of the server role or was not a member of the database role with Full Control (Administrator) permissions.</span></span>  
  
 <span data-ttu-id="cfee5-191">如需還原 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的詳細資訊，請參閱 [還原選項](restore-options.md)。</span><span class="sxs-lookup"><span data-stu-id="cfee5-191">For more information about restoring an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, see [Restore Options](restore-options.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cfee5-192">另請參閱</span><span class="sxs-lookup"><span data-stu-id="cfee5-192">See Also</span></span>  
 <span data-ttu-id="cfee5-193">[備份、還原和同步處理資料庫 &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/backing-up-restoring-and-synchronizing-databases-xmla.md) </span><span class="sxs-lookup"><span data-stu-id="cfee5-193">[Backing Up, Restoring, and Synchronizing Databases &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/backing-up-restoring-and-synchronizing-databases-xmla.md) </span></span>  
 [<span data-ttu-id="cfee5-194">Analysis Services PowerShell</span><span class="sxs-lookup"><span data-stu-id="cfee5-194">Analysis Services PowerShell</span></span>](../analysis-services-powershell.md)  
  
  
