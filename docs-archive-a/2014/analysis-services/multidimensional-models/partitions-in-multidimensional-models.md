---
title: 多維度模型中的資料分割 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 26e01dc7-fa49-4b1f-99eb-7799d1b4dcd2
author: minewiskan
ms.author: owend
ms.openlocfilehash: 60d14551344e6898d7bb0add41b5931282c8861d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87593655"
---
# <a name="partitions-in-multidimensional-models"></a><span data-ttu-id="ec8f8-102">多維度模型中的分割區</span><span class="sxs-lookup"><span data-stu-id="ec8f8-102">Partitions in Multidimensional Models</span></span>
  <span data-ttu-id="ec8f8-103">在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]中， *「分割區」* (Partition) 提供載入量值群組之事實資料的實體儲存體。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-103">In [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], a *partition* provides the physical storage of fact data loaded into a measure group.</span></span> <span data-ttu-id="ec8f8-104">系統會自動為每個量值群組建立一個分割區，但通常會建立其他分割區以進一步分割資料，因此處理效能更佳且查詢效能更快。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-104">A single partition is created for each measure group automatically, but it is common to create additional partitions that further segment the data, resulting in more efficient processing and faster query performance.</span></span>  
  
 <span data-ttu-id="ec8f8-105">因為可以在一部或多部伺服器上獨立及平行處理分割區，因此處理進行得更有效率。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-105">Processing is more efficient because partitions can be processed independently and in parallel, on one or more servers.</span></span> <span data-ttu-id="ec8f8-106">因為可設定每個分割區使用儲存模式和彙總最佳化，藉此縮短回應時間，因此查詢執行速度更快。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-106">Queries run faster because each partition can be configured to have storage modes and aggregation optimizations that result in shorter response times.</span></span> <span data-ttu-id="ec8f8-107">例如，針對包含較新資料的分割區選擇 MOLAP 儲存，通常會比 ROLAP 更快。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-107">For example, choosing MOLAP storage for partitions containing newer data is typically faster than ROLAP.</span></span> <span data-ttu-id="ec8f8-108">同樣地，如果您依日期分割，包含較新資料的分割區，這會比包含較舊資料 (較少存取) 的分割區，具有更高的最佳化。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-108">Likewise, if you partition by date, partitions containing newer data can have more optimizations than partitions containing older data that is accessed less frequently.</span></span> <span data-ttu-id="ec8f8-109">請注意，改變分割區使用的儲存和彙總設計，會對未來的合併作業造成負面影響。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-109">Note that varying storage and aggregation design by partition will have a negative impact on future merge operations.</span></span> <span data-ttu-id="ec8f8-110">因此最佳化個別分割區之前，請務必考慮合併是否為分割區管理策略中不可或缺的一部分。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-110">Be sure to consider whether merging is an essential component of your partition management strategy before optimizing individual partitions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ec8f8-111">支援在 Business Intelligence 版與 Enterprise 版中使用多個分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-111">Support for multiple partitions is available in the business intelligence edition and enterprise edition.</span></span> <span data-ttu-id="ec8f8-112">Standard 版不支援多個分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-112">The standard edition does not support multiple partitions.</span></span> <span data-ttu-id="ec8f8-113">如需詳細資訊，請參閱＜ [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)＞。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-113">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
## <a name="important-considerations-when-designing-a-partitioning-strategy"></a><span data-ttu-id="ec8f8-114">設計分割區策略時的重要考量</span><span class="sxs-lookup"><span data-stu-id="ec8f8-114">Important considerations when designing a partitioning strategy</span></span>  
 <span data-ttu-id="ec8f8-115">Cube 資料的完整性是仰賴 Cube 分割區之間散發的資料，以讓分割區間沒有重複的資料。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-115">The integrity of a cube's data relies on the data being distributed among the partitions of the cube such that no data is duplicated among the partitions.</span></span> <span data-ttu-id="ec8f8-116">若資料是從分割區來彙總，則任何多個分割區中出現的資料元素都會被視為不同資料元素而彙總。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-116">When data is summarized from the partitions, any data elements that are present in more than one partition will be summarized as if they were different data elements.</span></span> <span data-ttu-id="ec8f8-117">這會導致不正確的彙總，以及提供使用者錯誤的資料。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-117">This can result in incorrect summaries and erroneous data provided to the end user.</span></span> <span data-ttu-id="ec8f8-118">例如，若產品 X 的銷售交易在兩個分割區的事實資料表中發生重複，則產品 X 銷售的彙總會包括重複交易的兩次計算。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-118">For example, if a sales transaction for Product X is duplicated in the fact tables for two partitions, summaries of Product X sales can include a double accounting of the duplicated transaction.</span></span>  
  
 <span data-ttu-id="ec8f8-119">您可以利用整體儲存和資料更新策略中的合併分割區功能。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-119">Partitions can be merged; you can use this feature in your overall storage and data update strategy.</span></span> <span data-ttu-id="ec8f8-120">只有在分割區具有相同儲存模式及彙總設計時，才可以進行合併。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-120">Partitions can be merged only if they have the same storage mode and aggregation design.</span></span> <span data-ttu-id="ec8f8-121">若要建立適合日後進行合併的分割區，您可以在建立分割區時，複製其他分割區的彙總設計。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-121">To create partitions that are candidates for later merging, you can copy the aggregation design of another partition when you create partitions.</span></span> <span data-ttu-id="ec8f8-122">您也可以在建立分割區後進行編輯，以複製其他分割區的彙總設計。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-122">You can also edit a partition after it has been created to copy the aggregation design of another partition.</span></span> <span data-ttu-id="ec8f8-123">您必須小心執行分割區合併，以避免產生的分割區中，出現重複的資料，而導致 Cube 資料不精確。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-123">Merging partitions must also be performed carefully to avoid duplication of data in the resulting partition, which can cause cube data to be inaccurate.</span></span>  
  
## <a name="local-partitions"></a><span data-ttu-id="ec8f8-124">本機分割區</span><span class="sxs-lookup"><span data-stu-id="ec8f8-124">Local Partitions</span></span>  
 <span data-ttu-id="ec8f8-125">本機分割區是在一個伺服器上定義、處理以及儲存的分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-125">Local partitions are partitions that are defined, processed, and stored on one server.</span></span> <span data-ttu-id="ec8f8-126">如果您在 Cube 中有很多量值群組，您可能需要進行分割區，讓處理在所有分割區上平行執行。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-126">If you have large measure groups in a cube, you might want to partition them out so that processing occurs in parallel across the partitions.</span></span> <span data-ttu-id="ec8f8-127">優點是平行處理會提供更快的執行速度。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-127">The advantage is that parallel processing provides faster execution.</span></span> <span data-ttu-id="ec8f8-128">因為分割區處理作業並不要求先後完成順序，可以平行執行。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-128">Because one partition processing job does not have to finish before another starts, they can run in parallel.</span></span> <span data-ttu-id="ec8f8-129">如需詳細資訊，請參閱 [建立及管理本機分割區 &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-129">For more information, see [Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md).</span></span>  
  
## <a name="remote-partitions"></a><span data-ttu-id="ec8f8-130">遠端資料分割</span><span class="sxs-lookup"><span data-stu-id="ec8f8-130">Remote Partitions</span></span>  
 <span data-ttu-id="ec8f8-131">遠端分割區是在一個伺服器上定義的分割區，但在另一個伺服器上處理和儲存。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-131">Remote partitions are partitions that are defined on one server, but are processed and stored on another.</span></span> <span data-ttu-id="ec8f8-132">如果您要將資料和中繼資料的儲存體散發至多個伺服器，請使用遠端分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-132">If you want to distribute storage of your data and metadata across multiple servers, use remote partitions.</span></span> <span data-ttu-id="ec8f8-133">通常，當您從開發環境轉換到實際環境時，分析的資料大小會成長數倍以上。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-133">Ordinarily, when you transition from development to production, the size of data under analysis grows several times over.</span></span> <span data-ttu-id="ec8f8-134">對付如此大量的資料區塊，一種可能的替代方法是將資料散發在多部電腦上。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-134">With such large chunks of data, one possible alternative is to distribute that data over multiple computers.</span></span> <span data-ttu-id="ec8f8-135">這不僅是因為一部電腦無法存放所有資料，更是因為您希望有多部電腦可以平行處理資料。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-135">This is not just because one computer cannot hold all the data, but because you will want more than one computer processing the data in parallel.</span></span> <span data-ttu-id="ec8f8-136">如需詳細資訊，請參閱 [建立及管理遠端分割區 &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-136">For more information, see [Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md).</span></span>  
  
## <a name="aggregations"></a><span data-ttu-id="ec8f8-137">彙總</span><span class="sxs-lookup"><span data-stu-id="ec8f8-137">Aggregations</span></span>  
 <span data-ttu-id="ec8f8-138">彙總是 Cube 資料的預先計算摘要，可幫助啟用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 以提供快速查詢回應。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-138">Aggregations are precalculated summaries of cube data that help enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to provide rapid query responses.</span></span> <span data-ttu-id="ec8f8-139">您可以透過設定儲存限制、改善效能，或在彙總建立程序執行一段時間後隨時停止，以控制為量值群組建立的彙總數目。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-139">You can control the number of aggregations created for a measure group by setting limits on storage, performance gains, or arbitrarily stopping the aggregation build process after it has been running for a while.</span></span> <span data-ttu-id="ec8f8-140">彙總愈多不一定愈好。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-140">More aggregations are not necessarily better.</span></span> <span data-ttu-id="ec8f8-141">每個新彙總都會佔用磁碟空間並增加處理時間。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-141">Every new aggregation comes at a cost, both in terms of disk space and processing time.</span></span> <span data-ttu-id="ec8f8-142">建議建立彙總以改善 30% 的效能，然後僅在測試或經驗需要時，才增加數目。如需詳細資訊，請參閱[設計彙總 &#40;Analysis Services - 多維度&#41;](designing-aggregations-analysis-services-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-142">We recommend creating aggregations for a thirty percent performance gain, and then raising the number only if testing or experience warrants it.For more information, see [Designing Aggregations &#40;Analysis Services - Multidimensional&#41;](designing-aggregations-analysis-services-multidimensional.md).</span></span>  
  
## <a name="partition-merging-and-editing"></a><span data-ttu-id="ec8f8-143">分割區合併和編輯</span><span class="sxs-lookup"><span data-stu-id="ec8f8-143">Partition Merging and Editing</span></span>  
 <span data-ttu-id="ec8f8-144">如果兩個分割區使用相同的彙總設計，您就可以將兩者合併為一個分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-144">If two partitions use the same aggregation design, you can merge those two partitions into one.</span></span> <span data-ttu-id="ec8f8-145">例如，假設您有一個依照月份分割的存貨維度，則在每一個月底，您可以合併該月分割區和現有的年初至今的分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-145">For example, if you have an inventory dimension that is partitioned by month, then at the end of each calendar month, you can merge that month partition with the existing year-to-date partition.</span></span> <span data-ttu-id="ec8f8-146">如此，可以快速處理和分析當月分割區，而當年剩餘的月份只需要在合併時重新處理即可。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-146">This way, the current month partition can be processed and analyzed quickly, while the rest of the year in months only has to be reprocessed when merged.</span></span> <span data-ttu-id="ec8f8-147">重新處理需要較長的處理時間，所以不需要經常執行。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-147">That reprocess requires longer processing time, and can be run less frequently.</span></span> <span data-ttu-id="ec8f8-148">如需管理資料分割合併處理序的詳細資訊，請參閱 [在 Analysis Services 中合併分割區 &#40;SSAS - 多維度&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-148">For more information about managing the partition merging process, see [Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;](merge-partitions-in-analysis-services-ssas-multidimensional.md).</span></span> <span data-ttu-id="ec8f8-149">若要使用 Cube 設計師**中的 [** 資料分割] 索引標籤來編輯 cube 資料分割，請參閱[編輯或刪除分割區 &#40;Analysis Services-多維度&#41;](edit-or-delete-partitions-analyisis-services-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-149">To edit cube partitions by using the **Partitions** tab in Cube Designer, see [Edit or Delete Partitions &#40;Analysis Services - Multidimensional&#41;](edit-or-delete-partitions-analyisis-services-multidimensional.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="ec8f8-150">相關主題</span><span class="sxs-lookup"><span data-stu-id="ec8f8-150">Related Topics</span></span>  
  
|<span data-ttu-id="ec8f8-151">主題</span><span class="sxs-lookup"><span data-stu-id="ec8f8-151">Topic</span></span>|<span data-ttu-id="ec8f8-152">描述</span><span class="sxs-lookup"><span data-stu-id="ec8f8-152">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="ec8f8-153">建立及管理本機資料分割 &#40;Analysis Services&#41;</span><span class="sxs-lookup"><span data-stu-id="ec8f8-153">Create and Manage a Local Partition &#40;Analysis Services&#41;</span></span>](create-and-manage-a-local-partition-analysis-services.md)|<span data-ttu-id="ec8f8-154">包含如何使用篩選或不含重複資料的不同事實資料表，來分割資料的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-154">Contains information about how to partition data using filters or different fact tables without duplicating data.</span></span>|  
|[<span data-ttu-id="ec8f8-155">設定分割區儲存 &#40;Analysis Services - 多維度&#41;</span><span class="sxs-lookup"><span data-stu-id="ec8f8-155">Set Partition Storage &#40;Analysis Services - Multidimensional&#41;</span></span>](set-partition-storage-analysis-services-multidimensional.md)|<span data-ttu-id="ec8f8-156">描述如何設定分割區的儲存。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-156">Describes how to configure storage for partitions.</span></span>|  
|[<span data-ttu-id="ec8f8-157">編輯或刪除磁碟分割 &#40;Analysis Services-多維度&#41;</span><span class="sxs-lookup"><span data-stu-id="ec8f8-157">Edit or Delete Partitions &#40;Analysis Services - Multidimensional&#41;</span></span>](edit-or-delete-partitions-analyisis-services-multidimensional.md)|<span data-ttu-id="ec8f8-158">描述如何檢視和編輯分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-158">Describes how to view and edit partitions.</span></span>|  
|[<span data-ttu-id="ec8f8-159">在 Analysis Services 中合併分割區 &#40;SSAS - 多維度&#41;</span><span class="sxs-lookup"><span data-stu-id="ec8f8-159">Merge Partitions in Analysis Services &#40;SSAS - Multidimensional&#41;</span></span>](merge-partitions-in-analysis-services-ssas-multidimensional.md)|<span data-ttu-id="ec8f8-160">包含如何合併含有不同事實資料表或不同資料配量的分割區，而不會產生重複資料。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-160">Contains information about how to merge partitions that have different fact tables or different data slices without duplicating data.</span></span>|  
|[<span data-ttu-id="ec8f8-161">設定分割區回寫</span><span class="sxs-lookup"><span data-stu-id="ec8f8-161">Set Partition Writeback</span></span>](set-partition-writeback.md)|<span data-ttu-id="ec8f8-162">提供啟用分割區寫入功能的指示。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-162">Provides instructions on write-enabling a partition.</span></span>|  
|[<span data-ttu-id="ec8f8-163">建立及管理遠端資料分割 &#40;Analysis Services&#41;</span><span class="sxs-lookup"><span data-stu-id="ec8f8-163">Create and Manage a Remote Partition &#40;Analysis Services&#41;</span></span>](create-and-manage-a-remote-partition-analysis-services.md)|<span data-ttu-id="ec8f8-164">描述如何建立及管理遠端分割區。</span><span class="sxs-lookup"><span data-stu-id="ec8f8-164">Describes how to create and manage a remote partition.</span></span>|  
  
  
