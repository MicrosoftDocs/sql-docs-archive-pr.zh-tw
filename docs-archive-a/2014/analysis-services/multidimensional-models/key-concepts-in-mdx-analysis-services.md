---
title: MDX (Analysis Services) 的重要概念 |Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- Multidimensional Expressions [Analysis Services], about MDX
- dimensional modeling [MDX]
- MDX [Analysis Services], about MDX
- Multidimensional Expressions [Analysis Services], dimensional modeling
- MDX [Analysis Services], dimensional modeling
ms.assetid: 4797ddc8-6423-497a-9a43-81a1af7eb36c
author: minewiskan
ms.author: owend
ms.openlocfilehash: 1e6907913bd5e068f30cea2e652ccdad5247d965
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87596378"
---
# <a name="key-concepts-in-mdx-analysis-services"></a><span data-ttu-id="75137-102">MDX 的關鍵概念 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="75137-102">Key Concepts in MDX (Analysis Services)</span></span>
  <span data-ttu-id="75137-103">在您使用多維度運算式 (MDX) 查詢 Cube 中的多維度資料，或在 Cube 中建立 MDX 運算式之前，先了解多維度的概念與詞彙會相當有助益。</span><span class="sxs-lookup"><span data-stu-id="75137-103">Before you can use Multidimensional Expressions (MDX) to query multidimensional data or create MDX expressions within a cube, it helps to understand multidimensional concepts and terms.</span></span>  
  
 <span data-ttu-id="75137-104">最好先從您已經知道的資料摘要開始著手，然後觀察 MDX 如何與此資料摘要相關聯。</span><span class="sxs-lookup"><span data-stu-id="75137-104">The best place to start is with a data summarization example you already know, and then see how MDX relates to it.</span></span> <span data-ttu-id="75137-105">以下是在 Excel 中建立的樞紐分析表，其中填入了 Analysis Services 範例 cube 中的資料。</span><span class="sxs-lookup"><span data-stu-id="75137-105">Here's a PivotTable created in Excel, populated with data from an Analysis Services sample cube.</span></span>  
  
 <span data-ttu-id="75137-106">![標註量值與維度的樞紐分析表](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "標註量值與維度的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="75137-106">![PivotTable with measures and dimensions called out](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "PivotTable with measures and dimensions called out")</span></span>  
  
## <a name="measures-and-dimensions"></a><span data-ttu-id="75137-107">量值與維度</span><span class="sxs-lookup"><span data-stu-id="75137-107">Measures and Dimensions</span></span>  
 <span data-ttu-id="75137-108">Analysis Services Cube 包含量值、維度以及維度屬性，這些在樞紐分析表範例中都很容易看見。</span><span class="sxs-lookup"><span data-stu-id="75137-108">An Analysis Services cube consists of measures, dimensions, and dimension attributes, all of which are evident in the PivotTable example.</span></span>  
  
 <span data-ttu-id="75137-109">**量值** 是可在資料格中找到的數值資料值，其可會彙總成總和、計數、百分比、最小值、最大值或平均值。</span><span class="sxs-lookup"><span data-stu-id="75137-109">**Measures** are numeric data values found in cells, aggregated as a sum, count, percentage, min, max, or average.</span></span> <span data-ttu-id="75137-110">量值為動態項目，且會即時進行計算，以回應使用者導覽以及與樞紐分析表的互動。</span><span class="sxs-lookup"><span data-stu-id="75137-110">Measure values are dynamic, calculated in real time, in response to user navigation and interaction with the PivotTable.</span></span> <span data-ttu-id="75137-111">在此範例中，資料格會依據軸的展開或折疊，顯示增加或減少的「轉售商銷售數量」。</span><span class="sxs-lookup"><span data-stu-id="75137-111">In this example, the cells show Reseller Sales Amounts that increase or decrease based on whether you expand or collapse the axes.</span></span> <span data-ttu-id="75137-112">您可以透過「日期」(年、季、月或日期) 及「銷售領域」(國家/地區群組、國家/地區、地區) 的任意組合，取得特定內容的加總「轉售商銷售數量」。</span><span class="sxs-lookup"><span data-stu-id="75137-112">For any combination of Date (year, quarter, month, or date) and Sales Territory (Country group, Country, Region) you can get a Reseller Sales Amount, summed for that particular context.</span></span> <span data-ttu-id="75137-113">與「量值」同義的其他詞彙包括「事實」(用於資料倉儲) 及「計算所得欄位」(用於表格式模型及 Excel 資料模型)。</span><span class="sxs-lookup"><span data-stu-id="75137-113">Other terms that are synonymous with measures are facts (in data warehouses) and calculated fields (in tabular and Excel data models).</span></span>  
  
 <span data-ttu-id="75137-114">**維度** 是樞紐分析表中的資料行軸與資料列軸，可提供量值背後的意義。</span><span class="sxs-lookup"><span data-stu-id="75137-114">**Dimensions** are on the column and row axes of a PivotTable, providing the meaning behind the measure.</span></span> <span data-ttu-id="75137-115">維度與關聯式資料模型中的資料表類似。</span><span class="sxs-lookup"><span data-stu-id="75137-115">Dimensions are analogous to Tables in a relational data model.</span></span> <span data-ttu-id="75137-116">維度的常見範例包含時間、地理位置、產品、客戶、員工等等。</span><span class="sxs-lookup"><span data-stu-id="75137-116">Common examples of a dimension include Time, Geography, Products, Customers, Employees, and so on.</span></span> <span data-ttu-id="75137-117">此範例有兩個維度，資料列上的「銷售領域」，以及橫跨頂端的「日期」，但您可以輕鬆地拖放與「轉售商銷售」相關聯的其他維度，例如「促銷」或「產品」，以檢視這些維度的銷售績效。</span><span class="sxs-lookup"><span data-stu-id="75137-117">This example has two dimensions, Sales Territory on the rows, and Date across the top, but you could easily drag and drop other dimensions associated with Reseller Sales, such as Promotions or Products, to view sales performance along those dimensions.</span></span> <span data-ttu-id="75137-118">您是否可以使用特定的方式探索資料，取決於您所建立的維度，以及這些維度是否與您資料來源中的事實資料表相關聯。</span><span class="sxs-lookup"><span data-stu-id="75137-118">Your ability to explore data in interesting ways depends on the dimensions you create, and whether they are related to fact tables in your data source.</span></span>  
  
 <span data-ttu-id="75137-119">**維度屬性** 是維度中的具名項目，與資料表中的資料行類似。</span><span class="sxs-lookup"><span data-stu-id="75137-119">**Dimension attributes** are the named items within a dimension, similar to columns in a table.</span></span> <span data-ttu-id="75137-120">在此範例中，「銷售領域」維度屬性包含「國家/地區群組」(歐洲、北美、亞太)、「國家 (地區)」(加拿大、美國) 以及「地區」(中部、東北部、西北部、東南部、西南部)。</span><span class="sxs-lookup"><span data-stu-id="75137-120">In this example, the Sales Territory dimension attributes consist of Country Group (Europe, North America, Pacific), Country (Canada, United States), and Region (Central, Northeast, Northwest, Southeast, Southwest).</span></span>  
  
 <span data-ttu-id="75137-121">每個屬性都有一個與之相關聯的資料值或成員集合。</span><span class="sxs-lookup"><span data-stu-id="75137-121">Each attribute has a collection of data values, or members, associated with it.</span></span> <span data-ttu-id="75137-122">在此範例中，「國家/地區群組」屬性為歐洲、北美和亞太。</span><span class="sxs-lookup"><span data-stu-id="75137-122">In our example, members of the Country Group attribute are Europe, North America, and Pacific.</span></span> <span data-ttu-id="75137-123">**成員** 是屬於屬性的實際資料值。</span><span class="sxs-lookup"><span data-stu-id="75137-123">**Members** refers to the actual data values that belong to an attribute.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="75137-124">資料模型化的其中一部份，就是將資料中本身已存在的模式和關聯性定形。</span><span class="sxs-lookup"><span data-stu-id="75137-124">One aspect of data modeling is to formalize the patterns and relationships that already exist within the data itself.</span></span> <span data-ttu-id="75137-125">使用屬於自然階層的資料時，例如國家/地區-地區-城市，您可以透過建立 **屬性關聯性**，將關聯性定形。</span><span class="sxs-lookup"><span data-stu-id="75137-125">When working with data that falls into a natural hierarchy, as is the case with countries-regions-cities, you can formalize that relationship by creating an **attribute relationship**.</span></span> <span data-ttu-id="75137-126">屬性關聯性是屬性之間的一對多關聯性，例如狀態與城市之間的關聯性-狀態有許多城市，但城市只屬於一個州。</span><span class="sxs-lookup"><span data-stu-id="75137-126">An attribute relationship is a one-to-many relationship between attributes, for example a relationship between a state and a city - a state has many cities, but a city belongs to just one state.</span></span> <span data-ttu-id="75137-127">在模型中建立屬性關聯性可加速查詢效能，因此，如果資料支援，最佳做法是建立它們。</span><span class="sxs-lookup"><span data-stu-id="75137-127">Creating attribute relationships in the model speeds up query performance, so it's a best practice to create them if the data supports it.</span></span> <span data-ttu-id="75137-128">您可以在 SQL Server Data Tools 的維度設計師中建立屬性關聯性。</span><span class="sxs-lookup"><span data-stu-id="75137-128">You can create an attribute relationship in Dimension Designer in SQL Server Data Tools.</span></span> <span data-ttu-id="75137-129">請參閱＜ [Define Attribute Relationships](attribute-relationships-define.md)＞。</span><span class="sxs-lookup"><span data-stu-id="75137-129">See [Define Attribute Relationships](attribute-relationships-define.md).</span></span>  
  
 <span data-ttu-id="75137-130">在 Excel 中，會在樞紐分析表欄位清單中顯示模型中繼資料。</span><span class="sxs-lookup"><span data-stu-id="75137-130">Inside Excel, model metadata shows up in the PivotTable field list.</span></span>  <span data-ttu-id="75137-131">將上方的樞紐分析表與下方的欄位清單進行比較。</span><span class="sxs-lookup"><span data-stu-id="75137-131">Compare the PivotTable above to the field list below.</span></span> <span data-ttu-id="75137-132">請注意，欄位清單包含「銷售領域」、「群組」、「國家/地區」、「地區」(中繼資料)，但樞紐分析表只包含成員 (資料值)。</span><span class="sxs-lookup"><span data-stu-id="75137-132">Notice that the field list contains Sales Territory, Group, Country, Region (metadata), whereas the PivotTable contains just the members (data values).</span></span> <span data-ttu-id="75137-133">了解圖示外觀有助於您輕鬆地將多維度模型的各個部分，與 Excel 中的樞紐分析表相關聯。</span><span class="sxs-lookup"><span data-stu-id="75137-133">Knowing what the icons look like can help you easily relate the parts of a multidimensional model to a PivotTable in Excel.</span></span>  
  
 <span data-ttu-id="75137-134">![樞紐分析表欄位清單](../media/ssas-keyconcepts-ptfieldlist.png "樞紐分析表欄位清單")</span><span class="sxs-lookup"><span data-stu-id="75137-134">![PivotTable field list](../media/ssas-keyconcepts-ptfieldlist.png "PivotTable field list")</span></span>  
  
## <a name="attribute-hierarchies"></a><span data-ttu-id="75137-135">屬性階層</span><span class="sxs-lookup"><span data-stu-id="75137-135">Attribute Hierarchies</span></span>  
 <span data-ttu-id="75137-136">幾乎不用思考就可以知道，樞紐分析表中的值會隨著您展開或折疊每個軸的階層，而有所增加或減少，但為什麼會這樣呢？</span><span class="sxs-lookup"><span data-stu-id="75137-136">Almost without having to think about it, you know that values in a PivotTable go up or down as you expand and collapse the levels along each axis, but what makes this so?</span></span> <span data-ttu-id="75137-137">答案就在屬性階層中。</span><span class="sxs-lookup"><span data-stu-id="75137-137">The answer lies in attribute hierarchies.</span></span>  
  
 <span data-ttu-id="75137-138">摺疊所有階層，並觀察「國家/地區群組」與「日曆年度」的總計。</span><span class="sxs-lookup"><span data-stu-id="75137-138">Collapse all the levels and notice the grand totals for each Country Group and Calendar Year.</span></span> <span data-ttu-id="75137-139">此值衍生自階層中稱為 **(全部) 成員** 的部分。</span><span class="sxs-lookup"><span data-stu-id="75137-139">This value is derived from something called the **(All) member** within a hierarchy.</span></span> <span data-ttu-id="75137-140">「(全部) 成員」是屬性階層中所有成員的計算值。</span><span class="sxs-lookup"><span data-stu-id="75137-140">The (All) member is the calculated value of all members in an attribute hierarchy.</span></span>  
  
-   <span data-ttu-id="75137-141">所有「國家/地區群組」與「日期」組合的「(全部) 成員」為 $80,450,596.98</span><span class="sxs-lookup"><span data-stu-id="75137-141">The (All) member for all Country Groups and Dates combined is $80,450,596.98</span></span>  
  
-   <span data-ttu-id="75137-142">CY2008 的「(全部) 成員」為 $16,038,062.60</span><span class="sxs-lookup"><span data-stu-id="75137-142">The (All) member for CY2008 is $16,038,062.60</span></span>  
  
-   <span data-ttu-id="75137-143">亞太的「(全部) 成員」為 $1,594,335.38</span><span class="sxs-lookup"><span data-stu-id="75137-143">The (All) member for Pacific is $1,594,335.38</span></span>  
  
 <span data-ttu-id="75137-144">類似的彙總會與先計算並預先儲存，這就是 Analysis Services 為何具有查詢效能快速的秘密之一。</span><span class="sxs-lookup"><span data-stu-id="75137-144">Aggregations like this are pre-computed and stored in advance, which is part of the secret to fast query performance of Analysis Services.</span></span>  
  
 <span data-ttu-id="75137-145">![標註所有成員的樞紐分析表](../media/ssas-keyconcepts-pivot2-allmember.png "標註所有成員的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="75137-145">![PivotTable with all member called out](../media/ssas-keyconcepts-pivot2-allmember.png "PivotTable with all member called out")</span></span>  
  
 <span data-ttu-id="75137-146">展開階層，最後您會來到最底層。</span><span class="sxs-lookup"><span data-stu-id="75137-146">Expand the hierarchy, and eventually you get to the lowest level.</span></span> <span data-ttu-id="75137-147">這稱為 **分葉成員**。</span><span class="sxs-lookup"><span data-stu-id="75137-147">This is called the **leaf member**.</span></span> <span data-ttu-id="75137-148">分葉成員是階層中沒有子系的成員。@@@</span><span class="sxs-lookup"><span data-stu-id="75137-148">A leaf member is a member of a hierarchy that has no children.</span></span> <span data-ttu-id="75137-149">在此範例中，Australia 為分葉成員。</span><span class="sxs-lookup"><span data-stu-id="75137-149">In this example, Australia is the leaf member.</span></span>  
  
 <span data-ttu-id="75137-150">![標註分葉成員的樞紐分析表](../media/ssas-keyconcepts-pivot3-leafparent.PNG "標註分葉成員的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="75137-150">![PivotTable with leaf member calle dout](../media/ssas-keyconcepts-pivot3-leafparent.PNG "PivotTable with leaf member calle dout")</span></span>  
  
 <span data-ttu-id="75137-151">而其上層的所有項目均稱為 **父成員**。</span><span class="sxs-lookup"><span data-stu-id="75137-151">Anything above it is called a **parent member**.</span></span> <span data-ttu-id="75137-152">Pacific 是 Australia 的父系。</span><span class="sxs-lookup"><span data-stu-id="75137-152">Pacific is the parent of Australia.</span></span>  
  
 <span data-ttu-id="75137-153">**屬性階層的元件**</span><span class="sxs-lookup"><span data-stu-id="75137-153">**Components of an attribute hierarchy**</span></span>  
  
 <span data-ttu-id="75137-154">總而言之，所有這些概念都是針對 **屬性階層**的概念而建立。</span><span class="sxs-lookup"><span data-stu-id="75137-154">Together, all these concepts build towards the concept of an **attribute hierarchy**.</span></span> <span data-ttu-id="75137-155">屬性階層是包含下列層級之屬性成員的樹狀結構：</span><span class="sxs-lookup"><span data-stu-id="75137-155">An attribute hierarchy is a tree of attribute members containing the following levels:</span></span>  
  
-   <span data-ttu-id="75137-156">包含每個相異屬性成員的分葉層級，分葉層級的每個成員也稱為 **「分葉成員」**。</span><span class="sxs-lookup"><span data-stu-id="75137-156">A leaf level that contains each distinct attribute member, with each member of the leaf level also known as a **leaf member**.</span></span>  
  
-   <span data-ttu-id="75137-157">中繼層級，如果屬性階層是父子式階層 (稍後將詳細討論)。</span><span class="sxs-lookup"><span data-stu-id="75137-157">Intermediate levels if the attribute hierarchy is a parent-child hierarchy (more on that later).</span></span>  
  
-   <span data-ttu-id="75137-158">包含所有子屬性之彙總值的 (全部) 成員。</span><span class="sxs-lookup"><span data-stu-id="75137-158">An (All) member that contains the aggregated value of all the child attributes.</span></span> <span data-ttu-id="75137-159">或者，您可以在對資料沒有意義時，隱藏或關閉 (所有) 層級。</span><span class="sxs-lookup"><span data-stu-id="75137-159">Optionally, you can hide or turn off the (All) level when it doesn't make sense for the data.</span></span> <span data-ttu-id="75137-160">例如，雖然產品代碼是數值，但加總或平均或匯總所有產品代碼並不合理。</span><span class="sxs-lookup"><span data-stu-id="75137-160">For example, although Product Code is numeric, it wouldn't make sense to sum or average or otherwise aggregate all of the Product Codes.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="75137-161">BI 開發人員通常會在屬性 (Attribute) 階層上設定屬性 (Properties)，以實現應用戶端應用程式中的特定行為，或取得某種效能優勢。</span><span class="sxs-lookup"><span data-stu-id="75137-161">BI developers often set properties on the attribute hierarchy to achieve certain behaviors in client applications, or gain certain performance benefits.</span></span> <span data-ttu-id="75137-162">例如，您會在 (所有) 成員都沒有意義的屬性上設定 AttributeHierarchyEnabled = False。</span><span class="sxs-lookup"><span data-stu-id="75137-162">For example, you would set AttributeHierarchyEnabled=False on attributes for which the (All) member doesn't make sense.</span></span> <span data-ttu-id="75137-163">或者，您只是想要隱藏 (全部) 成員，此時可以設定 AttributeHierarchyVisible=False。</span><span class="sxs-lookup"><span data-stu-id="75137-163">Alternatively, perhaps you simply want to hide the (All) member, in which case you would set AttributeHierarchyVisible=False.</span></span> <span data-ttu-id="75137-164">如需屬性 (Properties) 的詳細資訊，請參閱＜ [Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) ＞。</span><span class="sxs-lookup"><span data-stu-id="75137-164">See [Dimension Attribute Properties Reference](dimension-attribute-properties-reference.md) for more details about properties.</span></span>  
  
## <a name="navigation-hierarchies"></a><span data-ttu-id="75137-165">導覽階層</span><span class="sxs-lookup"><span data-stu-id="75137-165">Navigation Hierarchies</span></span>  
 <span data-ttu-id="75137-166">在樞紐分析表中 (至少在此範例中)，資料列軸和資料行軸為展開並顯示較低層級的屬性。</span><span class="sxs-lookup"><span data-stu-id="75137-166">Within the PivotTable (at least in this example), row and column axes expand to show lower levels of attributes.</span></span> <span data-ttu-id="75137-167">您可以透過在模型中建立導覽階層完成可展開的樹狀結構。</span><span class="sxs-lookup"><span data-stu-id="75137-167">An expandable tree is achieved through navigation hierarchies that you create in a model.</span></span>  <span data-ttu-id="75137-168">在 AdventureWorks 範例模型中，[銷售領域] 維度具有多層級階層，且層級依序為 [國家 (地區) 群組]、[國家 (地區)]、[地區]。</span><span class="sxs-lookup"><span data-stu-id="75137-168">In the AdventureWorks sample model, the Sales Territory dimension has a multi-level hierarchy that begins with a Country Group, followed by Country, followed by Region.</span></span>  
  
 <span data-ttu-id="75137-169">如您所見，會使用階層提供 PivotTable 中的導覽路徑或其他資料摘要物件。</span><span class="sxs-lookup"><span data-stu-id="75137-169">As you can see, hierarchies are used to provide a navigation path in a PivotTable or other data summarization objects.</span></span> <span data-ttu-id="75137-170">階層有對稱及不對稱這兩種基本類型。</span><span class="sxs-lookup"><span data-stu-id="75137-170">There are two basic types: balanced and unbalanced.</span></span>  
  
 <span data-ttu-id="75137-171">**對稱的階層**</span><span class="sxs-lookup"><span data-stu-id="75137-171">**Balanced Hierarchies**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="75137-172">![標註對稱階層的樞紐分析表](../media/ssas-keyconcepts-pivot4-balancedhierarchy.PNG "標註對稱階層的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="75137-172">![PivotTable with balanced hierarchy called out](../media/ssas-keyconcepts-pivot4-balancedhierarchy.PNG "PivotTable with balanced hierarchy called out")</span></span>|<span data-ttu-id="75137-173">**對稱的階層** 是最上層和任何分葉成員之間存在有相同層級數目的階層。</span><span class="sxs-lookup"><span data-stu-id="75137-173">A **balanced hierarchy** is a hierarchy in which the same number of levels exists between the top level and any leaf member.</span></span><br /><br /> <span data-ttu-id="75137-174">**自然階層** 是從基礎資料自然轉換出的階層。</span><span class="sxs-lookup"><span data-stu-id="75137-174">A **natural hierarchy** is one that emerges naturally from the underlying data.</span></span> <span data-ttu-id="75137-175">常見的範例是國家 (地區)-地區-省市，或年-月-日期，或類別目錄-子類別目錄-模型，且其中每個從屬層級會如預期般從父系跑出來。</span><span class="sxs-lookup"><span data-stu-id="75137-175">A common example is Country-Region-State or Year-Month-Date or Category-Subcategory-Model, where each subordinate level flows predictably from the parent.</span></span><br /><br /> <span data-ttu-id="75137-176">在多維度模型中，多數階層均為對稱的階層，且其中也有許多都是自然階層。</span><span class="sxs-lookup"><span data-stu-id="75137-176">In a multidimensional model, most hierarchies are balanced hierarchies, and many of them are also natural hierarchies.</span></span><br /><br /> <span data-ttu-id="75137-177">另一個相關的模型化詞彙是`user-defined hierarchy`，通常用於和屬性階層進行比較。</span><span class="sxs-lookup"><span data-stu-id="75137-177">Another related modeling term is a `user-defined hierarchy`, often used as a contrast with attribute hierarchies.</span></span> <span data-ttu-id="75137-178">相對於當您定義屬性時由 Analysis Services 所自動產生的屬性階層，該階層為 BI 開發人員所建立的階層。</span><span class="sxs-lookup"><span data-stu-id="75137-178">It simply means a hierarchy created by the BI developer, as opposed to attribute hierarchies that are automatically generated by Analysis Services when you define an attribute.</span></span>|  
  
 <span data-ttu-id="75137-179">**不對稱的階層**</span><span class="sxs-lookup"><span data-stu-id="75137-179">**Unbalanced Hierarchies**</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="75137-180">![標註不完全階層的樞紐分析表](../media/ssas-keyconcepts-pivot15-raggedhierarchy.PNG "標註不完全階層的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="75137-180">![PivotTable with ragged hierarchy called out](../media/ssas-keyconcepts-pivot15-raggedhierarchy.PNG "PivotTable with ragged hierarchy called out")</span></span>|<span data-ttu-id="75137-181">**不完全階層** 或 **不對稱的階層** 是最上層成員和分葉成員之間存在有不同層級數目的階層。</span><span class="sxs-lookup"><span data-stu-id="75137-181">A **ragged hierarchy** or **unbalanced hierarchy** is a hierarchy in which different numbers of levels exist between the top level and the leaf members.</span></span> <span data-ttu-id="75137-182">同樣地，這是 BI 開發人員所建立的階層，但在此情況下，資料中會有間距。</span><span class="sxs-lookup"><span data-stu-id="75137-182">Again, it's a hierarchy created by the BI developer, but in this case there are gaps in the data.</span></span><br /><br /> <span data-ttu-id="75137-183">在 AdventureWorks 範例模型中，[銷售領域] 維度就是不完全階層的示範，因為 United States 具有此範例中的其他國家 (地區) 所沒有的額外層級 (地區)。</span><span class="sxs-lookup"><span data-stu-id="75137-183">In the AdventureWorks sample model, Sales Territory illustrates a ragged hierarchy because the United States has an additional level (Regions) that does not exist for other countries in this example.</span></span><br /><br /> <span data-ttu-id="75137-184">若用戶端應用程式不是以適當的方式處理不完全階層，則不完全階層對 BI 開發人員而言是項挑戰。</span><span class="sxs-lookup"><span data-stu-id="75137-184">Ragged hierarchies are a challenge to BI developers if the client application does not handle ragged hierarchies in an elegant manner.</span></span> <span data-ttu-id="75137-185">在 Analysis Services 模型中，您可以建立明確定義多層級資料間的關聯性的 **父子式階層** ，並排除某個層級如何與下一個層級相關聯中所有的模稜兩可。</span><span class="sxs-lookup"><span data-stu-id="75137-185">In Analysis Services model, you can build a **parent-child hierarchy** that explicitly defines a relationship among multi-level data, eliminating any ambiguity as to how one level relates to the next.</span></span> <span data-ttu-id="75137-186">請參閱＜ [Parent-Child Hierarchy](parent-child-dimension.md) ＞。</span><span class="sxs-lookup"><span data-stu-id="75137-186">See [Parent-Child Hierarchy](parent-child-dimension.md) for details.</span></span>|  
  
## <a name="key-attributes"></a><span data-ttu-id="75137-187">索引鍵屬性</span><span class="sxs-lookup"><span data-stu-id="75137-187">Key Attributes</span></span>  
 <span data-ttu-id="75137-188">模型是相關物件的集合，且這些相關物件是依賴索引鍵和索引來建立關聯。</span><span class="sxs-lookup"><span data-stu-id="75137-188">Models are a collection of related objects that rely on keys and indexes to make the associations.</span></span> <span data-ttu-id="75137-189">Analysis Services 模型也一樣。</span><span class="sxs-lookup"><span data-stu-id="75137-189">Analysis Services models are no different.</span></span> <span data-ttu-id="75137-190">每個維度 (請記得它相當於關聯式模型中的資料表) 都有一個索引鍵屬性。</span><span class="sxs-lookup"><span data-stu-id="75137-190">For each dimension (recall it is equivalent to a table in a relational model), there is a key attribute.</span></span> <span data-ttu-id="75137-191">**索引鍵屬性** 用於事實資料表 (量值群組) 的外部索引鍵關聯性。</span><span class="sxs-lookup"><span data-stu-id="75137-191">The **key attribute** is used in foreign key relationships to the fact table (measure group).</span></span> <span data-ttu-id="75137-192">維度中所有非索引鍵屬性均會連結至 (直接或間接) 索引鍵屬性。</span><span class="sxs-lookup"><span data-stu-id="75137-192">All non-key attributes in the dimension are linked (directly or indirectly) to the key attribute.</span></span>  
  
 <span data-ttu-id="75137-193">一般而言 (但不一定)，索引鍵屬性也是 **資料粒度屬性**。</span><span class="sxs-lookup"><span data-stu-id="75137-193">Often, but not always, the key attribute is also the **Granularity Attribute**.</span></span> <span data-ttu-id="75137-194">資料粒度是資料中的詳細資料層級或有效位數層級。</span><span class="sxs-lookup"><span data-stu-id="75137-194">Granularity refers to the level of detail or precision within the data.</span></span> <span data-ttu-id="75137-195">同樣地，我們要使用常見範例作為說明的最快途徑。</span><span class="sxs-lookup"><span data-stu-id="75137-195">Again, a common example offers the quickest path to understanding.</span></span> <span data-ttu-id="75137-196">請思考日期值：若為每日銷售額，您必須為日期使用特定日期值；若為配額，使用每季可能便已足夠，但您的分析資料若包含體育活動的競賽結果，則資料粒度就很可能要使用毫秒。</span><span class="sxs-lookup"><span data-stu-id="75137-196">Consider date values: For daily sales, you need date values specified to the day; for quotas, quarterly might be sufficient, but if your analytical data consists of race results from a sporting event, the grain might very well need to be milliseconds.</span></span> <span data-ttu-id="75137-197">您資料中的有效位數層級就是資料粒度。</span><span class="sxs-lookup"><span data-stu-id="75137-197">The level of precision in your data values is the grain.</span></span>  
  
 <span data-ttu-id="75137-198">貨幣是另一個範例：財務應用程式可能會追蹤貨幣值的多個小數位數，而您當地學校的資金提供者可能只需要最接近的元值。</span><span class="sxs-lookup"><span data-stu-id="75137-198">Currency is another example: a financial application might track monetary values out to many decimal places, whereas your local school's fund raiser might only need values to the nearest dollar.</span></span> <span data-ttu-id="75137-199">若您想要避免儲存不必要的資料，就很需要了解資料粒度。</span><span class="sxs-lookup"><span data-stu-id="75137-199">Understanding grain is important because you want to avoid storing unnecessary data.</span></span> <span data-ttu-id="75137-200">刪減時間戳記的毫秒，或是刪減銷售額金額中的幾分美金，都可以在詳細資料層級與您的分析無關時，節省儲存空間和處理時間。</span><span class="sxs-lookup"><span data-stu-id="75137-200">Trimming milliseconds from a timestamp, or pennies from a sales amount, can save storage and processing time when that level of detail is not relevant to your analysis.</span></span>  
  
 <span data-ttu-id="75137-201">若要設定資料粒度屬性，可使用 SQL Server Data Tools 中 Cube 設計師的 [維度使用方式] 索引標籤。</span><span class="sxs-lookup"><span data-stu-id="75137-201">To set the granularity attribute, use the Dimension Usage tab in Cube Designer in SQL Server Data Tools.</span></span> <span data-ttu-id="75137-202">在 AdventureWorks 範例模型中，[日期] 維度的索引鍵屬性是 [日期] 索引鍵。</span><span class="sxs-lookup"><span data-stu-id="75137-202">In the AdventureWorks sample model, the key attribute of the Date dimension is the Date key.</span></span> <span data-ttu-id="75137-203">對於 [銷售訂單階層]，資料粒度屬性相當於索引鍵屬性。</span><span class="sxs-lookup"><span data-stu-id="75137-203">For Sales Orders, the granularity attribute is equivalent to the key attribute.</span></span> <span data-ttu-id="75137-204">對於 [銷售目標]，資料粒度層級為每季，所以資料粒度屬性便據此設為 [日曆季]。</span><span class="sxs-lookup"><span data-stu-id="75137-204">For Sales Targets, the level of granularity is quarterly, and so the granularity attribute is set to Calendar Quarter, accordingly.</span></span>  
  
 <span data-ttu-id="75137-205">![顯示資料粒度屬性的模型](../media/ssas-keyconcepts-granularityattrib.png "顯示資料粒度屬性的模型")</span><span class="sxs-lookup"><span data-stu-id="75137-205">![Model showing the granularity attribute](../media/ssas-keyconcepts-granularityattrib.png "Model showing the granularity attribute")</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="75137-206">若資料粒度屬性和索引鍵屬性不同，則必須將非索引鍵屬性直接或間接連結至資料粒度屬性。</span><span class="sxs-lookup"><span data-stu-id="75137-206">If the granularity attribute and the key attribute are different, all non-key attributes must be linked, directly or indirectly, to the granularity attribute.</span></span> <span data-ttu-id="75137-207">在 Cube 內，資料粒度屬性會定義維度的資料粒度。</span><span class="sxs-lookup"><span data-stu-id="75137-207">Within a cube, the granularity attribute defines a dimension's granularity.</span></span>  
  
## <a name="query-scope-cube-space"></a><span data-ttu-id="75137-208">查詢範圍 (Cube 空間)</span><span class="sxs-lookup"><span data-stu-id="75137-208">Query Scope (Cube Space)</span></span>  
 <span data-ttu-id="75137-209">查詢範圍是選取資料的界限。</span><span class="sxs-lookup"><span data-stu-id="75137-209">Scope of a query refers to the boundaries within which data is being selected.</span></span> <span data-ttu-id="75137-210">範圍可從整個 Cube (Cube 是最大的查詢物件) 到某個資料格。</span><span class="sxs-lookup"><span data-stu-id="75137-210">It can range from the entire cube (a cube is the largest query object) to a cell.</span></span>  
  
 <span data-ttu-id="75137-211">**Cube 空間** 是具有 Cube 量值之 Cube 屬性階層中成員的乘積。</span><span class="sxs-lookup"><span data-stu-id="75137-211">**Cube space** is the product of the members of a cube's attribute hierarchies with the cube's measures.</span></span>  
  
 <span data-ttu-id="75137-212">**Subcube** 是代表已篩選之 Cube 檢視的 Cube 子集。</span><span class="sxs-lookup"><span data-stu-id="75137-212">**Subcube** is a subset of a cube that represents a filtered view of the cube.</span></span> <span data-ttu-id="75137-213">Subcube 可以使用 MDX 計算指令碼的 Scope 陳述式、MDX 查詢的 subselect 子句或當做工作階段 Cube 加以定義。</span><span class="sxs-lookup"><span data-stu-id="75137-213">Subcubes can be defined with a Scope statement in the MDX calculation script, or in a subselect clause in an MDX query or as a session cube.</span></span>  
  
 <span data-ttu-id="75137-214">**資料格** 是量值維度的成員與 Cube 中每個屬性階層之成員的交集空間。</span><span class="sxs-lookup"><span data-stu-id="75137-214">**Cell** refers to the space at the intersection of a member of the measures dimension member and a member from each attribute hierarchy in a cube.</span></span>  
  
## <a name="other-modeling-terms"></a><span data-ttu-id="75137-215">其他模型化詞彙</span><span class="sxs-lookup"><span data-stu-id="75137-215">Other Modeling Terms</span></span>  
 <span data-ttu-id="75137-216">本節是無法輕易地放入其他章節的概念和詞彙集合，但您仍然需要瞭解。</span><span class="sxs-lookup"><span data-stu-id="75137-216">This section is a collection of concepts and terms that don't fit easily into other sections, but you still need to know about.</span></span>  
  
 <span data-ttu-id="75137-217">**導出成員** 是在查詢時定義及計算的維度成員。</span><span class="sxs-lookup"><span data-stu-id="75137-217">**Calculated member** is a dimension member that is defined and calculated at query time.</span></span> <span data-ttu-id="75137-218">導出成員可以定義在使用者查詢或 MDX 計算指令碼中，並且儲存在伺服器。</span><span class="sxs-lookup"><span data-stu-id="75137-218">A calculated member can be defined in a user query or in the MDX calculation script and stored on the server.</span></span> <span data-ttu-id="75137-219">導出成員會對應到定義所在之維度中的資料表資料列。</span><span class="sxs-lookup"><span data-stu-id="75137-219">A calculated member corresponds to rows in the dimension table of the dimension in which it is defined.</span></span>  
  
 <span data-ttu-id="75137-220">**相異計數** 是特殊的量值類型，用於只應計數一次的資料項目。</span><span class="sxs-lookup"><span data-stu-id="75137-220">**Distinct Count** is a special type of measure used for data items that should only be counted once.</span></span> <span data-ttu-id="75137-221">AdventureWorks 範例模型包含 [網際網路訂單]、[轉售商訂單] 和 [銷售訂單階層] 的相異計數量值。</span><span class="sxs-lookup"><span data-stu-id="75137-221">The AdventureWorks sample model includes distinct count measures for Internet Orders, Reseller Orders, and Sales Orders.</span></span>  
  
 <span data-ttu-id="75137-222">**量值群組** 是一或多個量值的集合。</span><span class="sxs-lookup"><span data-stu-id="75137-222">**Measure groups** are a collection of one or more measures.</span></span> <span data-ttu-id="75137-223">大多數的量值群組都是使用者定義，且可讓您用於使相關的量值聚在一起。</span><span class="sxs-lookup"><span data-stu-id="75137-223">Mostly these are user-defined, and you use them to keep related measures together.</span></span> <span data-ttu-id="75137-224">相異計數量值為例外狀況。</span><span class="sxs-lookup"><span data-stu-id="75137-224">Distinct count measures are an exception.</span></span> <span data-ttu-id="75137-225">相異計數量值會一律放在只包含相異量值的專用量值群組中。</span><span class="sxs-lookup"><span data-stu-id="75137-225">These are always placed in a dedicated measure group that contains only the distinct measure.</span></span> <span data-ttu-id="75137-226">您在樞紐分析表範例圖中看不到量值群組，但它會顯示在樞紐分析表欄位清單中，做為指定的量值集合。</span><span class="sxs-lookup"><span data-stu-id="75137-226">You can't see the measure group in the PivotTable example illustration, but it does appear in a PivotTable field list, as a named collection of measures.</span></span>  
  
 <span data-ttu-id="75137-227">**量值維度** 是包含 Cube 中所有量值的維度。</span><span class="sxs-lookup"><span data-stu-id="75137-227">**Measures dimension** is the dimension that contains all of the measures in a cube.</span></span> <span data-ttu-id="75137-228">它不會在您于 SQL Server Data Tools 中建立的多維度模型中公開，但它只存在相同的。</span><span class="sxs-lookup"><span data-stu-id="75137-228">It's not exposed in a multidimensional model that you build in SQL Server Data Tools, but it exists just the same.</span></span> <span data-ttu-id="75137-229">因為它包含量值，而量值維度的所有成員一般而言都已經匯總 (通常是使用總和或計數)。</span><span class="sxs-lookup"><span data-stu-id="75137-229">Because it contains measures, all of the members of a measures dimension are typically aggregated (generally by sum or by count).</span></span>  
  
 <span data-ttu-id="75137-230">**資料庫維度和 Cube 維度**。</span><span class="sxs-lookup"><span data-stu-id="75137-230">**Database Dimensions and Cube Dimensions**.</span></span> <span data-ttu-id="75137-231">您可以在模型中定義獨立維度，然後獨立維度便會包含在相同模型中任意數量的 Cube 中。</span><span class="sxs-lookup"><span data-stu-id="75137-231">Within a model, you can define standalone dimensions that are then included in any number of cubes in the same model.</span></span> <span data-ttu-id="75137-232">當您將維度加入至 cube 時，它稱為 cube 維度。</span><span class="sxs-lookup"><span data-stu-id="75137-232">When you add a dimension to a cube, it's called a cube dimension.</span></span> <span data-ttu-id="75137-233">本身在專案內，做為物件總管中的獨立專案，這稱為資料庫維度。</span><span class="sxs-lookup"><span data-stu-id="75137-233">By itself within a project, as a standalone item in Object Explorer, it's called a database dimension.</span></span> <span data-ttu-id="75137-234">為何要如此區分？</span><span class="sxs-lookup"><span data-stu-id="75137-234">Why make the distinction?</span></span> <span data-ttu-id="75137-235">因為這樣您才可以分別對它們設定屬性 (Property)。</span><span class="sxs-lookup"><span data-stu-id="75137-235">Because you can set properties on them independently.</span></span> <span data-ttu-id="75137-236">在產品檔中，您將會看到這兩個詞彙，因此值得了解它們的意義。</span><span class="sxs-lookup"><span data-stu-id="75137-236">In product documentation, you'll see both terms used, so it's worthwhile to understand what they mean.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="75137-237">後續步驟</span><span class="sxs-lookup"><span data-stu-id="75137-237">Next Steps</span></span>  
 <span data-ttu-id="75137-238">現在您已經認識了重要的概念和術語，您可以繼續閱讀這些其他主題，以進一步了解 Analysis Services 中的基本概念：</span><span class="sxs-lookup"><span data-stu-id="75137-238">Now that you have a grasp of important concepts and terminology, you can continue on to these additional topics that further explain fundamental concepts in Analysis Services:</span></span>  
  
-   [<span data-ttu-id="75137-239">基本 MDX 查詢 &#40;MDX&#41;</span><span class="sxs-lookup"><span data-stu-id="75137-239">The Basic MDX Query &#40;MDX&#41;</span></span>](mdx/mdx-query-the-basic-query.md)  
  
-   [<span data-ttu-id="75137-240">基本 MDX 指令碼 &#40;MDX&#41;</span><span class="sxs-lookup"><span data-stu-id="75137-240">The Basic MDX Script &#40;MDX&#41;</span></span>](mdx/the-basic-mdx-script-mdx.md)  
  
-   [<span data-ttu-id="75137-241">多維度模型化 &#40;Adventure Works 教學課程&#41;</span><span class="sxs-lookup"><span data-stu-id="75137-241">Multidimensional Modeling &#40;Adventure Works Tutorial&#41;</span></span>](../multidimensional-modeling-adventure-works-tutorial.md)  
  
## <a name="see-also"></a><span data-ttu-id="75137-242">另請參閱</span><span class="sxs-lookup"><span data-stu-id="75137-242">See Also</span></span>  
 <span data-ttu-id="75137-243">[Cube 空間](mdx/cube-space.md) </span><span class="sxs-lookup"><span data-stu-id="75137-243">[Cube Space](mdx/cube-space.md) </span></span>  
 <span data-ttu-id="75137-244">[得到](mdx/tuples.md) </span><span class="sxs-lookup"><span data-stu-id="75137-244">[Tuples](mdx/tuples.md) </span></span>  
 <span data-ttu-id="75137-245">[自動存在](mdx/autoexists.md) </span><span class="sxs-lookup"><span data-stu-id="75137-245">[Autoexists](mdx/autoexists.md) </span></span>  
 <span data-ttu-id="75137-246">[使用成員、元組和集合 &#40;MDX&#41;](mdx/working-with-members-tuples-and-sets-mdx.md) </span><span class="sxs-lookup"><span data-stu-id="75137-246">[Working with Members, Tuples, and Sets &#40;MDX&#41;](mdx/working-with-members-tuples-and-sets-mdx.md) </span></span>  
 <span data-ttu-id="75137-247">[視覺效果總計和非視覺化總計](mdx/visual-totals-and-non-visual-totals.md) </span><span class="sxs-lookup"><span data-stu-id="75137-247">[Visual Totals and Non Visual Totals](mdx/visual-totals-and-non-visual-totals.md) </span></span>  
 <span data-ttu-id="75137-248">[MDX 查詢基本概念 &#40;Analysis Services&#41;](mdx/mdx-query-fundamentals-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="75137-248">[MDX Query Fundamentals &#40;Analysis Services&#41;](mdx/mdx-query-fundamentals-analysis-services.md) </span></span>  
 <span data-ttu-id="75137-249">[MDX 腳本基礎 &#40;Analysis Services&#41;](mdx/mdx-scripting-fundamentals-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="75137-249">[MDX Scripting Fundamentals &#40;Analysis Services&#41;](mdx/mdx-scripting-fundamentals-analysis-services.md) </span></span>  
 <span data-ttu-id="75137-250">[Mdx 語言參考 &#40;MDX&#41;](/sql/mdx/mdx-language-reference-mdx) </span><span class="sxs-lookup"><span data-stu-id="75137-250">[MDX Language Reference &#40;MDX&#41;](/sql/mdx/mdx-language-reference-mdx) </span></span>  
 [<span data-ttu-id="75137-251">多維度運算式 &#40;MDX&#41 參考</span><span class="sxs-lookup"><span data-stu-id="75137-251">Multidimensional Expressions &#40;MDX&#41; Reference</span></span>](/sql/mdx/multidimensional-expressions-mdx-reference)  
  
  
