---
title: 多維度模型物件處理 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- online mode [Analysis Services]
- processing objects [Analysis Services]
- partitions [Analysis Services], processing
- jobs [Analysis Services]
- objects [Analysis Services], processing
- reprocessing objects
- impact analysis [Analysis Services]
- dimensions [Analysis Services], processing
- project mode [Analysis Services]
- cubes [Analysis Services], processing
ms.assetid: 625aa5a6-aa09-4bac-be8a-778fa81c5a61
author: minewiskan
ms.author: owend
ms.openlocfilehash: e61ff8f80579bba59aced5de4e824f036d633cac
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87596925"
---
# <a name="multidimensional-model-object-processing"></a><span data-ttu-id="d27e2-102">多維度模型物件處理</span><span class="sxs-lookup"><span data-stu-id="d27e2-102">Multidimensional Model Object Processing</span></span>
  <span data-ttu-id="d27e2-103">處理是一個步驟或是一連串的步驟，Analysis Services 會在這些步驟中將關聯式資料來源中的資料載入多維度模型中。</span><span class="sxs-lookup"><span data-stu-id="d27e2-103">Processing is the step, or series of steps, in which Analysis Services loads data from a relational data source into a multidimensional model.</span></span> <span data-ttu-id="d27e2-104">如果是使用 MOLAP 儲存的物件，資料會儲存至磁碟的資料庫檔案資料夾中。</span><span class="sxs-lookup"><span data-stu-id="d27e2-104">For objects that use MOLAP storage, data is saved on disk in the database file folder.</span></span> <span data-ttu-id="d27e2-105">對於 ROLAP 儲存，視需要發生處理，以回應物件的 MDX 查詢。</span><span class="sxs-lookup"><span data-stu-id="d27e2-105">For ROLAP storage, processing occurs on demand, in response to an MDX query on an object.</span></span> <span data-ttu-id="d27e2-106">如果是使用 ROLAP 儲存的物件，處理是指在傳回查詢結果之前更新快取。</span><span class="sxs-lookup"><span data-stu-id="d27e2-106">For objects that use ROLAP storage, processing refers to updating the cache before returning query results.</span></span>  
  
 <span data-ttu-id="d27e2-107">根據預設，當您將方案部署到伺服器時便會進行處理作業。</span><span class="sxs-lookup"><span data-stu-id="d27e2-107">By default, processing occurs when you deploy a solution to the server.</span></span> <span data-ttu-id="d27e2-108">您也可以處理方案的全部或一部分，不論是透過類似 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] 或 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]等工具隨選處理，還是透過 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 和 SQL Server Agent 依排程處理。</span><span class="sxs-lookup"><span data-stu-id="d27e2-108">You can also process all or part of a solution, either ad hoc using tools such as [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] or [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], or on a schedule using [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and SQL Server Agent.</span></span> <span data-ttu-id="d27e2-109">當您對模型進行結構變更 (例如移除維度或變更其相容性層級) 時，您必須再次處理，以同步處理模型的實體和邏輯層面。</span><span class="sxs-lookup"><span data-stu-id="d27e2-109">When making a structural change to the model, such as removing a dimension or changing its compatibility level, you will need to process again to synchronize the physical and logical aspects of the model.</span></span>  
  
 <span data-ttu-id="d27e2-110">這個主題包括下列各節：</span><span class="sxs-lookup"><span data-stu-id="d27e2-110">This topic includes the following sections:</span></span>  
  
 [<span data-ttu-id="d27e2-111">先決條件</span><span class="sxs-lookup"><span data-stu-id="d27e2-111">Prerequisites</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="d27e2-112">選擇工具或方法</span><span class="sxs-lookup"><span data-stu-id="d27e2-112">Choosing a tool or approach</span></span>](#bkmk_tool)  
  
 [<span data-ttu-id="d27e2-113">處理物件</span><span class="sxs-lookup"><span data-stu-id="d27e2-113">Processing Objects</span></span>](#bkmk_proc)  
  
 [<span data-ttu-id="d27e2-114">重新處理物件</span><span class="sxs-lookup"><span data-stu-id="d27e2-114">Reprocessing Objects</span></span>](#bkmk_reproc)  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="d27e2-115">必要條件</span><span class="sxs-lookup"><span data-stu-id="d27e2-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="d27e2-116">處理需要 Analysis Services 執行個體的管理權限。</span><span class="sxs-lookup"><span data-stu-id="d27e2-116">Processing requires administrative permissions on the Analysis Services instance.</span></span> <span data-ttu-id="d27e2-117">如果您以互動方式從 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 或 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]處理，您必須是 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體上的伺服器管理員角色成員。</span><span class="sxs-lookup"><span data-stu-id="d27e2-117">If you are processing interactively from [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], you must be a member of the server administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="d27e2-118">如果是自動執行的處理，例如使用透過 SQL Server Agent 排程的 SSIS 封裝，則用來執行此封裝的帳戶必須是伺服器管理員角色的成員。</span><span class="sxs-lookup"><span data-stu-id="d27e2-118">For processing that runs unattended, for example using an SSIS package that you schedule through SQL Server Agent, the account used to run the package must be a member of the server administrator role.</span></span> <span data-ttu-id="d27e2-119">如需設定系統管理員許可權的詳細資訊，請參閱[&#40;Analysis Services&#41;授與伺服器管理員許可權](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-119">For more information about setting administrator permissions, see [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md).</span></span>  
  
-   <span data-ttu-id="d27e2-120">用來擷取資料的帳戶會在資料來源物件中指定，這會以模擬選項的形式 (如果您是使用 Windows 驗證) 或是連接字串中的使用者名稱形式 (如果是使用資料庫驗證) 指定。</span><span class="sxs-lookup"><span data-stu-id="d27e2-120">The account used to retrieve data is specified in the data source object, either as an impersonation option if you are using Windows authentication, or as the user name on the connection string if using database authentication.</span></span> <span data-ttu-id="d27e2-121">該帳戶必須擁有模型所使用之關聯式資料來源的讀取權限。</span><span class="sxs-lookup"><span data-stu-id="d27e2-121">The account must have read permissions on relational data sources used by the model.</span></span>  
  
-   <span data-ttu-id="d27e2-122">必須先部署專案或方案，然後才能處理任何物件。</span><span class="sxs-lookup"><span data-stu-id="d27e2-122">The project or solution must be deployed before you can process any objects.</span></span>  
  
     <span data-ttu-id="d27e2-123">一開始在模型開發的早期階段，部署和處理會一起進行。</span><span class="sxs-lookup"><span data-stu-id="d27e2-123">Initially, during the early stages of model development, deployment and processing occur together.</span></span> <span data-ttu-id="d27e2-124">但是，在您部署方案之後可以設定選項，以便於稍後處理模型。</span><span class="sxs-lookup"><span data-stu-id="d27e2-124">However, you can set options to process the model later, after you deploy the solution.</span></span> <span data-ttu-id="d27e2-125">如需部署的詳細資訊，請參閱[部署 Analysis Services 專案 &#40;SSDT&#41;](deploy-analysis-services-projects-ssdt.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-125">For more information about deployment, see [Deploy Analysis Services Projects &#40;SSDT&#41;](deploy-analysis-services-projects-ssdt.md).</span></span>  
  
##  <a name="choosing-a-tool-or-approach"></a><a name="bkmk_tool"></a><span data-ttu-id="d27e2-126">選擇工具或方法</span><span class="sxs-lookup"><span data-stu-id="d27e2-126">Choosing a tool or approach</span></span>  
 <span data-ttu-id="d27e2-127">您可以使用用戶端應用程式 (例如 [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] 或 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]) 以互動方式處理物件，或使用以 SQL Server Agent 作業或 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 封裝方式執行之已編寫指令碼的作業。</span><span class="sxs-lookup"><span data-stu-id="d27e2-127">You can process objects interactively using a client application such as [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] or [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], or a scripted operation that run as a SQL Server Agent job or [!INCLUDE[ssIS](../../includes/ssis-md.md)] package.</span></span>  
  
 <span data-ttu-id="d27e2-128">根據模型是處於積極開發或實際執行狀態，處理資料庫的方式差別很大。</span><span class="sxs-lookup"><span data-stu-id="d27e2-128">How you process a database varies considerably depending on whether the model is in active development or in production.</span></span> <span data-ttu-id="d27e2-129">一旦模型部署至實際執行伺服器後，處理必須受到嚴格控制，以確保多維度資料的完整性和可用性。</span><span class="sxs-lookup"><span data-stu-id="d27e2-129">Once a model is deployed to a production server, processing must be tightly controlled to ensure the integrity and availability of multidimensional data.</span></span> <span data-ttu-id="d27e2-130">因為物件彼此相依，處理通常在整個模型中有連鎖效應，其他物件也會一前一後處理或取消處理。</span><span class="sxs-lookup"><span data-stu-id="d27e2-130">Because objects are interdependent, processing typically has a cascading effect across the model as other objects are also processed or unprocessed in tandem.</span></span> <span data-ttu-id="d27e2-131">如果部分物件處於未處理的狀態，該資料的查詢將無法解析，而中斷使用該資料的任何報表或應用程式。</span><span class="sxs-lookup"><span data-stu-id="d27e2-131">If some objects are left in an unprocessed state, queries for that data will not resolve, breaking any reports or applications that use it.</span></span> <span data-ttu-id="d27e2-132">在開發處理生產資料庫的策略時，請考慮使用已偵錯及測試的指令碼或 [!INCLUDE[ssIS](../../includes/ssis-md.md)] 封裝，以避免運算子錯誤或步驟被忽略。</span><span class="sxs-lookup"><span data-stu-id="d27e2-132">When developing a strategy for processing a production database, consider using script or [!INCLUDE[ssIS](../../includes/ssis-md.md)] packages that you have debugged and tested to avoid operator error or overlooked steps.</span></span>  
  
 <span data-ttu-id="d27e2-133">如需詳細資訊，請參閱[處理的工具和方式 &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-133">For more information, see [Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md).</span></span>  
  
##  <a name="processing-objects"></a><a name="bkmk_proc"></a><span data-ttu-id="d27e2-134">處理物件</span><span class="sxs-lookup"><span data-stu-id="d27e2-134">Processing Objects</span></span>  
 <span data-ttu-id="d27e2-135">處理會影響下列 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 物件：量值群組、資料分割、維度、Cube、採礦模型、採礦結構和資料庫。</span><span class="sxs-lookup"><span data-stu-id="d27e2-135">Processing affects the following [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects: measure groups, partitions, dimensions, cubes, mining models, mining structures, and databases.</span></span> <span data-ttu-id="d27e2-136">當物件包含一個或多個物件時，處理最高層級物件會造成串聯處理所有較低層級物件。</span><span class="sxs-lookup"><span data-stu-id="d27e2-136">When an object contains one or more objects, processing the highest-level object causes a cascade of processing all the lower-level objects.</span></span> <span data-ttu-id="d27e2-137">例如，Cube 通常會包含一個或多個量值群組 (每一個量值群組又會包含一個或多個資料分割) 及維度。</span><span class="sxs-lookup"><span data-stu-id="d27e2-137">For example, a cube typically contains one or more measure groups (each of which contains one or more partitions) and dimensions.</span></span> <span data-ttu-id="d27e2-138">處理 Cube 會使得 Cube 之內的所有量值群組以及目前處於尚未處理狀態的構成維度進行處理。</span><span class="sxs-lookup"><span data-stu-id="d27e2-138">Processing a cube causes processing of all the measure groups within the cube and the constituent dimensions that are currently in an unprocessed state.</span></span> <span data-ttu-id="d27e2-139">如需處理 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 物件的詳細資訊，請參閱 [處理 Analysis Services 物件](processing-analysis-services-objects.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-139">For more information about processing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, see [Processing Analysis Services Objects](processing-analysis-services-objects.md).</span></span>  
  
 <span data-ttu-id="d27e2-140">在處理作業進行的同時，受影響的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 物件可以存取進行查詢。</span><span class="sxs-lookup"><span data-stu-id="d27e2-140">While the processing job is working, the affected [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects can be accessed for querying.</span></span> <span data-ttu-id="d27e2-141">處理作業在交易之內進行，交易可以認可或回復。</span><span class="sxs-lookup"><span data-stu-id="d27e2-141">The processing job works inside a transaction and the transaction can be committed or rolled back.</span></span> <span data-ttu-id="d27e2-142">如果處理作業失敗，就會回復該交易。</span><span class="sxs-lookup"><span data-stu-id="d27e2-142">If the processing job fails, the transaction is rolled back.</span></span> <span data-ttu-id="d27e2-143">如果處理作業成功，在認可變更時，會在物件上放置獨佔鎖定，也就是說，物件會暫時無法進行查詢或處理。</span><span class="sxs-lookup"><span data-stu-id="d27e2-143">If the processing job succeeds, an exclusive lock is put on the object when changes are being committed, which means the object is temporarily unavailable for query or processing.</span></span> <span data-ttu-id="d27e2-144">在交易的認可階段期間，查詢仍可傳送至物件，但要等到完成認可之後，才會進入佇列。</span><span class="sxs-lookup"><span data-stu-id="d27e2-144">During the commit phase of the transaction, queries can still be sent to the object, but they will be queued until the commit is completed.</span></span>  
  
 <span data-ttu-id="d27e2-145">在處理作業期間，物件是否已處理以及要如何處理，都依為該物件所設的處理選項而定。</span><span class="sxs-lookup"><span data-stu-id="d27e2-145">During a processing job, whether an object is processed, and how it will be processed, depends on the processing option that is set for that object.</span></span> <span data-ttu-id="d27e2-146">如需可套用至每一個物件之特定處理選項的詳細資訊，請參閱[處理選項和設定 &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-146">For more information about the specific processing options that can be applied to each object, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
##  <a name="reprocessing-objects"></a><a name="bkmk_reproc"></a><span data-ttu-id="d27e2-147">重新處理物件</span><span class="sxs-lookup"><span data-stu-id="d27e2-147">Reprocessing Objects</span></span>  
 <span data-ttu-id="d27e2-148">包含未處理元素的 Cube 必須重新處理才能進行瀏覽。</span><span class="sxs-lookup"><span data-stu-id="d27e2-148">Cubes that contain unprocessed elements have to be reprocessed before they can be browsed.</span></span> <span data-ttu-id="d27e2-149">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 中的 Cube 包含量值群組和資料分割，必須先加以處理，才能查詢 Cube。</span><span class="sxs-lookup"><span data-stu-id="d27e2-149">Cubes in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] contain measure groups and partitions that must be processed before the cube can be queried.</span></span> <span data-ttu-id="d27e2-150">如果構成維度處於尚未處理的狀態，處理 Cube 會使得 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 處理 Cube 的構成維度。</span><span class="sxs-lookup"><span data-stu-id="d27e2-150">Processing a cube causes [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to process constituent dimensions of the cube if those dimensions are in an unprocessed state.</span></span> <span data-ttu-id="d27e2-151">第一次處理物件之後，如果有發生下列任一情況，則必須部分或完整地重新處理它：</span><span class="sxs-lookup"><span data-stu-id="d27e2-151">After an object has been processed the first time, it must be reprocessed either partially or in full whenever one of the following situations occurs:</span></span>  
  
-   <span data-ttu-id="d27e2-152">物件的結構變更，例如卸除事實資料表中的資料行。</span><span class="sxs-lookup"><span data-stu-id="d27e2-152">The structure of the object changes, such as dropping a column in a fact table.</span></span>  
  
-   <span data-ttu-id="d27e2-153">物件的彙總設計變更。</span><span class="sxs-lookup"><span data-stu-id="d27e2-153">The aggregation design for the object changes.</span></span>  
  
-   <span data-ttu-id="d27e2-154">需要更新物件中的資料。</span><span class="sxs-lookup"><span data-stu-id="d27e2-154">The data in the object needs to be updated.</span></span>  
  
 <span data-ttu-id="d27e2-155">當您在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]中處理物件時，您可以選取處理選項，或啟用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 來決定適當的處理類型。</span><span class="sxs-lookup"><span data-stu-id="d27e2-155">When you process objects in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you can select a processing option, or you can enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to determine the appropriate type of processing.</span></span> <span data-ttu-id="d27e2-156">可用的處理方法會因不同物件而異，並會以物件類型為基礎。</span><span class="sxs-lookup"><span data-stu-id="d27e2-156">The processing methods made available differ from one object to another, and are based on the type of object.</span></span> <span data-ttu-id="d27e2-157">另外，可用的方法也會依據物件上次處理之後所發生的變更而定。</span><span class="sxs-lookup"><span data-stu-id="d27e2-157">Additionally, the methods available are based on what changes have occurred to the object since it was last processed.</span></span> <span data-ttu-id="d27e2-158">如果您讓 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 自動選取處理方法，它將使用的方法是能夠使物件在最短時間內回到完整處理狀態。</span><span class="sxs-lookup"><span data-stu-id="d27e2-158">If you enable [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to automatically select a processing method, it will use the method that returns the object to a fully processed state in the least time.</span></span> <span data-ttu-id="d27e2-159">如需詳細資訊，請參閱[處理選項和設定 &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d27e2-159">For more information, see [Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d27e2-160">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d27e2-160">See Also</span></span>  
 <span data-ttu-id="d27e2-161">[邏輯架構 &#40;Analysis Services-多維度資料&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span><span class="sxs-lookup"><span data-stu-id="d27e2-161">[Logical Architecture &#40;Analysis Services - Multidimensional Data&#41;](olap-logical/understanding-microsoft-olap-logical-architecture.md) </span></span>  
 [<span data-ttu-id="d27e2-162">資料庫物件 &#40;Analysis Services - 多維度資料&#41;</span><span class="sxs-lookup"><span data-stu-id="d27e2-162">Database Objects &#40;Analysis Services - Multidimensional Data&#41;</span></span>](olap-logical/database-objects-analysis-services-multidimensional-data.md)  
  
  
