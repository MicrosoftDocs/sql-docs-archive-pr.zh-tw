---
title: 量值和量值群組 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- measure groups [Analysis Services]
- measures [Analysis Services], about measures
- OLAP objects [Analysis Services], measures
- aggregate functions [Analysis Services]
- granularity
- measure groups [Analysis Services], about measure groups
- measures [Analysis Services]
- aggregations [Analysis Services], measures
- fact tables [Analysis Services]
ms.assetid: 4f0122f9-c3a5-4172-ada3-5bc5f7b1cc9a
author: minewiskan
ms.author: owend
ms.openlocfilehash: daac03573880328ffe2648343d5af45eb7b07801
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87700345"
---
# <a name="measures-and-measure-groups"></a><span data-ttu-id="c8cdf-102">量值和量值群組</span><span class="sxs-lookup"><span data-stu-id="c8cdf-102">Measures and Measure Groups</span></span>
  <span data-ttu-id="c8cdf-103">Cube 包含「量值群組」\*\* 中的「量值」\*\*、商務邏輯，以及可以在求取量值所提供之數值資料的值時提供內容的維度集合。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-103">A cube includes *measures* in *measure groups*, business logic, plus a collection of dimensions that give context for evaluating the numerical data that a measure provides.</span></span> <span data-ttu-id="c8cdf-104">量值和量值群組均為 Cube 的重要元件。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-104">Both measures and measure groups are an essential component of a cube.</span></span> <span data-ttu-id="c8cdf-105">Cube 的存在至少須具備其中一項元件。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-105">A cube cannot exist without at least one of each.</span></span>  
  
 <span data-ttu-id="c8cdf-106">本主題描述 [量值](#bkmk_measure) 和 [量值群組](#bkmk_mg)。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-106">This topic describes [Measures](#bkmk_measure) and [Measure Groups](#bkmk_mg).</span></span> <span data-ttu-id="c8cdf-107">它也包含下表，表內有連結可供取得建立及設定量值和量值群組的程序步驟。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-107">It also contains the following table, with links to procedural steps for creating and configuring measures and measure groups.</span></span>  
  
|<span data-ttu-id="c8cdf-108">**連結**</span><span class="sxs-lookup"><span data-stu-id="c8cdf-108">**Link**</span></span>|<span data-ttu-id="c8cdf-109">**說明**</span><span class="sxs-lookup"><span data-stu-id="c8cdf-109">**Description**</span></span>|  
|--------------|---------------------|  
|[<span data-ttu-id="c8cdf-110">在多維度模型中建立量值和量值群組</span><span class="sxs-lookup"><span data-stu-id="c8cdf-110">Create Measures and Measure Groups in Multidimensional Models</span></span>](create-measures-and-measure-groups-in-multidimensional-models.md)|<span data-ttu-id="c8cdf-111">您有數種方法可以用來建立量值和量值群組。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-111">Choose from one of several approaches for creating measures and measure groups.</span></span>|  
|[<span data-ttu-id="c8cdf-112">設定量值屬性</span><span class="sxs-lookup"><span data-stu-id="c8cdf-112">Configure Measure Properties</span></span>](configure-measure-properties.md)|<span data-ttu-id="c8cdf-113">若是使用 [Cube 精靈] 啟動您的 Cube 時，您必須變更彙總方法、套用資料格式、設定是否要在用戶端應用程式中顯示量值，或可能需要在彙總值之前，先新增量值運算式來操作資料。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-113">If you used the Cube Wizard to start your cube, you might need to change the aggregation method, apply a data format, set the visibility of the measure in client applications, or possibly add a measure expression to manipulate the data before values are aggregated.</span></span>|  
|[<span data-ttu-id="c8cdf-114">設定量值群組屬性</span><span class="sxs-lookup"><span data-stu-id="c8cdf-114">Configure Measure Group Properties</span></span>](configure-measure-group-properties.md)|<span data-ttu-id="c8cdf-115">在多維度模型中，量值群組等於來源資料倉儲中的事實資料表。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-115">In a multidimensional model, a measure group equates to a fact table in the source data warehouse.</span></span> <span data-ttu-id="c8cdf-116">量值群組的屬性可讓您指定在量值群組層級之快取行為、儲存體及處理指示詞的整體運作方式。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-116">Properties on a measure group allow you to specify caching behaviors, storage, and processing directives that operate collectively at the measure group level.</span></span> <span data-ttu-id="c8cdf-117">磁碟分割設定有部分取決於您對量值群組物件設定的屬性。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-117">Partition configuration is partly determined by the properties you set on measure group objects.</span></span>|  
|[<span data-ttu-id="c8cdf-118">使用彙總函式</span><span class="sxs-lookup"><span data-stu-id="c8cdf-118">Use Aggregate Functions</span></span>](use-aggregate-functions.md)|<span data-ttu-id="c8cdf-119">了解可以指派給量值的彙總方法。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-119">Understand the aggregation methods that can be assigned to a measure.</span></span>|  
|[<span data-ttu-id="c8cdf-120">定義局部加總行為</span><span class="sxs-lookup"><span data-stu-id="c8cdf-120">Define Semiadditive Behavior</span></span>](define-semiadditive-behavior.md)|<span data-ttu-id="c8cdf-121">局部加總行為是指對於某些維度有效，但對其他維度無效的彙總。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-121">Semiadditive behavior refers to aggregations that are valid for some dimensions but not others.</span></span> <span data-ttu-id="c8cdf-122">常見範例為銀行帳戶餘額。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-122">A common example is a bank account balance.</span></span> <span data-ttu-id="c8cdf-123">您可能只想要依客戶及地區彙總餘額，而不需要依時間。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-123">You might want to aggregate balances by customer and region, but not time.</span></span> <span data-ttu-id="c8cdf-124">例如，您不想要加總同一帳戶連續數日期間的餘額。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-124">For example, you would not want to add balances from the same account over consecutive days.</span></span> <span data-ttu-id="c8cdf-125">若要定義局部加總行為，請使用 [加入商業智慧精靈]。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-125">To define semiadditive behavior,   use the Add Business Intelligence Wizard.</span></span>|  
|[<span data-ttu-id="c8cdf-126">連結量值群組</span><span class="sxs-lookup"><span data-stu-id="c8cdf-126">Linked Measure Groups</span></span>](linked-measure-groups.md)|<span data-ttu-id="c8cdf-127">重新安排現有的量值群組中在同一資料庫或不同 Analysis Services 資料庫中之其他 Cube 中的用途。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-127">Repurpose an existing measure group in other cubes in the same database or in different Analysis Services databases.</span></span>|  
  
##  <a name="measures"></a><a name="bkmk_measure"></a><span data-ttu-id="c8cdf-128">評估</span><span class="sxs-lookup"><span data-stu-id="c8cdf-128">Measures</span></span>  
 <span data-ttu-id="c8cdf-129">量值代表包含可彙總之可量化資料 (通常是數值) 的資料行。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-129">A measure represents a column that contains quantifiable data, usually numeric, that can be aggregated.</span></span> <span data-ttu-id="c8cdf-130">量值代表組織活動的某些層面，可以貨幣表示 (例如營收、獲利或成本)，或以計數表示 (庫存量、員工數、客戶數或訂單數)，或以結合商務邏輯之更複雜的計算方式表示。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-130">Measures represent some aspect of organizational activity, expressed in monetary terms (such as revenue, margins, or costs) or as counts (inventory levels, number of employees, customers, or orders), or as a more complex calculation that incorporates business logic.</span></span>  
  
 <span data-ttu-id="c8cdf-131">每個 Cube 至少須有一個量值，但大部分 Cube 都有許多量值，有時數量可達數百。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-131">Every cube must have at least one measure, but most have many, sometimes numbering in the hundreds.</span></span> <span data-ttu-id="c8cdf-132">從結構來說，量值通常會對應到事實資料表中的來源資料行，再由資料行提供用以載入量值的值。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-132">Structurally, a measure is often mapped to a source column in a fact table, with the column providing the values used to load the measure.</span></span> <span data-ttu-id="c8cdf-133">或者，您也可以使用 MDX 定義量值。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-133">Alternatively, you can also define a measure using MDX.</span></span>  
  
 <span data-ttu-id="c8cdf-134">量值取決於內容，並會在查詢中所含之維度成員所指定的內容中，對數值資料作業。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-134">Measures are context-sensitive, operating on numeric data in a context that is determined by whichever dimension members happen to be included in the query.</span></span> <span data-ttu-id="c8cdf-135">例如，計算**轉售商銷售**的量值將由 `Sum` 操作員提供支援，並會為查詢中包含的每個維度成員加入銷售金額。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-135">For example, a measure that calculates **Reseller Sales** will be backed by a `Sum` operator, and it will add the sales amounts for each dimension member included in the query.</span></span> <span data-ttu-id="c8cdf-136">無論查詢指定個別的產品、彙總成一個類別，或是依時間或地理位置切割，量值所衍生的作業對查詢中所含的維度而言，都必須有效。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-136">Whether the query specifies individual products, rolls up to a category, or is sliced by time or geography, the measure should produce an operation that is valid for the dimensions included in the query.</span></span>  
  
 <span data-ttu-id="c8cdf-137">在此範例中，「轉售商銷售」\*\*\*\* 會彙總成「銷售領域」\*\*\*\* 階層的各種層級。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-137">In this example **Reseller Sales** aggregates to various levels along the **Sales Territory** hierarchy.</span></span>  
  
 <span data-ttu-id="c8cdf-138">![標註量值與維度的樞紐分析表](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "標註量值與維度的樞紐分析表")</span><span class="sxs-lookup"><span data-stu-id="c8cdf-138">![PivotTable with measures and dimensions called out](../media/ssas-keyconcepts-pivot1-measures-dimensions.png "PivotTable with measures and dimensions called out")</span></span>  
  
 <span data-ttu-id="c8cdf-139">當事實資料表中所含的數值來源資料，也包含查詢中所用之維度資料表的指標時，量值會產生有效的結果。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-139">Measures produce valid results when the fact table that contains the numeric source data also contains pointers to dimension tables that are used in the query.</span></span> <span data-ttu-id="c8cdf-140">在轉售商銷售的範例中，每個資料列除了儲存銷售金額之外，也會儲存對產品資料表、日期資料表中或銷售領域資料表的指標，如此才能正確地解析包含這些維度成員的查詢。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-140">Using the Reseller Sales example, if each row storing a sales amount also stores a pointer to a product table, a date table, or a sales territory table, then queries that include members from those dimension will resolve correctly.</span></span>  
  
 <span data-ttu-id="c8cdf-141">若量值與查詢中所用的維度無關會如何？</span><span class="sxs-lookup"><span data-stu-id="c8cdf-141">What happens if the measure is unrelated to the dimensions used in query?</span></span> <span data-ttu-id="c8cdf-142">一般而言，Analysis Services 會顯示的預設量值，而所有成員的該值皆相同。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-142">Typically, Analysis Services will show the default measure, and the value will be the same for all members.</span></span> <span data-ttu-id="c8cdf-143">在此範例中，「網際網路銷售」\*\*\*\*(計算客戶使用線上型錄直接下單的銷售) 與銷售組織無關。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-143">In this example, **Internet Sales**, which measure direct sales placed by customers using the online catalog, has no relationship to the sales organization.</span></span>  
  
 <span data-ttu-id="c8cdf-144">![樞紐分析表顯示重複的量值](../media/ssas-unrelatedmeasure.PNG "樞紐分析表顯示重複的量值")</span><span class="sxs-lookup"><span data-stu-id="c8cdf-144">![Pivottable showing repeated measure values](../media/ssas-unrelatedmeasure.PNG "Pivottable showing repeated measure values")</span></span>  
  
 <span data-ttu-id="c8cdf-145">若要降低用戶端應用程式發生這些行為的機率，可以在相同的資料庫中建立多個 Cube 或檢視方塊，並確認每個 Cube 或檢視方塊只包含相關的物件。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-145">To minimize the chances of encountering these behaviors in a client application, you could build multiple cubes or perspectives within the same database, and ensure that each cube or perspective contains only related objects.</span></span> <span data-ttu-id="c8cdf-146">您必須檢查量值群組 (對應至事實資料表) 與維度之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-146">The relationships you need to check are between the measure group (mapped to the fact table) and the dimensions.</span></span>  
  
##  <a name="measure-groups"></a><a name="bkmk_mg"></a><span data-ttu-id="c8cdf-147">量值群組</span><span class="sxs-lookup"><span data-stu-id="c8cdf-147">Measure Groups</span></span>  
 <span data-ttu-id="c8cdf-148">在 Cube 中，量值是根據它們的基礎事實資料表分組成量值群組。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-148">In a cube, measures are grouped by their underlying fact tables into measure groups.</span></span> <span data-ttu-id="c8cdf-149">量值群組是用來建立維度與量值的關聯。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-149">Measure groups are used to associate dimensions with measures.</span></span> <span data-ttu-id="c8cdf-150">量值群組也會用於與其彙總行為具有相異計數的量值；</span><span class="sxs-lookup"><span data-stu-id="c8cdf-150">Measure groups are also used for measures that have distinct count as their aggregation behavior.</span></span> <span data-ttu-id="c8cdf-151">將每一個相異計數量值放入其本身的量值群組時，會最佳化彙總處理。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-151">Placing each distinct count measure into its own measure group optimizes aggregation processing.</span></span>  
  
 <span data-ttu-id="c8cdf-152">簡單的 <xref:Microsoft.AnalysisServices.MeasureGroup> 物件由群組名稱、儲存模式及處理模式等基本資訊組成。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-152">A simple <xref:Microsoft.AnalysisServices.MeasureGroup> object is composed of basic information like the group name, storage mode, and processing mode.</span></span> <span data-ttu-id="c8cdf-153">其同時包含其構成部分：量值、維度，以及組成量值群組組合的資料分割。</span><span class="sxs-lookup"><span data-stu-id="c8cdf-153">It also contains its constituent parts; the measures, dimensions, and partitions that form the composition of the measure group.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c8cdf-154">另請參閱</span><span class="sxs-lookup"><span data-stu-id="c8cdf-154">See Also</span></span>  
 <span data-ttu-id="c8cdf-155">[多維度模型中的 cube](cubes-in-multidimensional-models.md) </span><span class="sxs-lookup"><span data-stu-id="c8cdf-155">[Cubes in Multidimensional Models](cubes-in-multidimensional-models.md) </span></span>  
 [<span data-ttu-id="c8cdf-156">在多維度模型中建立量值和量值群組</span><span class="sxs-lookup"><span data-stu-id="c8cdf-156">Create Measures and Measure Groups in Multidimensional Models</span></span>](create-measures-and-measure-groups-in-multidimensional-models.md)  
  
  
