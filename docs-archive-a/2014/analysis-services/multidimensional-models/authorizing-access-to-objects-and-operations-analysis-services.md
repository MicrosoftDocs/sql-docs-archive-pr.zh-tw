---
title: " (Analysis Services) 授權存取物件和作業 |Microsoft Docs"
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.roledesignerdialog.membership.f1
- sql12.asvs.roledesignerdialog.general.f1
helpviewer_keywords:
- access rights [Analysis Services], users
- permissions [Analysis Services], users
- security [Analysis Services], user access
- user access rights [Analysis Services]
- granting permissions [Analysis Services], users
ms.assetid: af28524e-5eca-4dce-a050-da4f406ee1c7
author: minewiskan
ms.author: owend
ms.openlocfilehash: 34a91283d735730bcc5f011377b1f1e729e7e753
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87708790"
---
# <a name="authorizing-access-to-objects-and-operations-analysis-services"></a><span data-ttu-id="e3b55-102">物件和作業的存取權授權 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="e3b55-102">Authorizing access to objects and operations (Analysis Services)</span></span>
  <span data-ttu-id="e3b55-103">非系統管理使用者對 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫內的 Cube、維度和採礦模型的存取權，是透過一個或多個資料庫角色的成員資格來授與。</span><span class="sxs-lookup"><span data-stu-id="e3b55-103">Non-administrative user access to cubes, dimensions, and mining models within an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database is granted through membership in one or more database roles.</span></span> [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="e3b55-104">系統管理員可以建立這些資料庫角色、授與這些角色對 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 物件的讀取或讀取/寫入權限，然後將 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows 使用者和群組指派給每個角色。</span><span class="sxs-lookup"><span data-stu-id="e3b55-104">administrators create these database roles, granting Read or Read/Write permissions on [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] objects, and then assigning [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows users and groups to each role.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="e3b55-105">會結合與使用者或群組所屬的每一個資料庫角色相關聯的權限，來決定特定 Windows 使用者或群組的有效權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-105">determines the effective permissions for a specific Windows user or group by combining the permissions that are associated with each database role to which the user or group belongs.</span></span> <span data-ttu-id="e3b55-106">因此，如果某個資料庫角色沒有授與使用者或群組檢視維度、量值或屬性的權限，但另一個資料庫角色有授與該使用者或群組該權限，則該使用者或群組將具有檢視該物件的權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-106">As a result, if one database role does not give a user or group permission to view a dimension, measure, or attribute, but a different database role does give that user or group permission, the user or group will have permission to view the object.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3b55-107">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 伺服器管理員角色的成員與具有完整控制權 (管理員) 權限之資料庫角色的成員，可以存取資料庫中的所有資料和中繼資料，不需其他權限就可以檢視特定物件。</span><span class="sxs-lookup"><span data-stu-id="e3b55-107">Members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] Server Administrator role and members of a database role having Full Control (Administrator) permissions can access all data and metadata in the database and need no additional permissions to view specific objects.</span></span> <span data-ttu-id="e3b55-108">而且， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 伺服器角色成員存取任何資料庫中的任何物件時都不能遭到拒絕，而在資料庫內具有完整控制權 (管理員) 權限的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫角色，存取該資料庫內的任何物件時也不能遭到拒絕。</span><span class="sxs-lookup"><span data-stu-id="e3b55-108">Moreover, members of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] server role cannot be denied access to any object in any database, and members of an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database role that has Full Control (Administrator) permissions within a database cannot be denied access to any object within that database.</span></span> <span data-ttu-id="e3b55-109">特殊的系統管理作業 (例如處理) 可透過權限較少的個別角色來授權。</span><span class="sxs-lookup"><span data-stu-id="e3b55-109">Specialized administrative operations, such as processing, can be authorized through separate roles having less permission.</span></span> <span data-ttu-id="e3b55-110">如需詳細資訊，請參閱[授與處理權限 &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-110">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
## <a name="list-roles-defined-for-your-database"></a><span data-ttu-id="e3b55-111">列出為您的資料庫定義的角色</span><span class="sxs-lookup"><span data-stu-id="e3b55-111">List roles defined for your database</span></span>  
 <span data-ttu-id="e3b55-112">系統管理員可以在 SQL Server Management Studio 中執行簡單的 DMV 查詢，以取得伺服器上定義的所有角色清單。</span><span class="sxs-lookup"><span data-stu-id="e3b55-112">Administrators can run a simple DMV query in SQL Server Management Studio to get a list of all roles defined on the server.</span></span>  
  
1.  <span data-ttu-id="e3b55-113">在 SSMS 中，以滑鼠右鍵按一下資料庫，然後選取 [**新增查詢**  |  **MDX**]。</span><span class="sxs-lookup"><span data-stu-id="e3b55-113">In SSMS, right-click a database and select **New Query** | **MDX**.</span></span>  
  
2.  <span data-ttu-id="e3b55-114">輸入下列查詢並按 F5 來執行：</span><span class="sxs-lookup"><span data-stu-id="e3b55-114">Type the following query and press F5 to execute:</span></span>  
  
    ```sql  
    Select * from $SYSTEM.DBSCHEMA_CATALOGS  
    ```  
  
     <span data-ttu-id="e3b55-115">結果包含資料庫名稱、描述、角色名稱及上次修改日期。</span><span class="sxs-lookup"><span data-stu-id="e3b55-115">Results include the database name, description, role name, and the date last modified.</span></span> <span data-ttu-id="e3b55-116">使用此資訊做為起點，您可以對個別的資料庫繼續執行，以檢查特定角色的成員資格與權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-116">Using this information as a starting point, you can proceed to individual databases to check membership and permissions of a specific role.</span></span>  
  
## <a name="top-down-overview-of-analysis-services-authorization"></a><span data-ttu-id="e3b55-117">由上而下的 Analysis Services 授權概觀</span><span class="sxs-lookup"><span data-stu-id="e3b55-117">Top-down overview of Analysis Services authorization</span></span>  
 <span data-ttu-id="e3b55-118">本節涵蓋設定權限的基本工作流程。</span><span class="sxs-lookup"><span data-stu-id="e3b55-118">This section covers the basic workflow for configuring permissions.</span></span>  
  
 <span data-ttu-id="e3b55-119">**步驟 1︰伺服器管理**</span><span class="sxs-lookup"><span data-stu-id="e3b55-119">**Step 1: Server Administration**</span></span>  
  
 <span data-ttu-id="e3b55-120">第一個步驟是決定誰具有伺服器層級的系統管理員權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-120">As a first step, decide who will have administrator rights at the server level.</span></span> <span data-ttu-id="e3b55-121">在安裝期間，安裝 SQL Server 的本機管理員需要指定一或多個 Windows 帳戶做為 Analysis Services 伺服器管理員。</span><span class="sxs-lookup"><span data-stu-id="e3b55-121">During installation, the local administrator who installs SQL Server is required to specify one or more Windows accounts as the Analysis Services server administrator.</span></span> <span data-ttu-id="e3b55-122">伺服器管理員擁有伺服器上所有可能的權限，包含檢視、修改及刪除伺服器上的任何物件，或檢視相關聯資料的權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-122">Server administrators have all possible permissions on a server, including the permission to view, modify, and delete any object on the server, or view associated data.</span></span> <span data-ttu-id="e3b55-123">安裝完成後，伺服器管理員可以新增或移除帳戶來變更這個角色的成員資格。</span><span class="sxs-lookup"><span data-stu-id="e3b55-123">After installation is complete, a server administrator can add or remove accounts to change membership of this role.</span></span> <span data-ttu-id="e3b55-124">如需此許可權等級的詳細資訊，請參閱 [授與伺服器管理員許可權 &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) 。</span><span class="sxs-lookup"><span data-stu-id="e3b55-124">See [Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) for details about this permission level.</span></span>  
  
 <span data-ttu-id="e3b55-125">**步驟 2︰資料庫管理**</span><span class="sxs-lookup"><span data-stu-id="e3b55-125">**Step 2: Database Administration**</span></span>  
  
 <span data-ttu-id="e3b55-126">接著，在表格式或多維度方案建立後，就會將它部署到伺服器做為資料庫。</span><span class="sxs-lookup"><span data-stu-id="e3b55-126">Next, after a tabular or multidimensional solution is created, it is deployed to the server as a database.</span></span> <span data-ttu-id="e3b55-127">伺服器管理員可以透過為有問題的資料庫定義擁有完整控制權限的角色，來委派資料庫管理工作。</span><span class="sxs-lookup"><span data-stu-id="e3b55-127">A server administrator can delegate database administration tasks by defining a role that has Full Control permissions for the database in question.</span></span> <span data-ttu-id="e3b55-128">這個角色的成員可以處理或查詢資料庫中的物件，也可以建立其他角色來存取資料庫本身內的 Cube、維度和其他物件。</span><span class="sxs-lookup"><span data-stu-id="e3b55-128">Members of this role can process or query objects in the database, as well as create additional roles for accessing cubes, dimensions, and other objects within the database itself.</span></span> <span data-ttu-id="e3b55-129">如需詳細資訊，請參閱[授與資料庫權限 &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-129">See [Grant database permissions &#40;Analysis Services&#41;](grant-database-permissions-analysis-services.md) for more information.</span></span>  
  
 <span data-ttu-id="e3b55-130">**步驟 3︰啟用查詢和處理工作負載的 Cube 或模型存取權**</span><span class="sxs-lookup"><span data-stu-id="e3b55-130">**Step 3: Enable cube or model access for query and processing workloads**</span></span>  
  
 <span data-ttu-id="e3b55-131">根據預設，只有伺服器和資料庫系統管理員可以存取 Cube 或表格式模型。</span><span class="sxs-lookup"><span data-stu-id="e3b55-131">By default, only server and database administrators have access to cubes or tabular models.</span></span> <span data-ttu-id="e3b55-132">讓組織中的其他人員可以使用這些資料結構，需要其他角色指派來將 Windows 使用者和群組帳戶對應到 Cube 或模型，以及指定 `Read` 權限的權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-132">Making these data structures available to other people in your organization requires additional role assignments that map Windows user and group accounts to cubes or models, along with permissions that specify `Read` privileges.</span></span> <span data-ttu-id="e3b55-133">如需詳細資訊，請參閱[授與 Cube 或模型權限 &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-133">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details.</span></span>  
  
 <span data-ttu-id="e3b55-134">處理工作可以和其他系統管理功能分開進行，因此，伺服器和資料庫系統管理員可將此工作委派給他人，或透過指定執行排程軟體的服務帳戶設定自動處理。</span><span class="sxs-lookup"><span data-stu-id="e3b55-134">Processing tasks can be isolated from other administrative functions, allowing server and database administrators to delegate this task to other people, or to configure unattended processing by specifying service accounts that run scheduling software.</span></span> <span data-ttu-id="e3b55-135">如需詳細資訊，請參閱[授與處理權限 &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-135">See [Grant process permissions &#40;Analysis Services&#41;](grant-process-permissions-analysis-services.md) for details.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="e3b55-136">使用者不需要對 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 用於載入資料之基礎關聯式資料庫中的關聯式資料表具有任何權限，也不需要對執行 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 之執行個體的電腦具有任何檔案層級權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-136">Users do not require any permissions to the relational tables in the underlying relational database from which [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] loads its data, and do not require any file level permissions on the computer on which the instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="e3b55-137">**步驟 4 (選擇性)︰允許或拒絕對內部 Cube 物件的存取**</span><span class="sxs-lookup"><span data-stu-id="e3b55-137">**Step 4 (Optional): Allow or deny access to interior cube objects**</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="e3b55-138">提供在個別物件 (包括資料模型內的維度成員和資料格) 設定權限的安全性設定。</span><span class="sxs-lookup"><span data-stu-id="e3b55-138">provides security settings for setting permissions on individual objects, including dimension members and cells within a data model.</span></span> <span data-ttu-id="e3b55-139">如需詳細資訊，請參閱[授與維度資料的自訂存取權 &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) 和[授與資料格資料的自訂存取權 &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-139">For details, see [Grant custom access to dimension data &#40;Analysis Services&#41;](grant-custom-access-to-dimension-data-analysis-services.md) and [Grant custom access to cell data &#40;Analysis Services&#41;](grant-custom-access-to-cell-data-analysis-services.md).</span></span>  
  
 <span data-ttu-id="e3b55-140">您也可以根據使用者識別來變動權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-140">You can also vary permissions based on user identity.</span></span> <span data-ttu-id="e3b55-141">這通常稱為動態安全性，可以使用 [UserName &#40;MDX&#41;](/sql/mdx/username-mdx) 函數來實作</span><span class="sxs-lookup"><span data-stu-id="e3b55-141">This is often referred to as dynamic security, and is implemented using the [UserName &#40;MDX&#41;](/sql/mdx/username-mdx) function</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="e3b55-142">最佳作法</span><span class="sxs-lookup"><span data-stu-id="e3b55-142">Best practices</span></span>  
 <span data-ttu-id="e3b55-143">若要以更好的方式管理權限，建議使用如下的處理方式：</span><span class="sxs-lookup"><span data-stu-id="e3b55-143">To better manage permissions, we suggest an approach similar to the following:</span></span>  
  
1.  <span data-ttu-id="e3b55-144">依功能建立角色 (例如，dbadmin、cubedeveloper、processadmin)，如此一來，無論是誰維護角色，都能一眼就看出該角色所允許執行的功能。</span><span class="sxs-lookup"><span data-stu-id="e3b55-144">Create roles by function (for example, dbadmin, cubedeveloper, processadmin) so that whoever maintains the roles can see at glance what the role allows.</span></span> <span data-ttu-id="e3b55-145">如同其他內容所述，您可以在模型定義中定義角色，因而能夠透過後續的解決方案部署來保留這些角色。</span><span class="sxs-lookup"><span data-stu-id="e3b55-145">As noted elsewhere, you can define roles in the model definition, thus preserving those roles over subsequent solution deployments.</span></span>  
  
2.  <span data-ttu-id="e3b55-146">在 Active Directory 中建立相對應的 Windows 安全性群組，然後在 Active Directory 中維護該安全性群組，以確保它會包含適當的個別帳戶。</span><span class="sxs-lookup"><span data-stu-id="e3b55-146">Create a corresponding Windows security group in Active Directory, and then maintain the security group in Active Directory to insure it contains the appropriate individual accounts.</span></span> <span data-ttu-id="e3b55-147">這讓組織中已經精通用於帳戶維護之工具和處理程序的安全性專業人員肩負安全性群組成員資格的責任。</span><span class="sxs-lookup"><span data-stu-id="e3b55-147">This places the responsibility of security group membership on security specialists who are already have proficiency with the tools and processes used for account maintenance in your organization.</span></span>  
  
3.  <span data-ttu-id="e3b55-148">在 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 中產生指令碼，如此一來，每當從模型的來源檔案將模型重新部署到伺服器時，您便能快速複寫角色指派。</span><span class="sxs-lookup"><span data-stu-id="e3b55-148">Generate scripts in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] so that you can quickly replicate role assignments whenever the model is redeployed from its source files to a server.</span></span> <span data-ttu-id="e3b55-149">如需如何快速產生指令碼的詳細資訊，請參閱[授與 Cube 或模型權限 &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="e3b55-149">See [Grant cube or model permissions &#40;Analysis Services&#41;](grant-cube-or-model-permissions-analysis-services.md) for details on how to quickly generate a script.</span></span>  
  
4.  <span data-ttu-id="e3b55-150">採用可反映角色的範圍與成員資格的命名慣例。</span><span class="sxs-lookup"><span data-stu-id="e3b55-150">Adopt a naming convention that reflects the scope and membership of the role.</span></span> <span data-ttu-id="e3b55-151">只有在設計和系統管理工具中看得見角色名稱，因此，請使用讓 Cube 安全性專員可以理解的命名慣例。</span><span class="sxs-lookup"><span data-stu-id="e3b55-151">Role names are only visible in design and administration tools, so use a naming convention that makes sense to your cube security specialists.</span></span> <span data-ttu-id="e3b55-152">例如， **processadmin-windowsgroup1** 表示要對組織中個別 Windows 使用者帳戶為 **windowsgroup1** 安全性群組成員的人員授與讀取存取權與處理權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-152">For example, **processadmin-windowsgroup1** indicates read access, plus processing rights, to people in your organization whose individual Windows user accounts are members of the **windowsgroup1** security group.</span></span>  
  
     <span data-ttu-id="e3b55-153">包含帳戶資訊可協助您追蹤在各種不同角色中使用了哪些帳戶。</span><span class="sxs-lookup"><span data-stu-id="e3b55-153">Including account information can help you keep track of which accounts are used in various roles.</span></span> <span data-ttu-id="e3b55-154">由於角色是加總的，因此與 **windowsgroup1** 相關聯的組合角色，能夠為隸屬於該安全性群組的人員組成有效的權限集。</span><span class="sxs-lookup"><span data-stu-id="e3b55-154">Because roles are additive, the combined roles associated with **windowsgroup1** make up the effective permission set for people belonging to that security group.</span></span>  
  
5.  <span data-ttu-id="e3b55-155">Cube 開發人員需要開發中模型和資料庫的完整控制權限，但是一旦資料庫部署到實際執行伺服器後，便只需要讀取權限。</span><span class="sxs-lookup"><span data-stu-id="e3b55-155">Cube developers will require Full Control permissions for models and databases under development, but only need Read permissions once a database is rolled out to a production server.</span></span> <span data-ttu-id="e3b55-156">請記得為所有案例開發角色定義和指派項目，包括開發、測試及實際執行部署。</span><span class="sxs-lookup"><span data-stu-id="e3b55-156">Remember to develop role definitions and assignments for all scenarios, including development, test, and production deployments.</span></span>  
  
 <span data-ttu-id="e3b55-157">使用與此類似的方法能避免模型中的角色定義和角色成員資格紊亂，並為角色指派提供能見度，讓 Cube 權限在實作和維護上會更容易些。</span><span class="sxs-lookup"><span data-stu-id="e3b55-157">Using an approach like this one minimizes churn to role definitions and role membership in the model, and provides visibility into role assignments that makes cube permissions easier to implement and maintain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3b55-158">另請參閱</span><span class="sxs-lookup"><span data-stu-id="e3b55-158">See Also</span></span>  
 <span data-ttu-id="e3b55-159">[授與伺服器管理員許可權 &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span><span class="sxs-lookup"><span data-stu-id="e3b55-159">[Grant Server Administrator Permissions &#40;Analysis Services&#41;](../instances/grant-server-admin-rights-to-an-analysis-services-instance.md) </span></span>  
 <span data-ttu-id="e3b55-160">[角色和許可權 &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="e3b55-160">[Roles and Permissions &#40;Analysis Services&#41;](roles-and-permissions-analysis-services.md) </span></span>  
 [<span data-ttu-id="e3b55-161">Analysis Services 支援的驗證方法</span><span class="sxs-lookup"><span data-stu-id="e3b55-161">Authentication methodologies supported by Analysis Services</span></span>](../instances/authentication-methodologies-supported-by-analysis-services.md)  
  
  
