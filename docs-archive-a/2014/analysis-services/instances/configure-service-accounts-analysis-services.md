---
title: 設定服務帳戶 (Analysis Services) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- security [Analysis Services], logon accounts
- logon accounts [Analysis Services]
- accounts [Analysis Services]
- logon accounts [Analysis Services], about logon accounts
ms.assetid: b481bd51-e077-42f6-8598-ce08c1a38716
author: minewiskan
ms.author: owend
ms.openlocfilehash: 455277acc9928b9569ad586c38865ba58a125917
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87698860"
---
# <a name="configure-service-accounts-analysis-services"></a><span data-ttu-id="b4ef7-102">設定服務帳戶 (Analysis Services)</span><span class="sxs-lookup"><span data-stu-id="b4ef7-102">Configure Service Accounts (Analysis Services)</span></span>
  <span data-ttu-id="b4ef7-103">[設定 Windows 服務帳戶與權限](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)中記載如何佈建適用於整個產品範圍的帳戶，該主題提供適用於所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務 (包括 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]) 的全方位服務帳戶資訊。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-103">Product-wide account provisioning is documented in [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md), a topic that provides comprehensive service account information for all [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] services, including [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="b4ef7-104">如需了解有效的帳戶類型、由安裝程式指派的 Windows 權限、檔案系統權限、登錄權限等，請參閱該主題。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-104">Refer to it to learn about valid account types, Windows privileges assigned by setup, file system permissions, registry permissions, and more.</span></span>  
  
 <span data-ttu-id="b4ef7-105">本主題提供 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的補充資訊，包含表格式和叢集安裝所需的其他權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-105">This topic provides supplemental information for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], including additional permissions necessary for tabular and clustered installations.</span></span> <span data-ttu-id="b4ef7-106">其中也涵蓋支援伺服器作業所需的權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-106">It also covers permissions needed to support server operations.</span></span> <span data-ttu-id="b4ef7-107">例如，您可以在服務帳戶底下設定要排除的處理和查詢作業 - 在這個情況下，您將需要授與其他權限來讓這個動作生效。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-107">For example, you can configure processing and query operations to execute under the service account ─ in which case you will need to grant additional permissions to get this to work.</span></span>  
  
-   [<span data-ttu-id="b4ef7-108">指派給 Analysis Services 的 Windows 權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-108">Windows privileges assigned to Analysis Services</span></span>](#bkmk_winpriv)  
  
-   [<span data-ttu-id="b4ef7-109">指派給 Analysis Services 的檔案系統權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-109">File System Permissions assigned to Analysis Services</span></span>](#bkmk_FilePermissions)  
  
-   [<span data-ttu-id="b4ef7-110">授與特定伺服器作業的其他權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-110">Granting additional permissions for specific server operations</span></span>](#bkmk_tasks)  
  
 <span data-ttu-id="b4ef7-111">另一個設定步驟 (此處未記載) 是註冊 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體和服務帳戶的服務主要名稱 (SPN)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-111">An additional configuration step, not documented here, is to register a Service Principal Name (SPN) for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance and service account.</span></span> <span data-ttu-id="b4ef7-112">這個步驟可在雙躍點狀況下啟用從用戶端應用程式到後端資料來源的傳遞驗證。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-112">This step enables pass-through authentication from client applications to backend data sources in double-hop scenarios.</span></span> <span data-ttu-id="b4ef7-113">這個步驟僅適用於針對 Kerberos 限制委派設定的服務。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-113">This step only applies for services configured for Kerberos constrained delegation.</span></span> <span data-ttu-id="b4ef7-114">如需進一步指示，請參閱＜ [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) ＞。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-114">See [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md) for further instructions.</span></span>  
  
## <a name="logon-account-recommendations"></a><span data-ttu-id="b4ef7-115">登入帳戶建議</span><span class="sxs-lookup"><span data-stu-id="b4ef7-115">Logon account recommendations</span></span>  
 <span data-ttu-id="b4ef7-116">在容錯移轉叢集中，Analysis Services 的所有執行個體都應該都設定為使用 Windows 網域使用者帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-116">In a failover cluster, all instances of Analysis Services should be configured to use a Windows domain user account.</span></span> <span data-ttu-id="b4ef7-117">將相同的帳戶指派給所有執行個體。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-117">Assign the same account to all instances.</span></span> <span data-ttu-id="b4ef7-118">請參閱 [如何將 Analysis Services 叢集化](https://msdn.microsoft.com/library/dn736073.aspx) 如需詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-118">See [How to Cluster Analysis Services](https://msdn.microsoft.com/library/dn736073.aspx) for details.</span></span>  
  
 <span data-ttu-id="b4ef7-119">獨立執行個體應該使用預設的虛擬帳戶 **NT Service\MSSQLServerOLAPService** 作為預設執行個體，或使用 **NT Service\MSOLAP$**_instance-name_ 作為具名執行個體。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-119">Standalone instances should use the default virtual account, **NT Service\MSSQLServerOLAPService** for the default instance, or **NT Service\MSOLAP$**_instance-name_ for a named instance.</span></span> <span data-ttu-id="b4ef7-120">這項建議適用於所有伺服器模式中的 Analysis Services 執行個體，作業系統為 Windows Server 2008 R2 和更新版本，而 Analysis Services 為 SQL Server 2012 和更新版本。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-120">This recommendation applies to Analysis Services instances in all server modes, assuming Windows Server 2008 R2 and later for the operating system, and SQL Server 2012 and later for Analysis Services.</span></span>  
  
## <a name="granting-permissions-to-analysis-services"></a><span data-ttu-id="b4ef7-121">授與權限給 Analysis Services</span><span class="sxs-lookup"><span data-stu-id="b4ef7-121">Granting permissions to Analysis Services</span></span>  
 <span data-ttu-id="b4ef7-122">本節說明 Analysis Services 對於本機的內部作業 (例如啟動可執行檔、讀取組態檔，以及從資料目錄載入資料庫) 所需的權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-122">This section explains the permissions that Analysis Services requires for local, internal operations, such as starting the executable, reading the configuration file, and loading databases from the data directory.</span></span> <span data-ttu-id="b4ef7-123">如果您是要尋找為外部資料存取設定權限，以及與其他服務和應用程式的互通性的指引，請參閱本主題中的 [授與特定伺服器作業的其他權限](#bkmk_tasks) 。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-123">If instead you're looking for guidance on setting permissions for external data access and interoperability with other services and applications, see [Granting additional permissions for specific server operations](#bkmk_tasks) further on in this topic.</span></span>  
  
 <span data-ttu-id="b4ef7-124">針對內部作業，Analysis Services 中的權限持有者不是登入帳戶，而是包含個別服務 SID 的安裝程式建立的本機 Windows 安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-124">For internal operations, the permission holder in Analysis Services is not the logon account, but a local Windows security group created by Setup that contains the per-service SID.</span></span> <span data-ttu-id="b4ef7-125">指派權限給安全性群組的動作與舊版的 Analysis Services 一致。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-125">Assigning permissions to the security group is consistent with previous versions of Analysis Services.</span></span> <span data-ttu-id="b4ef7-126">同時，登入帳戶可能隨著時間變更，但個別服務 SID 與本機安全性群組在伺服器安裝的存留期都維持不變。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-126">Also, logon accounts can change over time, but the per-service SID and local security group are constant for the lifetime of the server installation.</span></span> <span data-ttu-id="b4ef7-127">針對 Analysis Services，這會使得安全性群組，而不是登入帳戶，成為持有權限的較佳選擇。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-127">For Analysis Services, this makes the security group, rather than the logon account, a better choice for holding permissions.</span></span> <span data-ttu-id="b4ef7-128">每當您手動授與權限給服務執行個體，不論是檔案系統權限或 Windows 權限，請務必將為伺服器執行個體建立的權限授與本機安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-128">Whenever you manually grant rights to the service instance, whether file system permissions or Windows privileges, be sure to grant permissions to the local security group created for the server instance.</span></span>  
  
 <span data-ttu-id="b4ef7-129">遵循模式之安全性群組的名稱。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-129">The name of the security group follows a pattern.</span></span> <span data-ttu-id="b4ef7-130">前置詞一律是 `SQLServerMSASUser$`，後面接著電腦名稱，結尾是執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-130">The prefix is always `SQLServerMSASUser$`, followed by the computer name, ending with the instance name.</span></span> <span data-ttu-id="b4ef7-131">預設執行個體是 `MSSQLSERVER`。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-131">The default instance is `MSSQLSERVER`.</span></span> <span data-ttu-id="b4ef7-132">具名執行個體是在設定期間指定的名稱。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-132">A named instance is the name given during set up.</span></span>  
  
 <span data-ttu-id="b4ef7-133">您可以在本機安全性設定中看到這個安全性群組：</span><span class="sxs-lookup"><span data-stu-id="b4ef7-133">You can see this security group in the local security settings:</span></span>  
  
-   <span data-ttu-id="b4ef7-134">執行 compmgmt.msc |**本機使用者和群組**  | **Groups**  |  `SQLServerMSASUser$` 群組 \<server-name> `$MSSQLSERVER`預設實例) 的 (。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-134">Run compmgmt.msc | **Local Users and Groups** | **Groups** | `SQLServerMSASUser$`\<server-name>`$MSSQLSERVER` (for a default instance).</span></span>  
  
-   <span data-ttu-id="b4ef7-135">按兩下安全性群組以檢視其成員。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-135">Double-click the security group to view its members.</span></span>  
  
 <span data-ttu-id="b4ef7-136">群組的唯一成員是個別服務 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-136">The sole member of the group is the per-service SID.</span></span> <span data-ttu-id="b4ef7-137">旁邊就是登入帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-137">Right next to it is the logon account.</span></span> <span data-ttu-id="b4ef7-138">登入帳戶名稱是表面，在此提供內容給個別服務 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-138">The logon account name is cosmetic, there to provide context to the per-service SID.</span></span> <span data-ttu-id="b4ef7-139">如果您後續變更登入帳戶，然後返回此頁面，會發現安全性群組和個別服務 SID 不會變更，但是登入帳戶標籤則不同。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-139">If you subsequently change the logon account and then return to this page, you'll notice that the security group and per-service SID do not change, but the logon account label is different.</span></span>  
  
##  <a name="windows-privileges-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_winpriv"></a> <span data-ttu-id="b4ef7-140">指派給 Analysis Services 服務帳戶的 Windows 權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-140">Windows privileges assigned to the Analysis Services service account</span></span>  
 <span data-ttu-id="b4ef7-141">Analysis Services 需要來自作業系統的權限，才能進行服務啟動，以及要求系統資源。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-141">Analysis Services needs permissions from the operating system for service startup and to request system resources.</span></span> <span data-ttu-id="b4ef7-142">需求會依照伺服器模式以及執行個體是否已叢集而改變。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-142">Requirements vary by server mode and whether the instance is clustered.</span></span> <span data-ttu-id="b4ef7-143">如果您不熟悉 Windows 權限，請參閱 [Privileges](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) (權限) 和 [Privilege Constants (Windows)](/windows/desktop/SecAuthZ/privilege-constants) (權限常數 (Windows)) 以了解詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-143">If you are unfamiliar with Windows privileges, see [Privileges](https://msdn.microsoft.com/library/windows/desktop/aa379306\(v=vs.85\).aspx) and [Privilege Constants (Windows)](/windows/desktop/SecAuthZ/privilege-constants) for details.</span></span>  
  
 <span data-ttu-id="b4ef7-144">Analysis Services 的所有執行個體都需有 **[以服務方式登入]** (SeServiceLogonRight) 權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-144">All instances of Analysis Services require the **Log on as a service** (SeServiceLogonRight) privilege.</span></span> <span data-ttu-id="b4ef7-145">SQL Server 安裝程式會為您指派安裝期間所指定之服務帳戶的權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-145">SQL Server Setup assigns the privilege for you on the service account specified during installation.</span></span> <span data-ttu-id="b4ef7-146">對於以多維度和資料採礦模式執行的伺服器而言，這對獨立伺服器安裝而言是 Analysis Services 服務帳戶所需的唯一 Windows 權限，而且它是安裝程式為 Analysis Services 所設定的唯一權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-146">For servers running in Multidimensional and Data Mining mode, this is the only Windows privilege required by the Analysis Services service account for standalone server installations, and it is the only privilege that Setup configures for Analysis Services.</span></span> <span data-ttu-id="b4ef7-147">至於叢集和表格式執行個體，則是必須手動新增其他 Windows 權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-147">For clustered and tabular instances, additional Windows privileges must be added manually.</span></span>  
  
 <span data-ttu-id="b4ef7-148">容錯移轉叢集執行個體 (在表格式或多維度模式中) 必須具備 **[提升排程優先權]** (SeIncreaseBasePriorityPrivilege)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-148">Failover cluster instances, in either Tabular or Multidimensional mode, must have **Increase scheduling priority** (SeIncreaseBasePriorityPrivilege).</span></span>  
  
 <span data-ttu-id="b4ef7-149">表格式執行個體會使用下列三種其他權限，您必須在安裝執行個體之後手動授與。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-149">Tabular instances use the following three additional privileges, which must be granted manually after the instance is installed.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="b4ef7-150">**增加處理程序工作組** (SeIncreaseWorkingSetPrivilege)</span><span class="sxs-lookup"><span data-stu-id="b4ef7-150">**Increase a process working set** (SeIncreaseWorkingSetPrivilege)</span></span>|<span data-ttu-id="b4ef7-151">透過 **[使用者]** 安全性群組，此權限預設可供所有使用者使用。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-151">This privilege is available to all users by default through the **Users** security group.</span></span> <span data-ttu-id="b4ef7-152">如果您藉由移除這個群組的權限來鎖定伺服器，Analysis Services 可能會無法啟動，並會記錄以下錯誤：「用戶端沒有這項特殊權限。」</span><span class="sxs-lookup"><span data-stu-id="b4ef7-152">If you lock down a server by removing privileges for this group, Analysis Services might fail to start, logging this error: "A required privilege is not held by the client."</span></span> <span data-ttu-id="b4ef7-153">發生這個錯誤時，請將權限授與適當的 Analysis Services 安全性群組，藉以將權限還原到 Analysis Services。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-153">When this error occurs, restore the privilege to Analysis Services by granting it to the appropriate Analysis Services security group.</span></span>|  
|<span data-ttu-id="b4ef7-154">**調整處理序的記憶體配額** (SeIncreaseQuotaSizePrivilege)</span><span class="sxs-lookup"><span data-stu-id="b4ef7-154">**Adjust memory quotas for a process** (SeIncreaseQuotaSizePrivilege)</span></span>|<span data-ttu-id="b4ef7-155">如果處理程序擁有的資源不足以完成它的執行 (受限於針對執行個體所建立的記憶體臨界值)，則可使用這個權限來要求更多記憶體。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-155">This privilege is used to request more memory if a process has insufficient resources to complete its execution, subject to the memory thresholds established for the instance.</span></span>|  
|<span data-ttu-id="b4ef7-156">**鎖定記憶體中的分頁** (SeLockMemoryPrivilege)</span><span class="sxs-lookup"><span data-stu-id="b4ef7-156">**Lock pages in memory** (SeLockMemoryPrivilege)</span></span>|<span data-ttu-id="b4ef7-157">只有在完全關閉分頁時才需要這個權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-157">This privilege is needed only when paging is turned off entirely.</span></span> <span data-ttu-id="b4ef7-158">根據預設，表格式伺服器執行個體會使用 Windows 分頁檔，但是您可以藉由將 `VertiPaqPagingPolicy` 設為 0，來防止它使用 Windows 分頁。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-158">By default, a tabular server instance uses the Windows paging file, but you can prevent it from using Windows paging by setting `VertiPaqPagingPolicy` to 0.</span></span><br /><br /> <span data-ttu-id="b4ef7-159">`VertiPaqPagingPolicy` 為 1 (預設值)，指示表格式伺服器執行個體使用 Windows 分頁檔。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-159">`VertiPaqPagingPolicy` to 1 (default), instructs the tabular server instance to use the Windows paging file.</span></span> <span data-ttu-id="b4ef7-160">配置並未鎖定，可視需要允許 Windows 移出分頁。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-160">Allocations are not locked, allowing Windows to page out as needed.</span></span> <span data-ttu-id="b4ef7-161">由於已使用分頁，所以不需鎖定記憶體中的分頁。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-161">Because paging is being used, there is no need to lock pages in memory.</span></span> <span data-ttu-id="b4ef7-162">因此，針對預設設定 (where `VertiPaqPagingPolicy` = 1) ，您不需要將 [**鎖定記憶體中的分頁**] 許可權授與表格式實例。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-162">Thus, for the default configuration (where `VertiPaqPagingPolicy` = 1), you do not need to grant the **Lock pages in memory** privilege to a tabular instance.</span></span><br /><br /> <span data-ttu-id="b4ef7-163">`VertiPaqPagingPolicy` 為 0。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-163">`VertiPaqPagingPolicy` to 0.</span></span> <span data-ttu-id="b4ef7-164">如果您針對 Analysis Services 關閉分頁，即會假設已將 **[鎖定記憶體中的分頁]** 權限授與表格式執行個體，而鎖定配置。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-164">If you turn off paging for Analysis Services, allocations are locked, assuming the **Lock pages in memory** privilege is granted to the tabular instance.</span></span> <span data-ttu-id="b4ef7-165">指定這個設定和 **[鎖定記憶體中的分頁]** 權限，Windows 便無法在系統處於記憶體不足壓力的情況下，移出針對 Analysis Services 所做之記憶體配置的分頁。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-165">Given this setting and the **Lock pages in memory** privilege, Windows cannot page out memory allocations made to Analysis Services when the system is under memory pressure.</span></span> <span data-ttu-id="b4ef7-166">Analysis Services 依賴 [**鎖定記憶體中的分頁**] 許可權做為後面的強制執行 `VertiPaqPagingPolicy` = 0。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-166">Analysis Services relies on the **Lock pages in memory** permission as the enforcement behind `VertiPaqPagingPolicy` = 0.</span></span> <span data-ttu-id="b4ef7-167">請注意，不建議關閉 Windows 分頁。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-167">Note that turning off Windows paging is not recommended.</span></span> <span data-ttu-id="b4ef7-168">這將會提高作業產生記憶體不足之錯誤的機率，而這些作業在允許分頁的情況下可能就會成功。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-168">It will increase the rate of out-of-memory errors for operations that might otherwise succeed if paging were allowed.</span></span> <span data-ttu-id="b4ef7-169">如需的詳細資訊，請參閱[記憶體屬性](../server-properties/memory-properties.md) `VertiPaqPagingPolicy` 。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-169">See [Memory Properties](../server-properties/memory-properties.md) for more information about `VertiPaqPagingPolicy`.</span></span>|  
  
#### <a name="to-view-or-add-windows-privileges-on-the-service-account"></a><span data-ttu-id="b4ef7-170">檢視或新增服務帳戶的 Windows 權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-170">To view or add Windows privileges on the service account</span></span>  
  
1.  <span data-ttu-id="b4ef7-171">執行 GPEDIT.msc | 本機電腦原則 | 電腦組態 | Windows 設定 | 安全性設定 | 本機原則 | 使用者權限指派。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-171">Run GPEDIT.msc | Local Computer Policy | Computer Configuration | Windows Settings | Security Settings | Local Policies | User Rights Assignments.</span></span>  
  
2.  <span data-ttu-id="b4ef7-172">檢查包含的現有原則 `SQLServerMSASUser$` 。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-172">Review existing policies that include `SQLServerMSASUser$`.</span></span> <span data-ttu-id="b4ef7-173">這是可以在已安裝 Analysis Services 的電腦上找到的本機安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-173">This is a local security group found on computers having an Analysis Services installation.</span></span> <span data-ttu-id="b4ef7-174">Windows 權限和檔案資料夾權限都會授與這個安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-174">Both Windows privileges and file folder permissions are granted to this security group.</span></span> <span data-ttu-id="b4ef7-175">按兩下 **[以服務方式登入]** 原則，以查看在系統上指定安全性群組的方式。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-175">Double-click **Log on as a service** policy to see how the security group is specified on your system.</span></span> <span data-ttu-id="b4ef7-176">安全性群組的完整名稱會根據您是否安裝 Analysis Services 來做為具名執行個體而改變。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-176">The full name of the security group will vary depending on whether you installed Analysis Services as a named instance.</span></span> <span data-ttu-id="b4ef7-177">新增帳戶權限時，請使用這個安全性群組，而不要使用實際的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-177">Use this security group, rather than the actual service account, when adding account privileges.</span></span>  
  
3.  <span data-ttu-id="b4ef7-178">若要在 GPEDIT 中新增帳戶權限，請以滑鼠右鍵按一下 **[增加處理程序工作組]** ，然後選取 **[屬性]**。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-178">To add account privileges in GPEDIT, right-click **Increase a process working set** and select **Properties**.</span></span>  
  
4.  <span data-ttu-id="b4ef7-179">按一下 [新增使用者或群組]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-179">Click **Add User or Group**.</span></span>  
  
5.  <span data-ttu-id="b4ef7-180">輸入 Analysis Services 執行個體的使用者群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-180">Enter the user group for the Analysis Services instance.</span></span> <span data-ttu-id="b4ef7-181">請記住，服務帳戶是本機安全性群組的成員，要求您預先附加本機電腦名稱做為帳戶的網域。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-181">Remember that the service account is a member of a local security group, requiring that you prepend the local computer name as the domain of the account.</span></span>  
  
     <span data-ttu-id="b4ef7-182">下列清單顯示的兩個範例分別為名為 "SQL01-WIN12" 之電腦上的預設執行個體及名為 "Tabular" 的具名執行個體，其中電腦名稱為本機網域。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-182">The following list shows two examples for a default instance and named instance called "Tabular" on a machine called "SQL01-WIN12", where the machine name is the local domain.</span></span>  
  
    -   <span data-ttu-id="b4ef7-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="b4ef7-183">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$MSSQLSERVER</span></span>  
  
    -   <span data-ttu-id="b4ef7-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span><span class="sxs-lookup"><span data-stu-id="b4ef7-184">SQL01-WIN12\SQL01-WIN12$SQLServerMSASUser$TABULAR</span></span>  
  
6.  <span data-ttu-id="b4ef7-185">針對 **[調整處理序的記憶體配額]** 重複執行，以及選擇性地針對 **[鎖定記憶體中的分頁]** 或 **[提升排程優先權]** 重複執行。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-185">Repeat for **Adjust memory quotas for a process**, and optionally, for **Lock pages in memory** or **Increase scheduling priority**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b4ef7-186">舊版安裝程式不小心將 Analysis Services 服務帳戶加入 **Performance Log Users** 群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-186">Previous versions of Setup inadvertently added the Analysis Services service account to the **Performance Log Users** group.</span></span> <span data-ttu-id="b4ef7-187">雖然已修正此缺點，但是現有的安裝可能會具有此不必要的群組成員資格。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-187">Although this defect has been fixed, existing installations might have this unnecessary group membership.</span></span> <span data-ttu-id="b4ef7-188">由於 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服務帳戶不需要 **[Performance Log Users]** 群組中的成員資格，因此您可以從群組中移除。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-188">Because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account does not require membership in the **Performance Log Users** group, you can remove it from the group.</span></span>  
  
##  <a name="file-system-permissions-assigned-to-the-analysis-services-service-account"></a><a name="bkmk_FilePermissions"></a> <span data-ttu-id="b4ef7-189">指派給 Analysis Services 服務帳戶的檔案系統權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-189">File System Permissions assigned to the Analysis Services service account</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b4ef7-190">如需與每個程式資料夾相關聯的權限清單，請參閱 [設定 Windows 服務帳戶與權限](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) 。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-190">See [Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) for a list of permissions associated with each program folder.</span></span>  
>   
>  <span data-ttu-id="b4ef7-191">如需與 IIS 組態和 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 相關的檔案權限資訊，請參閱[設定 Internet Information Services &#40;IIS&#41; 8.0 上 Analysis Services 的 HTTP 存取](configure-http-access-to-analysis-services-on-iis-8-0.md)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-191">See [Configure HTTP Access to Analysis Services on Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md) for file permission information related to IIS configuration and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="b4ef7-192">伺服器作業所需的所有檔案系統權限 (包括從指定的資料夾載入及卸載資料庫所需的權限) 會在安裝期間由 SQL Server 安裝程式指派。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-192">All file system permissions required for server operations─ including permissions needed for loading and unloading databases from a designated data folder─ are assigned by SQL Server Setup during installation.</span></span>  
  
 <span data-ttu-id="b4ef7-193">資料檔、程式執行檔、設定檔、記錄檔及暫存檔的權限持有者是由 SQL Server 安裝程式所建立的本機安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-193">The permission holder on data files, program file executables, configuration files, log files, and temporary files is a local security group created by SQL Server Setup.</span></span>  
  
 <span data-ttu-id="b4ef7-194">有一個針對您安裝之每個執行個體所建立的安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-194">There is one security group created for each instance that you install.</span></span> <span data-ttu-id="b4ef7-195">安全性群組會在實例之後命名為**SQLServerMSASUser $ MSSQLSERVER** （適用于預設實例），或 `SQLServerMSASUser$` \<servername> $ \<instancename> 用於已命名的實例。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-195">The security group is named after the instance ─ either **SQLServerMSASUser$MSSQLSERVER** for the default instance, or `SQLServerMSASUser$`\<servername>$\<instancename> for a named instance.</span></span> <span data-ttu-id="b4ef7-196">安裝程式會為此安全性群組佈建執行伺服器作業所需的檔案權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-196">Setup provisions this security group with the file permissions required to perform server operations.</span></span> <span data-ttu-id="b4ef7-197">如果您在 \MSAS12.MSSQLSERVER\OLAP\BIN 目錄上檢查安全性權限，就會看見安全性群組 (而不是服務帳戶或其個別服務 SID) 是該目錄的權限持有者。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-197">If you check the security permissions on the \MSAS12.MSSQLSERVER\OLAP\BIN directory, you will see that the security group (not the service account or its per-service SID) is the permission holder on that directory.</span></span>  
  
 <span data-ttu-id="b4ef7-198">安全性群組只包含一個成員： [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體啟動帳戶的個別服務安全性識別碼 (SID)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-198">The security group contains one member only: the per-service Security Identifier (SID) of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance startup account.</span></span> <span data-ttu-id="b4ef7-199">安裝程式會將個別服務 SID 新增到本機安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-199">Setup adds the per-service SID to the local security group.</span></span> <span data-ttu-id="b4ef7-200">相較於資料庫引擎，SQL Server 安裝程式佈建 Analysis Services 的方式有一個很小但明顯的差異，那就是搭配 SID 成員資格使用本機安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-200">The use of a local security group, with its SID membership, is a small but noticeable difference in how SQL Server Setup provisions Analysis Services, as compared to the Database Engine.</span></span>  
  
 <span data-ttu-id="b4ef7-201">如果您認為檔案權限已毀損，請依照下列步驟來確認是否仍已正確佈建服務：</span><span class="sxs-lookup"><span data-stu-id="b4ef7-201">If you believe that file permissions are corrupted, follow these steps to verify the service is still correctly provisioned:</span></span>  
  
1.  <span data-ttu-id="b4ef7-202">使用服務控制命令列工具 (sc.exe) 來取得預設服務執行個體的 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-202">Use the Service Control command line tool (sc.exe) to obtain the SID of a default service instance.</span></span>  
  
     `SC showsid MSSqlServerOlapService`  
  
     <span data-ttu-id="b4ef7-203">針對具名執行個體 (其中執行個體名稱為 Tabular)，請使用下列語法：</span><span class="sxs-lookup"><span data-stu-id="b4ef7-203">For a named instance (where the instance name is Tabular), use this syntax:</span></span>  
  
     `SC showsid MSOlap$Tabular`  
  
2.  <span data-ttu-id="b4ef7-204">使用 [**電腦系統管理員**] [  |  **本機使用者] 和 [群組**]  |  **群組**來檢查 SQLServerMSASUser $ \<servername> $ \<instancename> 安全性群組的成員資格。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-204">Use **Computer Manager** | **Local Users and Groups** | **Groups** to inspect the membership of the SQLServerMSASUser$\<servername>$\<instancename> security group.</span></span>  
  
     <span data-ttu-id="b4ef7-205">成員 SID 應該與來自步驟 1 的個別服務 SID 相符。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-205">The member SID should match the per-service SID from step 1.</span></span>  
  
3.  <span data-ttu-id="b4ef7-206">使用**Windows Explorer**  |  **程式**檔案  |  **Microsoft SQL Server** |[Msasxx.mssqlserver. MSSQLServer |**OLAP**  | [檢查資料夾安全性內容] 的**bin**會授與步驟2中的安全性群組。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-206">Use **Windows Explorer** | **Program Files** | **Microsoft SQL Server** | MSASxx.MSSQLServer | **OLAP** | **bin** to verify folder Security properties are granted to the security group in step 2.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b4ef7-207">請勿移除或修改 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-207">Never remove or modify a SID.</span></span> <span data-ttu-id="b4ef7-208">若要還原不小心刪除的個別服務 SID，請參閱 [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201) 。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-208">To restore a per-service SID that was inadvertently deleted, see [https://support.microsoft.com/kb/2620201](https://support.microsoft.com/kb/2620201).</span></span>  
  
 <span data-ttu-id="b4ef7-209">**更多關於個別服務 SID 的資訊**</span><span class="sxs-lookup"><span data-stu-id="b4ef7-209">**More about per-service SIDs**</span></span>  
  
 <span data-ttu-id="b4ef7-210">每個 Windows 帳戶都有相關聯的 [SID](http://en.wikipedia.org/wiki/Security_Identifier)，但服務也可能有 SID，因此稱為個別服務 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-210">Every Windows account has an associated [SID](http://en.wikipedia.org/wiki/Security_Identifier), but services can also have SIDs, hence referred to as per-service SIDs.</span></span> <span data-ttu-id="b4ef7-211">個別服務 SID 是在安裝服務執行個體時所建立，做為服務的唯一、永久固定項目。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-211">A per-service SID is created when the service instance is installed, as a unique, permanent fixture of the service.</span></span> <span data-ttu-id="b4ef7-212">個別服務 SID 是自服務名稱產生的本機電腦層級 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-212">The per-service SID is a local, machine-level SID generated from the service name.</span></span> <span data-ttu-id="b4ef7-213">在預設執行個體上，其使用者易記名稱是 NT SERVICE\MSSQLServerOLAPService。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-213">On a default instance, its user friendly name is NT SERVICE\MSSQLServerOLAPService.</span></span>  
  
 <span data-ttu-id="b4ef7-214">個別服務 SID 的優點是它允許可任意變更更普遍可見的登入帳戶，而不會影響檔案權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-214">The benefit of a per-service SID is that it allows the more widely-visible logon account to be changed arbitrarily, without affecting file permissions.</span></span> <span data-ttu-id="b4ef7-215">例如，假設您已安裝兩個 Analysis Services 執行個體 (預設執行個體和具名執行個體)，這兩個執行個體都在相同的 Windows 使用者帳戶下執行。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-215">For example, suppose you installed two instances of Analysis Services, a default instance and named instance, both running under the same Windows user account.</span></span> <span data-ttu-id="b4ef7-216">共用登入帳戶時，每個服務執行個體就會具有唯一的個別服務 SID。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-216">While the logon account is shared, each service instance will have a unique per-service SID.</span></span> <span data-ttu-id="b4ef7-217">這個 SID 與登入帳戶的 SID 不同。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-217">This SID is distinct from the SID of the logon account.</span></span> <span data-ttu-id="b4ef7-218">個別服務 SID 是用於檔案權限和 Windows 權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-218">The per-service SID is used for file permissions and Windows privileges.</span></span> <span data-ttu-id="b4ef7-219">相反地，登入帳戶 SID 用於驗證和授權案例，不同的 SID 用於不同用途。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-219">In contrast, the logon account SID is used for authentication and authorization scenarios ─ different SIDS, used for different purposes.</span></span>  
  
 <span data-ttu-id="b4ef7-220">由於 SID 是不可變的，因此，不論您變更服務帳戶的頻率為何，都能永遠使用服務安裝期間建立的檔案系統 ACL。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-220">Because the SID is immutable, file system ACLs created during service installation can be used indefinitely, regardless of how often you change the service account.</span></span> <span data-ttu-id="b4ef7-221">身為新增的安全性措施，ACL 透過 SID 指定權限，即使其他服務在相同帳戶下執行，也能確保只有一個服務執行個體存取程式可執行檔和資料夾，因此可提高安全性。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-221">As an added security measure, ACLs that specify permissions via a SID ensure that program executables and data folders are accessed only by a single instance of a service, even if other services run under the same account.</span></span>  
  
##  <a name="granting-additional-analysis-services-permissions-for-specific-server-operations"></a><a name="bkmk_tasks"></a> <span data-ttu-id="b4ef7-222">為特定伺服器作業授與其他 Analysis Services 權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-222">Granting additional Analysis Services permissions for specific server operations</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="b4ef7-223">會在用來啟動 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]之服務帳戶 (或登入帳戶) 的安全性內容中執行一些工作，並在要求工作之使用者的安全性內容中執行其他工作。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-223">executes some tasks in the security context of the service account (or logon account) that is used to start [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and executes other tasks in the security context of the user who is requesting the task.</span></span>  
  
 <span data-ttu-id="b4ef7-224">下表描述支援以服務帳戶執行工作所需的其他權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-224">The following table describes additional permissions required to support tasks executing as the service account.</span></span>  
  
|<span data-ttu-id="b4ef7-225">伺服器作業</span><span class="sxs-lookup"><span data-stu-id="b4ef7-225">Server Operation</span></span>|<span data-ttu-id="b4ef7-226">工作項目</span><span class="sxs-lookup"><span data-stu-id="b4ef7-226">Work Item</span></span>|<span data-ttu-id="b4ef7-227">理由</span><span class="sxs-lookup"><span data-stu-id="b4ef7-227">Justification</span></span>|  
|----------------------|---------------|-------------------|  
|<span data-ttu-id="b4ef7-228">遠端存取外部關聯式資料來源</span><span class="sxs-lookup"><span data-stu-id="b4ef7-228">Remote access to external relational data sources</span></span>|<span data-ttu-id="b4ef7-229">建立服務帳戶的資料庫登入</span><span class="sxs-lookup"><span data-stu-id="b4ef7-229">Create a database login for the service account</span></span>|<span data-ttu-id="b4ef7-230">處理是指從外部資料來源 (通常是關聯式資料庫) 擷取資料，再接著載入 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-230">Processing refers to data retrieval from an external data source (usually a relational database), which is subsequently loaded into an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="b4ef7-231">擷取外部資料的其中一個認證選項是使用服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-231">One of the credential options for retrieving external data is to use the service account.</span></span> <span data-ttu-id="b4ef7-232">只有在建立服務帳戶的資料庫登入，並授與來源資料庫的讀取權限時，此認證選項才有效。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-232">This credential option works only if you create a database login for the service account and grant read permissions on the source database.</span></span> <span data-ttu-id="b4ef7-233">如需如何針對此工作使用服務帳戶選項的詳細資訊，請參閱[設定模擬選項 &#40;SSAS - 多維度&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-233">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="b4ef7-234">同樣地，如果以 ROLAP 做為儲存模式，也可以使用相同的模擬選項。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-234">Similarly, if ROLAP is used as the storage mode, the same impersonation options are available.</span></span> <span data-ttu-id="b4ef7-235">在此情況下，帳戶也必須對來源資料具有寫入權限才能處理 ROLAP 分割區 (亦即，儲存彙總)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-235">In this case, the account must also have write access to the source data to process the ROLAP partitions (that is, to store aggregations).</span></span>|  
|<span data-ttu-id="b4ef7-236">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="b4ef7-236">DirectQuery</span></span>|<span data-ttu-id="b4ef7-237">建立服務帳戶的資料庫登入</span><span class="sxs-lookup"><span data-stu-id="b4ef7-237">Create a database login for the service account</span></span>|<span data-ttu-id="b4ef7-238">DirectQuery 是用來查詢外部資料集的表格式功能，這些資料集可能太大，而無法容納在表格式模型內，或者具有其他特性，使得 DirectQuery 比預設的記憶體中儲存選項更適合。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-238">DirectQuery is a tabular feature used to query external datasets that are either too large to fit inside the tabular model or have other characteristics that make DirectQuery a better fit than the default in-memory storage option.</span></span> <span data-ttu-id="b4ef7-239">DirectQuery 模式中可用的其中一個連接選項是使用服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-239">One of the connection options available in DirectQuery mode is to use the service account.</span></span> <span data-ttu-id="b4ef7-240">同樣地，只有在服務帳戶具有資料庫登入和目標資料來源的讀取權限時，此選項才有效。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-240">Once again, this option works only when the service account has a database login and read permissions on the target data source.</span></span> <span data-ttu-id="b4ef7-241">如需如何針對此工作使用服務帳戶選項的詳細資訊，請參閱[設定模擬選項 &#40;SSAS - 多維度&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-241">See [Set Impersonation Options &#40;SSAS - Multidimensional&#41;](../multidimensional-models/set-impersonation-options-ssas-multidimensional.md) for more information about how the service account option is used for this task.</span></span> <span data-ttu-id="b4ef7-242">或者，您可以使用目前使用者的認證來擷取資料。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-242">Alternatively, the credentials of the current user can be used to retrieve data.</span></span> <span data-ttu-id="b4ef7-243">在大多數情況下，此選項需要雙躍點連線，因此請務必設定服務帳戶進行 Kerberos 限制委派，以便服務帳戶可以將識別委派給下游伺服器。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-243">In most cases this option entails a double-hop connection, so be sure to configure the service account for Kerberos constrained delegation so that the service account can delegate identities to a downstream server.</span></span> <span data-ttu-id="b4ef7-244">如需詳細資訊，請參閱 [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-244">For more information, see [Configure Analysis Services for Kerberos constrained delegation](configure-analysis-services-for-kerberos-constrained-delegation.md).</span></span>|  
|<span data-ttu-id="b4ef7-245">遠端存取其他 SSAS 執行個體</span><span class="sxs-lookup"><span data-stu-id="b4ef7-245">Remote access to other SSAS instances</span></span>|<span data-ttu-id="b4ef7-246">將服務帳戶新增到在遠端伺服器上定義的 Analysis Services 資料庫角色</span><span class="sxs-lookup"><span data-stu-id="b4ef7-246">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="b4ef7-247">遠端分割區及其他遠端 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體上的參考連結物件，都是需要遠端電腦或裝置權限的系統功能。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-247">Remote partitions and referencing linked objects on other remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances are both system capabilities requiring permissions on a remote computer or device.</span></span> <span data-ttu-id="b4ef7-248">當使用者建立及擴展遠端分割區，或者設定連結物件時，該作業會在目前使用者的安全性內容中執行。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-248">When a person creates and populates remote partitions, or sets up a linked object, that operation runs in the security context of the current user.</span></span> <span data-ttu-id="b4ef7-249">如果您之後自動化這些作業， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 會在其服務帳戶的安全性內容中存取遠端執行個體。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-249">If you subsequently automate these operations, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will access remote instances in the security context of its service account.</span></span> <span data-ttu-id="b4ef7-250">若要在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的遠端執行個體上存取連結物件，登入帳戶必須具有在遠端執行個體上讀取適當物件的權限，例如對特定維度的「讀取」權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-250">In order to access linked objects on a remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the logon account must have permission to read the appropriate objects on the remote instance, such as Read access to certain dimensions.</span></span> <span data-ttu-id="b4ef7-251">同樣地，使用遠端分割區需要在遠端執行個體上具有管理權限的服務帳戶。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-251">Similarly, using remote partitions requires that the service account have administrative rights on the remote instance.</span></span> <span data-ttu-id="b4ef7-252">您可以透過將允許的作業關聯到特定物件的角色，來授與遠端 Analysis Services 執行個體的這類權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-252">Such permissions are granted on the remote Analysis Services instance, using roles that associate permitted operations with a specific object.</span></span> <span data-ttu-id="b4ef7-253">請參閱[授與資料庫權限 &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md)，以取得如何授與完整控制權限以允許處理和查詢作業的相關指示。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-253">See [Grant database permissions &#40;Analysis Services&#41;](../multidimensional-models/grant-database-permissions-analysis-services.md) for instructions on how to grant Full Control permissions that allow processing and query operations.</span></span> <span data-ttu-id="b4ef7-254">如需遠端資料分割的詳細資訊，請參閱[建立及管理遠端資料分割 &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-254">See [Create and Manage a Remote Partition &#40;Analysis Services&#41;](../multidimensional-models/create-and-manage-a-remote-partition-analysis-services.md) for more information about remote partitions.</span></span>|  
|<span data-ttu-id="b4ef7-255">回寫</span><span class="sxs-lookup"><span data-stu-id="b4ef7-255">Writeback</span></span>|<span data-ttu-id="b4ef7-256">將服務帳戶新增到在遠端伺服器上定義的 Analysis Services 資料庫角色</span><span class="sxs-lookup"><span data-stu-id="b4ef7-256">Add the service account to Analysis Services database roles defined on the remote server</span></span>|<span data-ttu-id="b4ef7-257">在用戶端應用程式中啟用時，回寫是多維度模型功能，可在資料分析期間建立新的資料值。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-257">When enabled in client applications, writeback is a feature of multidimensional models that allows the creation of new data values during data analysis.</span></span> <span data-ttu-id="b4ef7-258">如果已在維度或 Cube 內啟用回寫， [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服務帳戶就必須針對來源 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 關聯式資料庫中的回寫資料表具備寫入權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-258">If writeback is enabled within any dimension or cube, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the writeback table in the source [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database.</span></span> <span data-ttu-id="b4ef7-259">如果這個資料表不存在而需要建立，則 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服務帳戶在指定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫中，也必須有建立資料表的權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-259">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>|  
|<span data-ttu-id="b4ef7-260">寫入 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 關聯式資料庫中的查詢記錄資料表</span><span class="sxs-lookup"><span data-stu-id="b4ef7-260">Write to a query log table in a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database</span></span>|<span data-ttu-id="b4ef7-261">建立服務帳戶的資料庫登入並指派查詢記錄表格的寫入權限</span><span class="sxs-lookup"><span data-stu-id="b4ef7-261">Create a database login for the service account and assign write permissions on the query log table</span></span>|<span data-ttu-id="b4ef7-262">您可以啟用查詢記錄，以收集資料庫資料表中的使用量資料進行後續分析。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-262">You can enable query logging to collect usage data in a database table for subsequent analysis.</span></span> <span data-ttu-id="b4ef7-263">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 服務帳戶對指定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫中的查詢記錄資料表，必須具有寫入權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-263">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] service account must have write permissions to the query log table in the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="b4ef7-264">如果這個資料表不存在而需要建立，則 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 登入帳戶在指定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資料庫中，也必須有建立資料表的權限。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-264">If this table does not already exist and needs to be created, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] logon account must also have create table permissions within the designated [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="b4ef7-265">如需詳細資訊，請參閱 [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard (部落格)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) 和 [Query Logging in Analysis Services (部落格)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx)。</span><span class="sxs-lookup"><span data-stu-id="b4ef7-265">For more information, see [Improve SQL Server Analysis Services Performance with the Usage Based Optimization Wizard (Blog)](http://www.mssqltips.com/sqlservertip/2876/improve-sql-server-analysis-services-performance-with-the-usage-based-optimization-wizard/) and [Query Logging in Analysis Services (Blog)](http://weblogs.asp.net/miked/archive/2013/07/31/query-logging-in-analysis-services.aspx).</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b4ef7-266">另請參閱</span><span class="sxs-lookup"><span data-stu-id="b4ef7-266">See Also</span></span>  
 <span data-ttu-id="b4ef7-267">[設定 Windows 服務帳戶和許可權](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-267">[Configure Windows Service Accounts and Permissions](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md) </span></span>  
 <span data-ttu-id="b4ef7-268">[SQL Server 服務帳戶和個別服務 SID (Blog) ](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-268">[SQL Server Service Account and Per-Service SID (Blog)](http://www.travisgan.com/2013/06/sql-server-service-account-and-per.html) </span></span>  
 <span data-ttu-id="b4ef7-269">[SQL Server 使用服務 SID 來提供服務隔離 (知識庫文章) ](https://support.microsoft.com/kb/2620201) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-269">[SQL Server uses a service SID to provide service isolation (KB Article)](https://support.microsoft.com/kb/2620201) </span></span>  
 <span data-ttu-id="b4ef7-270">[ (MSDN) 的存取權杖](/windows/desktop/SecAuthZ/access-tokens) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-270">[Access Token (MSDN)](/windows/desktop/SecAuthZ/access-tokens) </span></span>  
 <span data-ttu-id="b4ef7-271">[ (MSDN) 的安全識別碼](/windows/desktop/SecAuthZ/security-identifiers) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-271">[Security Identifiers (MSDN)](/windows/desktop/SecAuthZ/security-identifiers) </span></span>  
 <span data-ttu-id="b4ef7-272">[ (維琪百科) 的存取權杖](http://en.wikipedia.org/wiki/Access_token) </span><span class="sxs-lookup"><span data-stu-id="b4ef7-272">[Access Token (Wikipedia)](http://en.wikipedia.org/wiki/Access_token) </span></span>  
 [<span data-ttu-id="b4ef7-273">存取控制清單 (Wikipedia)</span><span class="sxs-lookup"><span data-stu-id="b4ef7-273">Access Control Lists (Wikipedia)</span></span>](http://en.wikipedia.org/wiki/Access_control_list)  
  
  
