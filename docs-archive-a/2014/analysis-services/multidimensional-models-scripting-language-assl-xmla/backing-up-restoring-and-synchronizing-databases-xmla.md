---
title: 備份、還原和同步處理資料庫 (XMLA) |Microsoft Docs
ms.custom: ''
ms.date: 04/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- restoring databases [XML for Analysis]
- backing up databases [XML for Analysis]
- database backups [XML for Analysis]
- synchronization [XML for Analysis]
- database restores [XML for Analysis]
ms.assetid: 6c021b2e-6ad0-444e-b23f-4b5f72ce084b
author: minewiskan
ms.author: owend
ms.openlocfilehash: 500435a585ffed84a8f16e2b3bd1c4db14509103
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87687313"
---
# <a name="backing-up-restoring-and-synchronizing-databases-xmla"></a><span data-ttu-id="0325f-102">備份、還原和同步處理資料庫 (XMLA)</span><span class="sxs-lookup"><span data-stu-id="0325f-102">Backing Up, Restoring, and Synchronizing Databases (XMLA)</span></span>
  <span data-ttu-id="0325f-103">在 XML for Analysis 中，有三個命令分別可用來備份、還原和同步處理資料庫：</span><span class="sxs-lookup"><span data-stu-id="0325f-103">In XML for Analysis, there are three commands that back up, restore, and synchronize databases:</span></span>  
  
-   <span data-ttu-id="0325f-104">[Backup](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla)命令會 [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 備份檔案 ( .abf) 來備份資料庫，如[備份資料庫](#backing_up_databases)一節所述。</span><span class="sxs-lookup"><span data-stu-id="0325f-104">The [Backup](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) command backs up a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database using an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] backup file (.abf), as described in the section, [Backing Up Databases](#backing_up_databases).</span></span>  
  
-   <span data-ttu-id="0325f-105">[Restore](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla)命令會 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 從 .abf 檔案還原資料庫，如[還原資料庫](#restoring_databases)一節中所述。</span><span class="sxs-lookup"><span data-stu-id="0325f-105">The [Restore](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) command restores an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from an .abf file, as described in the section, [Restoring Databases](#restoring_databases).</span></span>  
  
-   <span data-ttu-id="0325f-106">[Synchronize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla)命令會同步 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 處理一個資料庫與另一個資料庫的資料和中繼資料，如[同步處理資料庫](#synchronizing_databases)一節中所述。</span><span class="sxs-lookup"><span data-stu-id="0325f-106">The [Synchronize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) command synchronizes one [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database with the data and metadata of another database, as described in the section, [Synchronizing Databases](#synchronizing_databases).</span></span>  
  
##  <a name="backing-up-databases"></a><a name="backing_up_databases"></a><span data-ttu-id="0325f-107">備份資料庫</span><span class="sxs-lookup"><span data-stu-id="0325f-107">Backing Up Databases</span></span>  
 <span data-ttu-id="0325f-108">如先前所述，`Backup` 命令會將指定的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫備份到備份檔案。</span><span class="sxs-lookup"><span data-stu-id="0325f-108">As mentioned earlier, the `Backup` command backs up a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to a backup file.</span></span> <span data-ttu-id="0325f-109">`Backup` 命令具有各種屬性，可讓您指定要備份的資料庫、要使用的備份檔案、如何備份安全性定義以及要備份的遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-109">The `Backup` command has various properties that let you specify the database to be backed up, the backup file to use, how to back up security definitions, and the remote partitions to be backed up.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0325f-110">Analysis Services 服務帳戶必須擁有針對每個檔案所指定之備份位置的寫入權限。</span><span class="sxs-lookup"><span data-stu-id="0325f-110">The Analysis Services service account must have permission to write to the backup location specified for each file.</span></span> <span data-ttu-id="0325f-111">此外，使用者必須具有下列其中一個角色： [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體的管理員角色，或在要備份之資料庫上擁有「完整控制權 (管理員)」權限的資料庫角色成員。</span><span class="sxs-lookup"><span data-stu-id="0325f-111">Also, the user must have one of the following roles: administrator role on the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance, or a member of a database role with Full Control (Administrator) permissions on the database to be backed up.</span></span>  
  
### <a name="specifying-the-database-and-backup-file"></a><span data-ttu-id="0325f-112">指定資料庫與備份檔案</span><span class="sxs-lookup"><span data-stu-id="0325f-112">Specifying the Database and Backup File</span></span>  
 <span data-ttu-id="0325f-113">若要指定要備份的資料庫，請設定命令的[Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla)屬性 `Backup` 。</span><span class="sxs-lookup"><span data-stu-id="0325f-113">To specify the database to be backed up, you set the [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="0325f-114">`Object` 屬性必須包含資料庫的物件識別碼，否則就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="0325f-114">The `Object` property must contain an object identifier for a database, or an error occurs.</span></span>  
  
 <span data-ttu-id="0325f-115">若要指定備份程式所要建立及使用的檔案，請設定命令的[file](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/file-element-xmla)屬性 `Backup` 。</span><span class="sxs-lookup"><span data-stu-id="0325f-115">To specify the file that is to be created and used by the backup process, you set the [File](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/file-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="0325f-116">`File` 屬性應該設定成要建立的備份檔案之 UNC 路徑與檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="0325f-116">The `File` property should be set to a UNC path and file name for the backup file to be created.</span></span>  
  
 <span data-ttu-id="0325f-117">除了指定用於備份的檔案之外，還可以為指定的備份檔案設定下列選項：</span><span class="sxs-lookup"><span data-stu-id="0325f-117">Besides specifying which file to use for backup, you can set the following options for the specified backup file:</span></span>  
  
-   <span data-ttu-id="0325f-118">如果您將[AllowOverwrite](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/allowoverwrite-element-xmla)屬性設定為 true，則此 `Backup` 命令會覆寫備份檔案（如果指定的檔案已存在）。</span><span class="sxs-lookup"><span data-stu-id="0325f-118">If you set the [AllowOverwrite](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/allowoverwrite-element-xmla) property to true, the `Backup` command overwrites the backup file if the specified file already exists.</span></span> <span data-ttu-id="0325f-119">如果將 `AllowOverwrite` 屬性設定為 False，而指定的備份檔案已經存在時，就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="0325f-119">If you set the `AllowOverwrite` property to false, an error occurs if the specified backup file already exists.</span></span>  
  
-   <span data-ttu-id="0325f-120">如果您將[ApplyCompression](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/applycompression-element-xmla)屬性設定為 true，則會在檔案建立之後壓縮備份檔案。</span><span class="sxs-lookup"><span data-stu-id="0325f-120">If you set the [ApplyCompression](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/applycompression-element-xmla) property to true, the backup file is compressed after the file is created.</span></span>  
  
-   <span data-ttu-id="0325f-121">如果您將[Password](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/password-element-xmla)屬性設定為任何非空白的值，則會使用指定的密碼來加密備份檔案。</span><span class="sxs-lookup"><span data-stu-id="0325f-121">If you set the [Password](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/password-element-xmla) property to any non-blank value, the backup file is encrypted by using the specified password.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="0325f-122">如果未指定 `ApplyCompression` 與 `Password` 屬性，備份檔案會以純文字儲存包含在連接字串中的使用者名稱與密碼。</span><span class="sxs-lookup"><span data-stu-id="0325f-122">If `ApplyCompression` and `Password` properties are not specified, the backup file stores user names and passwords that are contained in connection strings in clear text.</span></span> <span data-ttu-id="0325f-123">以純文字儲存的資料可能會被擷取。</span><span class="sxs-lookup"><span data-stu-id="0325f-123">Data that is stored in clear text may be retrieved.</span></span> <span data-ttu-id="0325f-124">為了提高安全性，請使用 `ApplyCompression` 與 `Password` 設定來壓縮和加密備份檔案。</span><span class="sxs-lookup"><span data-stu-id="0325f-124">For increased security, use the `ApplyCompression` and `Password` settings to both compress and encrypt the backup file.</span></span>  
  
### <a name="backing-up-security-settings"></a><span data-ttu-id="0325f-125">備份安全性設定</span><span class="sxs-lookup"><span data-stu-id="0325f-125">Backing Up Security Settings</span></span>  
 <span data-ttu-id="0325f-126">[Security](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla)屬性會決定命令是否會 `Backup` 備份資料庫上定義的安全性定義，例如角色和許可權 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="0325f-126">The [Security](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) property determines whether the `Backup` command backs up the security definitions, such as roles and permissions, defined on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="0325f-127">`Security` 屬性也會決定備份檔案是否包含定義為安全性定義成員的 Windows 使用者帳戶與群組。</span><span class="sxs-lookup"><span data-stu-id="0325f-127">The `Security` property also determines whether the backup file includes the Windows user accounts and groups defined as members of the security definitions.</span></span>  
  
 <span data-ttu-id="0325f-128">`Security` 屬性值只能是下表所列的其中一個字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-128">The value of the `Security` property is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="0325f-129">值</span><span class="sxs-lookup"><span data-stu-id="0325f-129">Value</span></span>|<span data-ttu-id="0325f-130">描述</span><span class="sxs-lookup"><span data-stu-id="0325f-130">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="0325f-131">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="0325f-131">*SkipMembership*</span></span>|<span data-ttu-id="0325f-132">在備份檔案中納入安全性定義，但是排除成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-132">Include security definitions, but exclude membership information, in the backup file.</span></span>|  
|<span data-ttu-id="0325f-133">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="0325f-133">*CopyAll*</span></span>|<span data-ttu-id="0325f-134">在備份檔案中納入安全性定義與成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-134">Include security definitions and membership information in the backup file.</span></span>|  
|<span data-ttu-id="0325f-135">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="0325f-135">*IgnoreSecurity*</span></span>|<span data-ttu-id="0325f-136">從備份檔案排除安全性定義。</span><span class="sxs-lookup"><span data-stu-id="0325f-136">Exclude security definitions from the backup file.</span></span>|  
  
### <a name="backing-up-remote-partitions"></a><span data-ttu-id="0325f-137">備份遠端資料分割</span><span class="sxs-lookup"><span data-stu-id="0325f-137">Backing Up Remote Partitions</span></span>  
 <span data-ttu-id="0325f-138">若要備份資料庫中的遠端 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料分割，請將命令的[BackupRemotePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/backupremotepartitions-element-xmla)屬性設定 `Backup` 為 true。</span><span class="sxs-lookup"><span data-stu-id="0325f-138">To back up remote partitions in the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, you set the [BackupRemotePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/backupremotepartitions-element-xmla) property of the `Backup` command to true.</span></span> <span data-ttu-id="0325f-139">這個設定會造成 `Backup` 命令為每個遠端資料來源建立一個遠端備份檔案，用來儲存資料庫的遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-139">This setting causes the `Backup` command to create a remote backup file for each remote data source that is used to store remote partitions for the database.</span></span>  
  
 <span data-ttu-id="0325f-140">針對要備份的每個遠端資料源，您可以在命令的 [[位置](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/locations-element-xmla)] 屬性中包含[Location](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/location-element-xmla)元素，藉以指定其對應的備份檔案 `Backup` 。</span><span class="sxs-lookup"><span data-stu-id="0325f-140">For each remote data source to be backed up, you can specify its corresponding backup file by including a [Location](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/location-element-xmla) element in the [Locations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/locations-element-xmla) property of the `Backup` command.</span></span> <span data-ttu-id="0325f-141">`Location`元素應 `File` 將其屬性設定為遠端備份檔案的 UNC 路徑和檔案名，並將其[DataSourceID](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/id-element-xmla)屬性設定為資料庫中所定義之遠端資料源的識別碼。</span><span class="sxs-lookup"><span data-stu-id="0325f-141">The `Location` element should have its `File` property set to the UNC path and file name of the remote backup file, and its [DataSourceID](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/id-element-xmla) property set to the identifier of the remote data source defined in the database.</span></span>  
  
##  <a name="restoring-databases"></a><a name="restoring_databases"></a><span data-ttu-id="0325f-142">還原資料庫</span><span class="sxs-lookup"><span data-stu-id="0325f-142">Restoring Databases</span></span>  
 <span data-ttu-id="0325f-143">`Restore` 命令會從備份檔案還原指定的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫。</span><span class="sxs-lookup"><span data-stu-id="0325f-143">The `Restore` command restores a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database from a backup file.</span></span> <span data-ttu-id="0325f-144">`Restore` 命令具有各種屬性，可讓您指定要還原的資料庫、要使用的備份檔案、如何還原安全性定義、要儲存的遠端資料分割以及重新放置關聯式 OLAP (ROLAP) 物件。</span><span class="sxs-lookup"><span data-stu-id="0325f-144">The `Restore` command has various properties that let you specify the database to restore, the backup file to use, how to restore security definitions, the remote partitions to be stored, and the relocation relational OLAP (ROLAP) objects.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="0325f-145">對於每個備份檔案，執行還原命令的使用者必須擁有從針對每個檔案所指定之備份位置讀取的權限。</span><span class="sxs-lookup"><span data-stu-id="0325f-145">For each backup file, the user who runs the restore command must have permission to read from the backup location specified for each file.</span></span> <span data-ttu-id="0325f-146">若要還原沒有安裝在伺服器上的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫，使用者也必須是該 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體之伺服器角色的成員。</span><span class="sxs-lookup"><span data-stu-id="0325f-146">To restore an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database that is not installed on the server, the user must also be a member of the server role for that [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="0325f-147">若要覆寫 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫，使用者必須具有下列其中一個角色：[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體之伺服器角色的成員，或在要還原之資料庫上擁有「完整控制權 (管理員)」權限的資料庫角色成員。</span><span class="sxs-lookup"><span data-stu-id="0325f-147">To overwrite an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database, the user must have one of the following roles: a member of the server role for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or a member of a database role with Full Control (Administrator) permissions on the database to be restored.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0325f-148">還原現有的資料庫之後，還原資料庫的使用者可能會喪失已還原資料庫的存取權。</span><span class="sxs-lookup"><span data-stu-id="0325f-148">After restoring an existing database, the user who restored the database might lose access to the restored database.</span></span> <span data-ttu-id="0325f-149">如果在執行備份時，使用者不是伺服器角色的成員，也不是擁有完整控制權 (管理員) 權限的資料庫角色成員，就可能會發生存取權喪失的情況。</span><span class="sxs-lookup"><span data-stu-id="0325f-149">This loss of access can occur if, at the time that the backup was performed, the user was not a member of the server role or was not a member of the database role with Full Control (Administrator) permissions.</span></span>  
  
### <a name="specifying-the-database-and-backup-file"></a><span data-ttu-id="0325f-150">指定資料庫與備份檔案</span><span class="sxs-lookup"><span data-stu-id="0325f-150">Specifying the Database and Backup File</span></span>  
 <span data-ttu-id="0325f-151">`DatabaseName` 命令的 `Restore` 屬性必須包含資料庫的物件識別碼，否則就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="0325f-151">The `DatabaseName` property of the `Restore` command must contain an object identifier for a database, or an error occurs.</span></span> <span data-ttu-id="0325f-152">如果指定的資料庫已經存在，`AllowOverwrite` 屬性會決定是否覆寫現有的資料庫。</span><span class="sxs-lookup"><span data-stu-id="0325f-152">If the specified database already exists, the `AllowOverwrite` property determines whether the existing database is overwritten.</span></span> <span data-ttu-id="0325f-153">如果將 `AllowOverwrite` 屬性設定為 False，而指定的資料庫已經存在時，就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="0325f-153">If the `AllowOverwrite` property is set to false and the specified database already exists, an error occurs.</span></span>  
  
 <span data-ttu-id="0325f-154">您應該將 `File` 命令的 `Restore` 屬性設定成要還原至指定資料庫的備份檔案之 UNC 路徑與檔案名稱。</span><span class="sxs-lookup"><span data-stu-id="0325f-154">You should set the `File` property of the `Restore` command to a UNC path and file name for the backup file to be restored to the specified database.</span></span> <span data-ttu-id="0325f-155">您也可以為指定的備份檔案設定 `Password` 屬性。</span><span class="sxs-lookup"><span data-stu-id="0325f-155">You can also set the `Password` property for the specified backup file.</span></span> <span data-ttu-id="0325f-156">如果將 `Password` 屬性設定為任何非空白值，就會使用指定的密碼來解密備份檔案。</span><span class="sxs-lookup"><span data-stu-id="0325f-156">If the `Password` property is set to any non-blank value, the backup file is decrypted by using the specified password.</span></span> <span data-ttu-id="0325f-157">如果備份檔案未加密，或者如果指定的密碼不符合用以加密備份檔案的密碼，就會發生錯誤。</span><span class="sxs-lookup"><span data-stu-id="0325f-157">If the backup file was not encrypted, or if the specified password does not match the password used to encrypt the backup file, an error occurs.</span></span>  
  
### <a name="restoring-security-settings"></a><span data-ttu-id="0325f-158">還原安全性設定</span><span class="sxs-lookup"><span data-stu-id="0325f-158">Restoring Security Settings</span></span>  
 <span data-ttu-id="0325f-159">`Security` 屬性會決定 `Restore` 命令是否會還原在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫上定義的安全性定義，例如角色和權限。</span><span class="sxs-lookup"><span data-stu-id="0325f-159">The `Security` property determines whether the `Restore` command restores the security definitions, such as roles and permissions, defined on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="0325f-160">`Security` 屬性也會決定 `Restore` 命令是否會將定義為安全性定義成員的 Windows 使用者帳戶和群組包含在還原程序中。</span><span class="sxs-lookup"><span data-stu-id="0325f-160">The `Security` property also determines whether the `Restore` command includes the Windows user accounts and groups defined as members of the security definitions as part of the restore process.</span></span>  
  
 <span data-ttu-id="0325f-161">這個元素的值限制為下表所列的其中一個字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-161">The value of this element is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="0325f-162">值</span><span class="sxs-lookup"><span data-stu-id="0325f-162">Value</span></span>|<span data-ttu-id="0325f-163">描述</span><span class="sxs-lookup"><span data-stu-id="0325f-163">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="0325f-164">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="0325f-164">*SkipMembership*</span></span>|<span data-ttu-id="0325f-165">在資料庫中納入安全性定義，但是排除成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-165">Include security definitions, but exclude membership information, in the database.</span></span>|  
|<span data-ttu-id="0325f-166">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="0325f-166">*CopyAll*</span></span>|<span data-ttu-id="0325f-167">在資料庫中納入安全性定義與成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-167">Include security definitions and membership information in the database.</span></span>|  
|<span data-ttu-id="0325f-168">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="0325f-168">*IgnoreSecurity*</span></span>|<span data-ttu-id="0325f-169">從資料庫排除安全性定義。</span><span class="sxs-lookup"><span data-stu-id="0325f-169">Exclude security definitions from the database.</span></span>|  
  
### <a name="restoring-remote-partitions"></a><span data-ttu-id="0325f-170">還原遠端資料分割</span><span class="sxs-lookup"><span data-stu-id="0325f-170">Restoring Remote Partitions</span></span>  
 <span data-ttu-id="0325f-171">對於每個在前一個 `Backup` 命令期間建立的遠端備份檔案，您可以在 `Location` 命令的 `Locations` 屬性中包含 `Restore` 元素，以還原其關聯的遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-171">For each remote backup file created during a previous `Backup` command, you can restore its associated remote partition by including a `Location` element in the `Locations` property of the `Restore` command.</span></span> <span data-ttu-id="0325f-172">每個元素的[DataSourceType](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/type-element-xmla)屬性都 `Location` 必須排除或明確設定為*Remote*。</span><span class="sxs-lookup"><span data-stu-id="0325f-172">The [DataSourceType](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/type-element-xmla) property for each `Location` element must be excluded or explicitly set to *Remote*.</span></span>  
  
 <span data-ttu-id="0325f-173">對於每個指定的 `Location` 元素，[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體會連絡在 `DataSourceID` 屬性中指定的遠端資料來源，以還原在 `File` 屬性中指定的遠端備份檔案中定義的資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-173">For each specified `Location` element, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance contacts the remote data source specified in the `DataSourceID` property to restore the partitions defined in the remote backup file specified in the `File` property.</span></span> <span data-ttu-id="0325f-174">除了 `DataSourceID` 與 `File` 屬性之外，每個 `Location` 元素都可以使用下列屬性來還原遠端資料分割：</span><span class="sxs-lookup"><span data-stu-id="0325f-174">Besides the `DataSourceID` and `File` properties, the following properties are available for each `Location` element used to restore a remote partition:</span></span>  
  
-   <span data-ttu-id="0325f-175">若要覆寫在 `DataSourceID` 中指定的遠端資料來源連接字串，您可以將 `ConnectionString` 元素的 `Location` 屬性設定成不同的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-175">To override the connection string for the remote data source specified in `DataSourceID`, you can set the `ConnectionString` property of the `Location` element to a different connection string.</span></span> <span data-ttu-id="0325f-176">`Restore` 命令接著將會使用包含在 `ConnectionString` 屬性中的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-176">The `Restore` command will then use the connection string that is contained in the `ConnectionString` property.</span></span> <span data-ttu-id="0325f-177">如果未指定 `ConnectionString`，`Restore` 命令會為指定的遠端資料來源，使用儲存在備份檔案中的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-177">If `ConnectionString` is not specified, the `Restore` command uses the connection string stored in the backup file for the specified remote data source.</span></span> <span data-ttu-id="0325f-178">您可以使用 `ConnectionString` 設定將遠端資料分割移到不同的遠端執行個體。</span><span class="sxs-lookup"><span data-stu-id="0325f-178">You can use the `ConnectionString` setting to move a remote partition to a different remote instance.</span></span> <span data-ttu-id="0325f-179">不過，您無法使用 `ConnectionString` 設定將遠端資料分割還原至含有已還原資料庫的相同執行個體。</span><span class="sxs-lookup"><span data-stu-id="0325f-179">However, you cannot use the `ConnectionString` setting to restore a remote partition to the same instance that contains the restored database.</span></span> <span data-ttu-id="0325f-180">換句話說，您無法使用 `ConnectionString` 屬性將遠端資料分割變成本機資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-180">In other words, you cannot use the `ConnectionString` property to make a remote partition into a local partition.</span></span>  
  
-   <span data-ttu-id="0325f-181">針對用來在遠端資料源上儲存遠端資料分割的每個原始檔案夾，您可以指定[folder](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/folder-element-xmla)元素，指出要在其中還原所有儲存在原始檔案夾中之遠端分割區的新資料夾。</span><span class="sxs-lookup"><span data-stu-id="0325f-181">For each original folder used to store the remote partitions on the remote data source, you can specify a [Folder](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/folder-element-xmla) element to indicate the new folder in which to restore all the remote partitions stored in the original folder.</span></span> <span data-ttu-id="0325f-182">如果未指定 `Folder` 元素，`Restore` 命令會使用為遠端備份檔案中包含的遠端資料分割所指定的原始資料夾。</span><span class="sxs-lookup"><span data-stu-id="0325f-182">If a `Folder` element is not specified, the `Restore` command uses the original folders specified for the remote partitions that are contained in the remote backup file.</span></span>  
  
### <a name="relocating-rolap-objects"></a><span data-ttu-id="0325f-183">重新放置 ROLAP 物件</span><span class="sxs-lookup"><span data-stu-id="0325f-183">Relocating ROLAP Objects</span></span>  
 <span data-ttu-id="0325f-184">`Restore` 命令無法為使用 ROLAP 儲存的物件還原彙總或是資料，因為這樣的資訊是儲存在基礎關聯式資料來源的資料表中。</span><span class="sxs-lookup"><span data-stu-id="0325f-184">The `Restore` command cannot restore aggregations or data for objects that use ROLAP storage because such information is stored in tables on an underlying relational data source.</span></span> <span data-ttu-id="0325f-185">不過，可以還原 ROLAP 物件的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="0325f-185">However, the metadata for ROLAP objects can be restored.</span></span> <span data-ttu-id="0325f-186">若要還原 ROLAP 物件的中繼資料，`Restore` 命令會在關聯式資料來源上重新建立資料表結構。</span><span class="sxs-lookup"><span data-stu-id="0325f-186">To restore the metadata for ROLAP object, the `Restore` command re-creates the table structure on a relational data source.</span></span>  
  
 <span data-ttu-id="0325f-187">您可以在 `Location` 命令中使用 `Restore` 元素，重新放置 ROLAP 物件。</span><span class="sxs-lookup"><span data-stu-id="0325f-187">You can use the `Location` element in a `Restore` command to relocate ROLAP objects.</span></span> <span data-ttu-id="0325f-188">針對 `Location` 用來重新放置資料來源的每個元素， `DataSourceType` 必須將屬性明確設定為*Local*。</span><span class="sxs-lookup"><span data-stu-id="0325f-188">For each `Location` element used to relocate a data source, the `DataSourceType` property must be explicitly set to *Local*.</span></span> <span data-ttu-id="0325f-189">另外，您也必須將 `ConnectionString` 元素的 `Location` 屬性設定為新位置的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-189">You also have to set the `ConnectionString` property of the `Location` element to the connection string of the new location.</span></span> <span data-ttu-id="0325f-190">在還原期間，`Restore` 將會使用 `DataSourceID` 元素的 `Location` 屬性值，取代 `ConnectionString` 元素的 `Location` 屬性所識別的資料來源連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-190">During the restore, the `Restore` command will replace the connection string for the data source identified by the `DataSourceID` property of the `Location` element with the value of the `ConnectionString` property of the `Location` element.</span></span>  
  
##  <a name="synchronizing-databases"></a><a name="synchronizing_databases"></a><span data-ttu-id="0325f-191">同步處理資料庫</span><span class="sxs-lookup"><span data-stu-id="0325f-191">Synchronizing Databases</span></span>  
 <span data-ttu-id="0325f-192">`Synchronize` 命令會將指定之 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫的資料和中繼資料與另一個資料庫同步處理。</span><span class="sxs-lookup"><span data-stu-id="0325f-192">The `Synchronize` command synchronizes the data and metadata of a specified [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database with another database.</span></span> <span data-ttu-id="0325f-193">`Synchronize` 命令具有各種屬性，可讓您指定來源資料庫、如何同步處理安全性定義、要同步處理的遠端資料分割，以及 ROLAP 物件的同步處理。</span><span class="sxs-lookup"><span data-stu-id="0325f-193">The `Synchronize` command has various properties that let you specify the source database, how to synchronize security definitions, the remote partitions to be synchronized, and the synchronization of ROLAP objects.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0325f-194">只有伺服器管理員與資料庫管理員可以執行 `Synchronize` 命令。</span><span class="sxs-lookup"><span data-stu-id="0325f-194">The `Synchronize` command can be executed only by server administrators and database administrators.</span></span> <span data-ttu-id="0325f-195">來源與目的地資料庫都必須具有相同的資料庫相容性層級。</span><span class="sxs-lookup"><span data-stu-id="0325f-195">Both the source and destination database must have the same database compatibility level.</span></span>  
  
### <a name="specifying-the-source-database"></a><span data-ttu-id="0325f-196">指定來源資料庫</span><span class="sxs-lookup"><span data-stu-id="0325f-196">Specifying the Source Database</span></span>  
 <span data-ttu-id="0325f-197">命令的[Source](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/source-element-xmla)屬性 `Synchronize` 包含兩個屬性： `ConnectionString` 和 `Object` 。</span><span class="sxs-lookup"><span data-stu-id="0325f-197">The [Source](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/source-element-xmla) property of the `Synchronize` command contains two properties, `ConnectionString` and `Object`.</span></span> <span data-ttu-id="0325f-198">`ConnectionString` 屬性包括含有來源資料庫之執行個體的連接字串，而 `Object` 屬性包含來源資料庫的物件識別碼。</span><span class="sxs-lookup"><span data-stu-id="0325f-198">The `ConnectionString` property contains the connection string of the instance that contains the source database, and the `Object` property contains the object identifier for the source database.</span></span>  
  
 <span data-ttu-id="0325f-199">目的地資料庫是 `Synchronize` 命令執行的工作階段目前的資料庫。</span><span class="sxs-lookup"><span data-stu-id="0325f-199">The destination database is the current database for the session in which the `Synchronize` command runs.</span></span>  
  
 <span data-ttu-id="0325f-200">如果 `ApplyCompression` 命令的 `Synchronize` 屬性是設定為 True，從來源資料庫傳送到目的地資料庫的資訊，會在傳送之前先壓縮。</span><span class="sxs-lookup"><span data-stu-id="0325f-200">If the `ApplyCompression` property of the `Synchronize` command is set to true, the information sent from the source database to the destination database is compressed before being sent.</span></span>  
  
### <a name="synchronizing-security-settings"></a><span data-ttu-id="0325f-201">同步處理安全性設定</span><span class="sxs-lookup"><span data-stu-id="0325f-201">Synchronizing Security Settings</span></span>  
 <span data-ttu-id="0325f-202">[SynchronizeSecurity](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla)屬性會決定命令是否會同步處理在 `Synchronize` 源資料庫上定義的安全性定義，例如角色和許可權。</span><span class="sxs-lookup"><span data-stu-id="0325f-202">The [SynchronizeSecurity](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/security-element-xmla) property determines whether the `Synchronize` command synchronizes the security definitions, such as roles and permissions, defined on the source database.</span></span> <span data-ttu-id="0325f-203">`SynchronizeSecurity` 屬性也會決定 `Sychronize` 命令是否包含定義為安全性定義成員的 Windows 使用者帳戶與群組。</span><span class="sxs-lookup"><span data-stu-id="0325f-203">The `SynchronizeSecurity` property also determines whether the `Sychronize` command includes the Windows user accounts and groups defined as members of the security definitions.</span></span>  
  
 <span data-ttu-id="0325f-204">這個元素的值限制為下表所列的其中一個字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-204">The value of this element is limited to one of the strings listed in the following table.</span></span>  
  
|<span data-ttu-id="0325f-205">值</span><span class="sxs-lookup"><span data-stu-id="0325f-205">Value</span></span>|<span data-ttu-id="0325f-206">描述</span><span class="sxs-lookup"><span data-stu-id="0325f-206">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="0325f-207">*SkipMembership*</span><span class="sxs-lookup"><span data-stu-id="0325f-207">*SkipMembership*</span></span>|<span data-ttu-id="0325f-208">在目的地資料庫中納入安全性定義，但是排除成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-208">Include security definitions, but exclude membership information, in the destination database.</span></span>|  
|<span data-ttu-id="0325f-209">*CopyAll*</span><span class="sxs-lookup"><span data-stu-id="0325f-209">*CopyAll*</span></span>|<span data-ttu-id="0325f-210">在目的地資料庫中納入安全性定義與成員資格資訊。</span><span class="sxs-lookup"><span data-stu-id="0325f-210">Include security definitions and membership information in the destination database.</span></span>|  
|<span data-ttu-id="0325f-211">*IgnoreSecurity*</span><span class="sxs-lookup"><span data-stu-id="0325f-211">*IgnoreSecurity*</span></span>|<span data-ttu-id="0325f-212">從目的地資料庫排除安全性定義。</span><span class="sxs-lookup"><span data-stu-id="0325f-212">Exclude security definitions from the destination database.</span></span>|  
  
### <a name="synchronizing-remote-partitions"></a><span data-ttu-id="0325f-213">同步處理遠端資料分割</span><span class="sxs-lookup"><span data-stu-id="0325f-213">Synchronizing Remote Partitions</span></span>  
 <span data-ttu-id="0325f-214">對於每個存在於來源資料庫的遠端資料來源，您可以在 `Location` 命令的 `Locations` 屬性中包含 `Synchronize` 元素，以同步處理每個關聯的遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-214">For each remote data source that exists on the source database, you can synchronize each associated remote partition by including a `Location` element in the `Locations` property of the `Synchronize` command.</span></span> <span data-ttu-id="0325f-215">針對每個專案 `Location` ， `DataSourceType` 必須排除或明確將屬性設為*Remote*。</span><span class="sxs-lookup"><span data-stu-id="0325f-215">For each `Location` element, the `DataSourceType` property must be excluded or explicitly set to *Remote*.</span></span>  
  
 <span data-ttu-id="0325f-216">為了定義和連接到目的地資料庫中的遠端資料來源，`Synchronize` 命令會使用定義在 `ConnectionString` 元素中 `Location` 屬性的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-216">To define and connect to a remote data source in the destination database, the `Synchronize` command uses the connection string defined in the `ConnectionString` property of the `Location` element.</span></span> <span data-ttu-id="0325f-217">`Synchronize` 命令接著會使用 `DataSourceID` 元素的`Location` 屬性，以識別要同步處理哪些遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-217">The `Synchronize` command then uses the `DataSourceID` property of the `Location` element to identify which remote partitions to synchronize.</span></span> <span data-ttu-id="0325f-218">命令會在 `Synchronize` 源資料庫的屬性中指定的遠端資料源上， `DataSourceID` 與目的地資料庫的屬性中指定的遠端資料源同步處理遠端資料分割 `DataSourceID` 。</span><span class="sxs-lookup"><span data-stu-id="0325f-218">The `Synchronize`command synchronizes the remote partitions on the remote data source specified in the `DataSourceID` property on the source database with the remote data source specified in the `DataSourceID` property on the destination database.</span></span>  
  
 <span data-ttu-id="0325f-219">對於每個用以儲存來源資料庫上遠端資料來源中之遠端資料分割的原始資料夾，您也可以指定 `Folder` 元素中的 `Location` 元素。</span><span class="sxs-lookup"><span data-stu-id="0325f-219">For each original folder used to store the remote partitions on the remote data source on the source database, you can also specify a `Folder` element in the `Location` element.</span></span> <span data-ttu-id="0325f-220">`Folder` 元素會指定目的地資料庫的新資料夾，在這個資料夾中，會同步處理儲存在遠端資料來源原始資料夾中的所有遠端資料分割。</span><span class="sxs-lookup"><span data-stu-id="0325f-220">The `Folder` element indicates the new folder for the destination database in which to synchronize all the remote partitions stored in the original folder on the remote data source.</span></span> <span data-ttu-id="0325f-221">如果未指定 `Folder` 元素，Synchronize 命令會使用針對來源資料庫中包含的遠端資料分割所指定的原始資料夾。</span><span class="sxs-lookup"><span data-stu-id="0325f-221">If a `Folder` element is not specified, the Synchronize command uses the original folders specified for remote partitions that are contained in the source database.</span></span>  
  
### <a name="synchronizing-rolap-objects"></a><span data-ttu-id="0325f-222">同步處理 ROLAP 物件</span><span class="sxs-lookup"><span data-stu-id="0325f-222">Synchronizing ROLAP Objects</span></span>  
 <span data-ttu-id="0325f-223">`Synchronize` 命令無法為使用 ROLAP 儲存的物件同步處理彙總或是資料，因為這樣的資訊是儲存在基礎關聯式資料來源的資料表中。</span><span class="sxs-lookup"><span data-stu-id="0325f-223">The `Synchronize` command cannot synchronize aggregations or data for objects that use ROLAP storage because such information is stored in tables on an underlying relational data source.</span></span> <span data-ttu-id="0325f-224">不過，可以同步處理 ROLAP 物件的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="0325f-224">However, the metadata for ROLAP objects can be synchronized.</span></span> <span data-ttu-id="0325f-225">若要同步處理中繼資料，`Synchronize` 命令會在關聯式資料來源上重新建立資料表結構。</span><span class="sxs-lookup"><span data-stu-id="0325f-225">To synchronize the metadata, the `Synchronize` command recreates the table structure on a relational data source.</span></span>  
  
 <span data-ttu-id="0325f-226">您可以在 Synchronize 命令中使用 `Location` 元素，同步處理 ROLAP 物件。</span><span class="sxs-lookup"><span data-stu-id="0325f-226">You can use the `Location` element in a Synchronize command to synchronize ROLAP objects.</span></span> <span data-ttu-id="0325f-227">針對 `Location` 用來重新放置資料來源的每個元素， `DataSourceType` 必須將屬性明確設定為*Local*。</span><span class="sxs-lookup"><span data-stu-id="0325f-227">For each `Location` element used to relocate a data source, the `DataSourceType` property must be explicitly set to *Local*.</span></span> <span data-ttu-id="0325f-228">.</span><span class="sxs-lookup"><span data-stu-id="0325f-228">.</span></span> <span data-ttu-id="0325f-229">另外，您也必須將 `ConnectionString` 元素的 `Location` 屬性設定為新位置的連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-229">You also have to set the `ConnectionString` property of the `Location` element to the connection string of the new location.</span></span> <span data-ttu-id="0325f-230">在同步處理期間，`Synchronize` 命令將會使用 `DataSourceID` 元素的 `Location` 屬性值，取代 `ConnectionString` 元素的 `Location` 屬性所識別的資料來源連接字串。</span><span class="sxs-lookup"><span data-stu-id="0325f-230">During synchronization, the `Synchronize` command will replace the connection string for the data source identified by the `DataSourceID` property of the `Location` element with the value of the `ConnectionString` property of the `Location` element.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0325f-231">另請參閱</span><span class="sxs-lookup"><span data-stu-id="0325f-231">See Also</span></span>  
 <span data-ttu-id="0325f-232">[Backup 元素 &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="0325f-232">[Backup Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/backup-element-xmla) </span></span>  
 <span data-ttu-id="0325f-233">[Restore 元素 &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="0325f-233">[Restore Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/restore-element-xmla) </span></span>  
 <span data-ttu-id="0325f-234">[&#40;XMLA&#41;同步處理元素](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) </span><span class="sxs-lookup"><span data-stu-id="0325f-234">[Synchronize Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/synchronize-element-xmla) </span></span>  
 [<span data-ttu-id="0325f-235">備份與還原 Analysis Services 資料庫</span><span class="sxs-lookup"><span data-stu-id="0325f-235">Backup and Restore of Analysis Services Databases</span></span>](../multidimensional-models/backup-and-restore-of-analysis-services-databases.md)  
  
  
