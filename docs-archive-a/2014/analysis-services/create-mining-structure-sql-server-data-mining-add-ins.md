---
title: 建立 (SQL Server 資料採礦增益集的採礦結構) |Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining structures, creating
ms.assetid: b8b1eedc-4d6d-4429-a578-e629ec573934
author: minewiskan
ms.author: owend
ms.openlocfilehash: c75712a893c6271da291693f46771aa71263280e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87594287"
---
# <a name="create-mining-structure-sql-server-data-mining-add-ins"></a>建立採礦結構 (SQL Server 資料採礦增益集)
  ![資料採礦功能區中的建立採礦結構按鈕](media/dmc-createstruct.gif "資料採礦功能區中的建立採礦結構按鈕")  
  
 當您想要建立用於分析的資料集，而不一定要建立模型時，請使用 [**資料模型**化] 群組中的 [ **Advanced** ] 選項。 這在您想要試驗不同的演算法時會很有用。  
  
 建立了採礦結構之後，請使用 [[將模型加入結構](add-model-to-structure-data-mining-add-ins-for-excel.md)] wizard 來建立以該結構為基礎的模型。 您也可以使用 [資料採礦] [**高級查詢編輯器**] 來建立新的模型。  
  
 當您想要建立使用進階演算法 (例如線性迴歸或時序群集，其會受到 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 的支援，但是精靈不會提供) 或自訂演算法的模型時，也可以使用這個選項。  
  
> [!NOTE]  
>  建立採礦結構時，您也可以建立隨機選取的測試資料集，以用來驗證所有模型。 由於您可以輕鬆地根據一般資料集比較模型精確度，因此會很有幫助。 只要選取 [將**資料分割成定型和測試集**] 選項，並指定要保留進行測試的適當資料百分比，通常約為30%。  
  
## <a name="use-the-wizard-to-create-a-mining-structure"></a>使用精靈建立採礦結構  
  
1.  在 [**資料採礦**] 功能區中，按一下 [ **Advanced**]，然後選取 [**建立結構**]。  
  
2.  在 [**選取來源資料**] 對話方塊中，指定包含您要用於分析之資料的 excel 範圍、excel 資料表或外部資料源。  
  
     按 [下一步] 。  
  
3.  在 [**選取資料行**] 對話方塊中，檢查所選資料來源中可用的資料行清單。  
  
4.  按一下 [資料行名稱] 右邊的箭號，以變更資料行的**使用**方式，從下列值中進行選擇：  
  
    -   **索引鍵**。 每個模型至少需要一個索引鍵。  
  
    -   **金鑰時間**。 這個選項僅適用於預測模型 (為其必要項)。  
  
    -   **包含**。 表示資料行應用於採礦結構，但不是索引鍵資料行。  
  
    -   **請勿使用**。 表示資料行不應包含在採礦結構中。  
  
     請記住，在建立模型時，您一律可以忽略資料行，但稍後再加入資料行時，需要重新處理結構和模型。  
  
5.  按一下 [流覽** ( ...] ) **按鈕，設定內容類型、資料類型和模型旗標。  
  
    > [!NOTE]  
    >  如果資料行包含數值資料，您應該永遠開啟此對話方塊，以確保選擇的資料類型正確。 在某些情況下，即使輸入資料為數字，您仍需要將它視為類別變數或離散值，而不是連續的數字。  
    >   
    >  例如，郵遞區號資料行預設可能會以連續的 LONG 資料類型列出，但是您可以指定將郵遞區號當做離散文字值處理，以便得到更好的效果。  
    >   
    >  如需詳細資訊，請參閱關於[選擇資料採礦資料](choosing-data-for-data-mining.md)中的內容類型一節。  
  
     按一下 **[確定]** ，關閉對話方塊。  
  
6.  按 [下一步] 。  
  
     根據您使用的資料類型，您可以在這個步驟之後就完成精靈。 在這種情況下，請直接跳到 [**完成]** 頁面，為您的採礦結構命名。  
  
     若為其他模型，您另外還可以建立測試資料集。  
  
7.  在 [將**資料分割成定型和測試資料集**] 對話方塊中，指定您想要資料分割的方式。 根據預設，百分之三十的資料用於測試。  
  
     或者，輸入要用於測試之資料列的數目上限。  
  
     按 [下一步] 。  
  
8.  在 [**完成**] 對話方塊中，輸入新的「採礦結構」的名稱和描述。  
  
9. 按一下 [完成] 。  
  
### <a name="related-options"></a>相關的選項  
  
|選項|註解|  
|------------|--------------|  
|[**選取來源資料**] 對話方塊|當您選取 Excel 資料表時，您應該指出資料是否已有標頭。 如果略過這個選項，資料的第一列會做為資料行名稱。<br /><br /> 如果您使用 [**外部資料源**] 選項，您可以使用任何可在資料來源中定義的資料類型 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 。 不過，增益集中用於建立新資料來源的對話方塊不包含 Analysis Services 支援的所有資料來源，因此建議您事先在 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 伺服器上建立資料來源，然後再使用增益集進行連接。|  
|[**資料來源查詢編輯器**] 對話方塊|在您連接至指定的資料來源之後，您可以加入資料行，或建立自訂查詢以產生自訂資料行。|  
|**將資料分割成定型集和測試集**|定型與測試集的建議值為70%，用於定型，而30% 用於測試;不過，如果您有大量資料，您可以指定測試的最大資料列數目。|  
|[完成] 對話方塊|某些模型類型提供鑽研選項，如果您在採礦結構中包含詳細資料的資料行，這些選項會很有用。 例如，如果您建立群集模型，您可以包含用於鑽研 (而不是用於分析) 的詳細資料 (例如名稱或電子郵件地址)，以便更容易連絡特定群集中的客戶。|  
  
###  <a name="setting-column-usage-in-the-create-mining-structure-wizard"></a><a name="Bkmk_strctcolumn"></a>在建立採礦結構 Wizard 中設定資料行使用方式  
 在建立資料採礦結構時，可以指定要在採礦結構中包含資料來源的哪些資料行，以及這些資料行的使用方式。 請記住，採礦結構可以支援多個採礦模型。  
  
|值|描述|  
|------------|-----------------|  
|**包含**|指定資料行包含可用於分析或預測的資料。|  
|**索引鍵**|指定資料行包含交易識別碼、序列識別碼，或處理所需的另一個索引鍵。<br /><br /> 所有的演算法都需要索引鍵資料行。 不過，有些演算法只允許單一索引鍵，有些則允許多個索引鍵。<br /><br /> 如果資料行包含索引鍵，但不需要進行處理，請選取 [**不使用**]。|  
|**Key Time**|指定資料行包含日期或其他的數值，可用來唯一識別時間序列的項目。|  
|**不要使用**|指定應忽略資料行。 不會處理資料行中的資料。|  
  
 若要正確地處理模型，演算法必須知道哪個資料行是唯一識別每個資料列的索引鍵資料行；如果是建立可預測模型，哪個資料行是建立預測的目標資料行；以及使用哪些資料行做為建立預測目標資料行之關聯性的輸入資料行。  
  
-   指定為 [不**使用**] 的資料行不會出現在此採礦結構中。  
  
     如果加入的資料行不必要或具有不正確的值，就會對分析結果造成不良的影響。 因此，請務必只加入相關的資料行。 不過，請您記住，未用於採礦結構中的資料行就無法用於查詢。  
  
-   指定為**Include**類型的資料行會包含在此採礦結構中，而稍後可用於分析或預測模型。  
  
     如果您不確定是否需要使用某資料行，可以將該資料行包含在採礦結構中，然後建立不使用該資料行的採礦模型。 例如，您可以在資料中包含電話號碼資料行以供稍後參考，但建立忽略電話號碼的群集模型。 在建立該群集後，可以建立查詢以傳回屬於特定群集之人員的電話號碼。  
  
-   所有的演算法都需要索引**鍵**資料行。 索引鍵資料行中的值必須是唯一的。 只有在預測或時間序列模型中，才需要**Key Time**資料行。 .  
  
### <a name="requirements"></a>需求  
 若要建立資料採礦結構，您必須具有 [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] 執行個體的連接。 即使您使用暫時性結構，還是需要連接。 如需有關如何建立或變更連接的詳細資訊，請參閱[連接到來源資料 &#40;適用于 Excel&#41;的資料採礦用戶端](connect-to-source-data-data-mining-client-for-excel.md)。  
  
## <a name="see-also"></a>另請參閱  
 [建立資料採礦模型](creating-a-data-mining-model.md)  
  
  
