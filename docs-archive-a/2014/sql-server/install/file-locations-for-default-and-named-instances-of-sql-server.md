---
title: SQL Server 的預設和具名執行個體的檔案位置 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: 463c570e-9f75-4653-b3b8-4d61753b0013
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8ea54339fcf4af36f202c43b2cddc3614d9673c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87598181"
---
# <a name="file-locations-for-default-and-named-instances-of-sql-server"></a><span data-ttu-id="db85f-102">SQL Server 的預設和具名執行個體的檔案位置</span><span class="sxs-lookup"><span data-stu-id="db85f-102">File Locations for Default and Named Instances of SQL Server</span></span>
  <span data-ttu-id="db85f-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的安裝是由一個或多個不同的執行個體所組成。</span><span class="sxs-lookup"><span data-stu-id="db85f-103">An installation of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] consists of one or more separate instances.</span></span> <span data-ttu-id="db85f-104">不論是預設或具名，執行個體都有自己的一組程式和資料檔案，以及在電腦上所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體之間共用的一組共同檔案。</span><span class="sxs-lookup"><span data-stu-id="db85f-104">An instance, whether default or named, has its own set of program and data files, as well as a set of common files shared between all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the computer.</span></span>  
  
 <span data-ttu-id="db85f-105">如果 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體包括 [!INCLUDE[ssDE](../../includes/ssde-md.md)]、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]，則每一個元件都有一組完整的資料檔案和可執行檔，以及所有元件共用的共同檔案。</span><span class="sxs-lookup"><span data-stu-id="db85f-105">For an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that includes the [!INCLUDE[ssDE](../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], each component has a full set of data and executable files, and common files shared by all components.</span></span>  
  
 <span data-ttu-id="db85f-106">為了隔離每一個元件的安裝位置，會針對給定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]執行個體內的每一個元件產生唯一的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-106">To isolate install locations for each component, unique instance IDs are generated for each component within a given instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="db85f-107">程式檔和資料檔案不能安裝在抽取式磁碟機以及使用壓縮的檔案系統上、不能安裝在系統檔案所在的目錄中，也不能安裝在容錯移轉叢集執行個體上的共用磁碟機。</span><span class="sxs-lookup"><span data-stu-id="db85f-107">Program files and data files cannot be installed on a removable disk drive, cannot be installed on a file system that uses compression, cannot be installed to a directory where system files are located, and cannot be installed on shared drives on a failover cluster instance.</span></span>  
>   
>  <span data-ttu-id="db85f-108">系統資料庫 (Master、Model、MSDB 和 TempDB) 與 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 使用者資料庫可以當做儲存選項與伺服器訊息區塊 (SMB) 檔案伺服器一起安裝。</span><span class="sxs-lookup"><span data-stu-id="db85f-108">System databases (master, model, MSDB, and tempdb), and [!INCLUDE[ssDE](../../includes/ssde-md.md)] user databases can be installed with Server Message Block (SMB) file server as a storage option.</span></span> <span data-ttu-id="db85f-109">這同時適用於 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 獨立安裝和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 容錯移轉叢集安裝 (FCI)。</span><span class="sxs-lookup"><span data-stu-id="db85f-109">This applies to both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stand-alone and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster installations (FCI).</span></span> <span data-ttu-id="db85f-110">如需詳細資訊，請參閱 [將 SQL Server 與 SMB Fileshare 當做儲存選項一起安裝](../../database-engine/install-windows/install-sql-server-with-smb-fileshare-as-a-storage-option.md)。</span><span class="sxs-lookup"><span data-stu-id="db85f-110">For more information, see [Install SQL Server with SMB Fileshare as a Storage Option](../../database-engine/install-windows/install-sql-server-with-smb-fileshare-as-a-storage-option.md).</span></span>  
>   
>  <span data-ttu-id="db85f-111">請勿刪除下列任何一個目錄或是其內容：Binn、Data、Ftdata、HTML 或 1033。</span><span class="sxs-lookup"><span data-stu-id="db85f-111">Do not delete any of the following directories or their contents: Binn, Data, Ftdata, HTML, or 1033.</span></span> <span data-ttu-id="db85f-112">必要時，您可以刪除其他目錄。不過，如果您沒有解除安裝後再重新安裝 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]的話，可能會無法擷取任何遺失的功能或資料。</span><span class="sxs-lookup"><span data-stu-id="db85f-112">You can delete other directories, if necessary; however, you might not be able to retrieve any lost functionality or data without uninstalling and then reinstalling [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="db85f-113">請勿刪除或修改 HTML 目錄中的任何 .htm 檔。</span><span class="sxs-lookup"><span data-stu-id="db85f-113">Do not delete or modify any of the .htm files in the HTML directory.</span></span> <span data-ttu-id="db85f-114">這些檔案是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 工具得以正常運作所不可或缺的要素。</span><span class="sxs-lookup"><span data-stu-id="db85f-114">They are required for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tools to function properly.</span></span>  
  
## <a name="shared-files-for-all-instances-of-ssnoversion"></a><span data-ttu-id="db85f-115">所有 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="db85f-115">Shared Files for All Instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="db85f-116">單一電腦上所有實例使用的通用檔案會安裝在資料夾中 [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)] ，其中 \<*drive*> 是安裝元件的磁碟機號。</span><span class="sxs-lookup"><span data-stu-id="db85f-116">Common files used by all instances on a single computer are installed in the folder [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)], where \<*drive*> is the drive letter where components are installed.</span></span> <span data-ttu-id="db85f-117">預設值通常是磁碟機 C。</span><span class="sxs-lookup"><span data-stu-id="db85f-117">The default is usually drive C.</span></span>  
  
## <a name="file-locations-and-registry-mapping"></a><span data-ttu-id="db85f-118">檔案位置和登錄對應</span><span class="sxs-lookup"><span data-stu-id="db85f-118">File Locations and Registry Mapping</span></span>  
 <span data-ttu-id="db85f-119">在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝期間，系統會為每一個伺服器元件產生一個執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-119">During [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup, an instance ID is generated for each server component.</span></span> <span data-ttu-id="db85f-120">這個 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本中的伺服器元件是 [!INCLUDE[ssDE](../../includes/ssde-md.md)]、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="db85f-120">The server components in this [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] release are the [!INCLUDE[ssDE](../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="db85f-121">預設執行個體識別碼是使用以下格式建構的：</span><span class="sxs-lookup"><span data-stu-id="db85f-121">The default instance ID is constructed by using the following format:</span></span>  
  
-   <span data-ttu-id="db85f-122">[!INCLUDE[ssDE](../../includes/ssde-md.md)]的 MSSQL，後面接著主要版本號碼、底線、次要版本 (如果適用的話) 和句點，再接著執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="db85f-122">MSSQL for the [!INCLUDE[ssDE](../../includes/ssde-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
-   <span data-ttu-id="db85f-123">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]的 MSAS，後面接著主要版本號碼、底線、次要版本 (如果適用的話) 和句點，再接著執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="db85f-123">MSAS for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
-   <span data-ttu-id="db85f-124">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]的 MSRS，後面接著主要版本號碼、底線、次要版本 (如果適用的話) 和句點，再接著執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="db85f-124">MSRS for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], followed by the major version number, followed by an underscore and the minor version when applicable, and a period, followed by the instance name.</span></span>  
  
 <span data-ttu-id="db85f-125">此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 版本中的預設執行個體識別碼範例如下：</span><span class="sxs-lookup"><span data-stu-id="db85f-125">Examples of default instance IDs in this release of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are as follows:</span></span>  
  
-   <span data-ttu-id="db85f-126">MSSQL12.MSSQLSERVER 代表 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 預設執行個體。</span><span class="sxs-lookup"><span data-stu-id="db85f-126">MSSQL12.MSSQLSERVER for a default instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="db85f-127">MSAS12.MSSQLSERVER 代表 [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)] 預設執行個體。</span><span class="sxs-lookup"><span data-stu-id="db85f-127">MSAS12.MSSQLSERVER for a default instance of [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)].</span></span>  
  
-   <span data-ttu-id="db85f-128">MSSQL12.MyInstance 代表名為 "MyInstance" 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 具名執行個體。</span><span class="sxs-lookup"><span data-stu-id="db85f-128">MSSQL12.MyInstance for a named instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] named "MyInstance."</span></span>  
  
 <span data-ttu-id="db85f-129">包含 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 和 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 而且已安裝到預設目錄之 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]具名執行個體 "MyInstance" 的目錄結構將會如下所示：</span><span class="sxs-lookup"><span data-stu-id="db85f-129">The directory structure for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] named instance that includes the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], named "MyInstance", and installed to the default directories would be as follows:</span></span>  
  
-   <span data-ttu-id="db85f-130">C:\Program Files\Microsoft SQL Server\MSSQL12.MyInstance</span><span class="sxs-lookup"><span data-stu-id="db85f-130">C:\Program Files\Microsoft SQL Server\MSSQL12.MyInstance</span></span>\  
  
-   <span data-ttu-id="db85f-131">C:\Program Files\Microsoft SQL Server\MSAS12.MyInstance</span><span class="sxs-lookup"><span data-stu-id="db85f-131">C:\Program Files\Microsoft SQL Server\MSAS12.MyInstance</span></span>\  
  
 <span data-ttu-id="db85f-132">您可以為執行個體識別碼指定任何值，但是請避免特殊字元和保留關鍵字。</span><span class="sxs-lookup"><span data-stu-id="db85f-132">You can specify any value for the instance ID, but avoid special characters and reserved keywords.</span></span>  
  
 <span data-ttu-id="db85f-133">您可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝期間指定非預設的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-133">You can specify a non-default instance ID during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span> <span data-ttu-id="db85f-134">\<Program Files> \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<custom path> \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 如果使用者選擇變更預設安裝目錄，則會使用，而不是。</span><span class="sxs-lookup"><span data-stu-id="db85f-134">Instead of \<Program Files>\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], a \<custom path>\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is used if the user chooses to change the default installation directory.</span></span> <span data-ttu-id="db85f-135">請注意，不支援以底線 (_) 為開頭或是包含數字符號 (#) 或貨幣符號 ($) 的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-135">Note that instance IDs that begin with an underscore (_) or that contain the number sign (#) or the dollar sign ($) are not supported.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="db85f-136">和用戶端元件都不會感知執行個體，因此，也不會被指派執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-136">and client components are not instance aware and, therefore are not assigned an instance ID.</span></span> <span data-ttu-id="db85f-137">根據預設，系統會將非執行個體感知的元件安裝到單一目錄： [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="db85f-137">By default, non-instance-aware components are installed to a single directory: [!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)].</span></span> <span data-ttu-id="db85f-138">變更某個共用元件的安裝路徑也會變更其他共用元件的安裝路徑。</span><span class="sxs-lookup"><span data-stu-id="db85f-138">Changing the installation path for one shared component also changes it for the other shared components.</span></span> <span data-ttu-id="db85f-139">後續安裝會將非執行個體感知的元件安裝到與原始安裝相同的目錄。</span><span class="sxs-lookup"><span data-stu-id="db85f-139">Subsequent installations install non-instance-aware components to the same directory as the original installation.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]<span data-ttu-id="db85f-140">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]是在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝之後支援實例重新命名的唯一元件。</span><span class="sxs-lookup"><span data-stu-id="db85f-140">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is the only [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] component that supports instance renaming after installation.</span></span> <span data-ttu-id="db85f-141">如果 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 的執行個體已重新命名，執行個體識別碼將不會變更。</span><span class="sxs-lookup"><span data-stu-id="db85f-141">If an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] is renamed, the instance ID will not change.</span></span> <span data-ttu-id="db85f-142">當執行個體重新命名完成之後，目錄和登錄機碼將會繼續使用安裝期間所建立的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-142">After instance renaming is complete, directories and registry keys will continue to use the instance ID created during installation.</span></span>  
  
 <span data-ttu-id="db85f-143">執行個體感知元件的登錄區會建立在 HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<*Instance_ID*> 之下。</span><span class="sxs-lookup"><span data-stu-id="db85f-143">The registry hive is created under HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<*Instance_ID*> for instance-aware components.</span></span> <span data-ttu-id="db85f-144">例如</span><span class="sxs-lookup"><span data-stu-id="db85f-144">For example,</span></span>  
  
-   <span data-ttu-id="db85f-145">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="db85f-145">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.MyInstance</span></span>  
  
-   <span data-ttu-id="db85f-146">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="db85f-146">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.MyInstance</span></span>  
  
-   <span data-ttu-id="db85f-147">HKLM\Software \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12。MyInstance</span><span class="sxs-lookup"><span data-stu-id="db85f-147">HKLM\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.MyInstance</span></span>  
  
 <span data-ttu-id="db85f-148">登錄也會維護執行個體識別碼到執行個體名稱的對應。</span><span class="sxs-lookup"><span data-stu-id="db85f-148">The registry also maintains a mapping of instance ID to instance name.</span></span> <span data-ttu-id="db85f-149">執行個體識別碼到執行個體名稱的對應維護如下：</span><span class="sxs-lookup"><span data-stu-id="db85f-149">Instance ID to instance name mapping is maintained as follows:</span></span>  
  
-   <span data-ttu-id="db85f-150">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\SQL] "InstanceName" = "MSSQL12.CONTOSO"</span><span class="sxs-lookup"><span data-stu-id="db85f-150">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\SQL] "InstanceName"="MSSQL12"</span></span>  
  
-   <span data-ttu-id="db85f-151">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\OLAP] "InstanceName" = "MSAS12"</span><span class="sxs-lookup"><span data-stu-id="db85f-151">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\OLAP] "InstanceName"="MSAS12"</span></span>  
  
-   <span data-ttu-id="db85f-152">[HKEY_LOCAL_MACHINE \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] \software [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\RS] "InstanceName" = "MSRS12"</span><span class="sxs-lookup"><span data-stu-id="db85f-152">[HKEY_LOCAL_MACHINE\Software\\[!INCLUDE[msCoName](../../includes/msconame-md.md)]\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\Instance Names\RS] "InstanceName"="MSRS12"</span></span>  
  
## <a name="specifying-file-paths"></a><span data-ttu-id="db85f-153">指定檔案路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-153">Specifying File Paths</span></span>  
 <span data-ttu-id="db85f-154">在安裝期間，您可以變更下列功能的安裝路徑：</span><span class="sxs-lookup"><span data-stu-id="db85f-154">During Setup, you can change the installation path for the following features:</span></span>  
  
 <span data-ttu-id="db85f-155">只有具有使用者可設定目的資料夾的功能，其安裝路徑才會顯示在安裝程式中：</span><span class="sxs-lookup"><span data-stu-id="db85f-155">The installation path is displayed in Setup only for features with a user-configurable destination folder:</span></span>  
  
|<span data-ttu-id="db85f-156">元件</span><span class="sxs-lookup"><span data-stu-id="db85f-156">Component</span></span>|<span data-ttu-id="db85f-157">預設路徑<sup>1、2</sup></span><span class="sxs-lookup"><span data-stu-id="db85f-157">Default path<sup>1, 2</sup></span></span>|<span data-ttu-id="db85f-158">可設定的<sup>3</sup>或固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-158">Configurable<sup>3</sup> or Fixed Path</span></span>|  
|---------------|---------------------------------|--------------------------------------------|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="db85f-159">伺服器元件</span><span class="sxs-lookup"><span data-stu-id="db85f-159">server components</span></span>|<span data-ttu-id="db85f-160">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSSQL12. \|旋鈕</span><span class="sxs-lookup"><span data-stu-id="db85f-160">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="db85f-161">資料檔</span><span class="sxs-lookup"><span data-stu-id="db85f-161">data files</span></span>|<span data-ttu-id="db85f-162">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSSQL12. \|旋鈕</span><span class="sxs-lookup"><span data-stu-id="db85f-162">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="db85f-163">伺服器</span><span class="sxs-lookup"><span data-stu-id="db85f-163">server</span></span>|<span data-ttu-id="db85f-164">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSAS12. \|旋鈕</span><span class="sxs-lookup"><span data-stu-id="db85f-164">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="db85f-165">資料檔</span><span class="sxs-lookup"><span data-stu-id="db85f-165">data files</span></span>|<span data-ttu-id="db85f-166">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \<InstanceID> \MSAS12. \|旋鈕</span><span class="sxs-lookup"><span data-stu-id="db85f-166">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\|Configurable</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="db85f-167">報表伺服器</span><span class="sxs-lookup"><span data-stu-id="db85f-167">report server</span></span>|<span data-ttu-id="db85f-168">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12. \<InstanceID>可設定的 \Reporting Services\ReportServer\Bin \|</span><span class="sxs-lookup"><span data-stu-id="db85f-168">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.\<InstanceID>\Reporting Services\ReportServer\Bin\|Configurable</span></span>|  
|[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="db85f-169">報表管理員</span><span class="sxs-lookup"><span data-stu-id="db85f-169">report manager</span></span>|<span data-ttu-id="db85f-170">\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSRS12. \<InstanceID>\Reporting Services\ReportManager \| 固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-170">\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSRS12.\<InstanceID>\Reporting Services\ReportManager\|Fixed path</span></span>|  
|[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]|<span data-ttu-id="db85f-171">\<Install Directory>\120\DTS \| 可設定的<sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="db85f-171">\<Install Directory>\120\DTS\|Configurable<sup>4</sup></span></span>|  
|<span data-ttu-id="db85f-172">用戶端元件 (bcp.exe 和 sqlcmd.exe 除外)</span><span class="sxs-lookup"><span data-stu-id="db85f-172">Client Components (except bcp.exe and sqlcmd.exe)</span></span>|<span data-ttu-id="db85f-173">\<Install Directory>\120\Tools \| 可設定的<sup>4</sup></span><span class="sxs-lookup"><span data-stu-id="db85f-173">\<Install Directory>\120\Tools\|Configurable<sup>4</sup></span></span>|  
|<span data-ttu-id="db85f-174">用戶端元件 (bcp.exe 和 sqlcmd.exe)</span><span class="sxs-lookup"><span data-stu-id="db85f-174">Client Components (bcp.exe and sqlcmd.exe)</span></span>|<span data-ttu-id="db85f-175">\<Install Directory>\Client SDK\ODBC\110\Tools\Binn</span><span class="sxs-lookup"><span data-stu-id="db85f-175">\<Install Directory>\Client SDK\ODBC\110\Tools\Binn</span></span>|<span data-ttu-id="db85f-176">固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-176">Fixed path</span></span>|  
|<span data-ttu-id="db85f-177">複寫和伺服器端 COM 物件</span><span class="sxs-lookup"><span data-stu-id="db85f-177">Replication and server-side COM objects</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-178">COM \\ <sup>5</sup></span><span class="sxs-lookup"><span data-stu-id="db85f-178">COM\\<sup>5</sup></span></span>|<span data-ttu-id="db85f-179">固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-179">Fixed path</span></span>|  
|<span data-ttu-id="db85f-180">資料轉換執行階段引擎的 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 元件 DLL、資料轉換管線引擎和 `dtexec` 命令提示字元公用程式</span><span class="sxs-lookup"><span data-stu-id="db85f-180">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] component DLLs for the Data Transformation Run-time engine, the Data Transformation Pipeline engine, and the `dtexec` command prompt utility</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-181">DTS\Binn</span><span class="sxs-lookup"><span data-stu-id="db85f-181">DTS\Binn</span></span>|<span data-ttu-id="db85f-182">固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-182">Fixed path</span></span>|  
|<span data-ttu-id="db85f-183">對 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="db85f-183">DLLs that provide managed connection support for [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-184">DTS\Connections</span><span class="sxs-lookup"><span data-stu-id="db85f-184">DTS\Connections</span></span>|<span data-ttu-id="db85f-185">固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-185">Fixed path</span></span>|  
|<span data-ttu-id="db85f-186">[!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 支援的每一種類型之列舉值的 DLL</span><span class="sxs-lookup"><span data-stu-id="db85f-186">DLLs for each type of enumerator that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] supports</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-187">DTS\ForEachEnumerators</span><span class="sxs-lookup"><span data-stu-id="db85f-187">DTS\ForEachEnumerators</span></span>|<span data-ttu-id="db85f-188">固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-188">Fixed path</span></span>|  
|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="db85f-189">Browser 服務，WMI 提供者</span><span class="sxs-lookup"><span data-stu-id="db85f-189">Browser Service, WMI providers</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-190">共用 \| 固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-190">Shared\|Fixed path</span></span>|  
|<span data-ttu-id="db85f-191">的所有執行個體之間共用的元件 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="db85f-191">Components that are shared between all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|[!INCLUDE[ssInstallPathVar](../../includes/ssinstallpathvar-md.md)]<span data-ttu-id="db85f-192">共用 \| 固定路徑</span><span class="sxs-lookup"><span data-stu-id="db85f-192">Shared\|Fixed path</span></span>|  
  
 <span data-ttu-id="db85f-193"><sup>1</sup>請確定 \Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \ 資料夾受到有限許可權的保護。</span><span class="sxs-lookup"><span data-stu-id="db85f-193"><sup>1</sup>Ensure that the \Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\ folder is protected with limited permissions.</span></span>  
  
 <span data-ttu-id="db85f-194"><sup>2</sup>這些位置的預設磁片磁碟機是*systemdrive*，通常是磁片磁碟機 C。</span><span class="sxs-lookup"><span data-stu-id="db85f-194"><sup>2</sup>The default drive for these locations is *systemdrive*, normally drive C.</span></span>  
  
 <span data-ttu-id="db85f-195"><sup>3</sup>子功能的安裝路徑是由父功能的安裝路徑所決定。</span><span class="sxs-lookup"><span data-stu-id="db85f-195"><sup>3</sup>Installation paths for child features are determined by the installation path of the parent feature.</span></span>  
  
 <span data-ttu-id="db85f-196"><sup>4</sup>在和用戶端元件之間共用單一安裝路徑 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="db85f-196"><sup>4</sup>A single installation path is shared between [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] and client components.</span></span> <span data-ttu-id="db85f-197">變更一個元件的安裝路徑也會變更其他元件的安裝路徑。</span><span class="sxs-lookup"><span data-stu-id="db85f-197">Changing the installation path for one component also changes it for other components.</span></span> <span data-ttu-id="db85f-198">後續安裝會將元件安裝到與原始安裝相同的位置。</span><span class="sxs-lookup"><span data-stu-id="db85f-198">Subsequent installations install components to the same location as the original installation.</span></span>  
  
 <span data-ttu-id="db85f-199"><sup>5</sup>此目錄是由電腦上的所有實例所使用 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="db85f-199"><sup>5</sup>This directory is used by all instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on a computer.</span></span> <span data-ttu-id="db85f-200">如果您將更新項目套用至電腦的任何執行個體，則此資料夾之檔案若有任何變更，電腦上所有執行個體都會受到影響。</span><span class="sxs-lookup"><span data-stu-id="db85f-200">If you apply an update to any of the instances on the computer, any changes to files in this folder will affect all instances on the computer.</span></span> <span data-ttu-id="db85f-201">將功能加入至現有的安裝時，您不能變更先前安裝之功能的位置，也不能指定新功能的位置。</span><span class="sxs-lookup"><span data-stu-id="db85f-201">When you add features to an existing installation, you cannot change the location of a previously installed feature, nor can you specify the location for a new feature.</span></span> <span data-ttu-id="db85f-202">您必須將其他功能安裝到安裝程式所建立的目錄中，或解除安裝後再重新安裝本產品。</span><span class="sxs-lookup"><span data-stu-id="db85f-202">You must either install additional features to the directories already established by Setup, or uninstall and reinstall the product.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="db85f-203">如果是叢集組態，您必須選取該叢集的每一個節點上可用的本機磁碟機。</span><span class="sxs-lookup"><span data-stu-id="db85f-203">For clustered configurations, you must select a local drive that is available on every node of the cluster.</span></span>  
  
 <span data-ttu-id="db85f-204">當您在安裝期間指定伺服器元件或資料檔案的安裝路徑時，除了程式和資料檔案的指定位置之外，安裝程式還會使用執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-204">When you specify an installation path during Setup for the server components or data files, the Setup program uses the instance ID in addition to the specified location for program and data files.</span></span> <span data-ttu-id="db85f-205">安裝程式不會使用工具和其他共用檔案的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-205">Setup does not use the instance ID for tools and other shared files.</span></span> <span data-ttu-id="db85f-206">安裝程式也不會使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 程式和資料檔案的任何執行個體識別碼，但是它會使用 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 儲存機制的執行個體識別碼。</span><span class="sxs-lookup"><span data-stu-id="db85f-206">Setup also does not use any instance ID for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] program and data files, although it does use the instance ID for the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] repository.</span></span>  
  
 <span data-ttu-id="db85f-207">如果您設定了 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 功能的安裝路徑， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式會使用該路徑做為該安裝作業之所有執行個體特定資料夾的根目錄，包括 SQL 資料檔案在內。</span><span class="sxs-lookup"><span data-stu-id="db85f-207">If you set an installation path for the [!INCLUDE[ssDE](../../includes/ssde-md.md)] feature, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup uses that path as the root directory for all instance-specific folders for that installation, including SQL Data Files.</span></span> <span data-ttu-id="db85f-208">在此情況下，如果您將根目錄設定為 "C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName>\MSSQL \\ "，實例特定目錄會加入該路徑的結尾。</span><span class="sxs-lookup"><span data-stu-id="db85f-208">In this case, if you set the root to "C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\MSSQL\\", instance-specific directories are added to the end of that path.</span></span>  
  
 <span data-ttu-id="db85f-209">選擇在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝精靈 (安裝程式 UI 模式) 中使用 USESYSDB 升級功能的客戶，很容易讓自己進入這樣的情況：產品會安裝到遞迴的資料夾結構。</span><span class="sxs-lookup"><span data-stu-id="db85f-209">Customers who choose to use the USESYSDB upgrade functionality in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation Wizard (Setup UI mode) can easily lead themselves into a situation where the product gets installed into a recursive folder structure.</span></span> <span data-ttu-id="db85f-210">例如， \<*SQLProgramFiles*> \mssql12\mssql\ MSSQL10_50 \mssql\data \\ 。</span><span class="sxs-lookup"><span data-stu-id="db85f-210">For example, \<*SQLProgramFiles*>\MSSQL12\MSSQL\MSSQL10_50\MSSQL\Data\\.</span></span> <span data-ttu-id="db85f-211">若要改用 USESYSDB 功能，請設定 SQL 資料檔案功能 (而非 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 功能) 的安裝路徑。</span><span class="sxs-lookup"><span data-stu-id="db85f-211">Instead, to use the USESYSDB feature, set an installation path for the SQL Data Files feature instead of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] feature.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="db85f-212">您應該可以在 Data 子目錄中找到資料檔案。</span><span class="sxs-lookup"><span data-stu-id="db85f-212">Data files are always expected to be found in a child directory named Data.</span></span> <span data-ttu-id="db85f-213">例如，指定 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName>\ 在 C:\Program files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceName> 下找到資料檔案時，指定升級期間系統資料庫資料目錄的根路徑\Mssql\data。</span><span class="sxs-lookup"><span data-stu-id="db85f-213">For example, specify C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\ to specify the root path to the data directory of the system databases during upgrade when data files are found under C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceName>\MSSQL\Data.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="db85f-214">另請參閱</span><span class="sxs-lookup"><span data-stu-id="db85f-214">See Also</span></span>  
 <span data-ttu-id="db85f-215">[資料庫引擎設定-資料目錄](../../../2014/sql-server/install/database-engine-configuration-data-directories.md) </span><span class="sxs-lookup"><span data-stu-id="db85f-215">[Database Engine Configuration - Data Directories](../../../2014/sql-server/install/database-engine-configuration-data-directories.md) </span></span>  
 [<span data-ttu-id="db85f-216">Analysis Services 組態 - 資料目錄</span><span class="sxs-lookup"><span data-stu-id="db85f-216">Analysis Services Configuration - Data Directories</span></span>](../../../2014/sql-server/install/analysis-services-configuration-data-directories.md)  
  
  
