---
title: SQL Server 服務安裝的總覽 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 6a9fd19b-2367-4908-b638-363b1e929e1e
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 30610b1a1016b3343c2264e885847de6f2c233fc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87598726"
---
# <a name="overview-of-sql-server-servicing-installation"></a><span data-ttu-id="d218e-102">SQL Server 服務安裝概觀</span><span class="sxs-lookup"><span data-stu-id="d218e-102">Overview of SQL Server Servicing Installation</span></span>
  <span data-ttu-id="d218e-103">您可以使用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 服務更新，將更新套用至任何已安裝的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 元件。</span><span class="sxs-lookup"><span data-stu-id="d218e-103">You can apply an update to any installed [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] component with a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] servicing update.</span></span> <span data-ttu-id="d218e-104">如果現有 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 元件的版本層級比更新版本層級還新，則安裝程式會將其排除在更新作業外。</span><span class="sxs-lookup"><span data-stu-id="d218e-104">If the version level of an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] component is later than the update version level, the Setup program will exclude it from the update.</span></span> <span data-ttu-id="d218e-105">如需套用服務更新的詳細資訊，請參閱[安裝 SQL Server 2014 服務更新](../../database-engine/install-windows/install-sql-server-servicing-updates.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-105">For more information on applying a servicing update, see [Install SQL Server 2014 Servicing Updates](../../database-engine/install-windows/install-sql-server-servicing-updates.md).</span></span>  
  
 <span data-ttu-id="d218e-106">當您安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新時，應該進行下列考量：</span><span class="sxs-lookup"><span data-stu-id="d218e-106">The following considerations apply when you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates:</span></span>  
  
-   <span data-ttu-id="d218e-107">您必須同時更新屬於 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體的所有功能。</span><span class="sxs-lookup"><span data-stu-id="d218e-107">All features that belong to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must be updated at the same time.</span></span> <span data-ttu-id="d218e-108">例如，更新 [!INCLUDE[ssDE](../../includes/ssde-md.md)]時，如果 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 和 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 元件與同一個 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]執行個體一起安裝，則您也必須更新這些元件。</span><span class="sxs-lookup"><span data-stu-id="d218e-108">For example, when you update the [!INCLUDE[ssDE](../../includes/ssde-md.md)], you must also update [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] components if they are installed as part of the same instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d218e-109">共用功能 (例如管理工具、[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]) 一律必須更新為最新的更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-109">Shared features, such as Management Tools, [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], must always be updated to the most recent update.</span></span> <span data-ttu-id="d218e-110">如果未選取功能樹狀目錄中的元件或執行個體，便不會更新元件或執行個體。</span><span class="sxs-lookup"><span data-stu-id="d218e-110">If a component or instance in the feature tree is not selected, the component or instance will not be updated.</span></span>  
  
-   <span data-ttu-id="d218e-111">根據預設， [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新記錄檔會儲存到% Program files% \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \120\Setup Bootstrap\LOG \\ 。</span><span class="sxs-lookup"><span data-stu-id="d218e-111">By default, [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update log files are saved to %Program Files%\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\120\Setup Bootstrap\LOG\\.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="d218e-112">安裝程式現在可以整合更新與原始媒體，以便同時執行原始媒體及更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-112">setup can now integrate an update with the original media to run the original media and the update at the same time.</span></span> <span data-ttu-id="d218e-113">如需詳細資訊，請參閱[SQL Server 安裝的新功能](../../../2014/sql-server/install/what-s-new-in-sql-server-installation.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-113">For more information, see [What's New in SQL Server Installation](../../../2014/sql-server/install/what-s-new-in-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="d218e-114">套用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 服務更新之前，建議您考慮將資料備份。</span><span class="sxs-lookup"><span data-stu-id="d218e-114">Before you apply a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] servicing update, we recommend that you consider backing up your data.</span></span>  
  
-   <span data-ttu-id="d218e-115">您可以透過 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Update 取得 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-115">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] updates are available through [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update.</span></span> <span data-ttu-id="d218e-116">建議您定期掃描更新，讓 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的執行個體維持更新及安全的狀態。</span><span class="sxs-lookup"><span data-stu-id="d218e-116">We recommend that you scan for updates regularly to keep your instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] updated and secure.</span></span> [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="d218e-117">SP1 會以完整的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝形式提供。</span><span class="sxs-lookup"><span data-stu-id="d218e-117">SP1 is being provided as a complete [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Installation.</span></span> <span data-ttu-id="d218e-118">這個版本並非以標準修補可執行檔封裝的形式提供要套用至 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] RTM 執行個體的 Service Pack，而是提供安裝套件 (由 2 個檔案組成)。</span><span class="sxs-lookup"><span data-stu-id="d218e-118">Rather than providing the Service Pack in the standard Patch executable package to be applied to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] RTM instances, for this release, an installation package (consisting of 2 files) is provided.</span></span> <span data-ttu-id="d218e-119">執行時，將會安裝已預先安裝 SP1 的新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體。</span><span class="sxs-lookup"><span data-stu-id="d218e-119">When executed, this will install a new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] with SP1 pre-installed.</span></span>  
  
## <a name="requirements-and-known-issues"></a><span data-ttu-id="d218e-120">需求和已知問題</span><span class="sxs-lookup"><span data-stu-id="d218e-120">Requirements and Known Issues</span></span>  
 <span data-ttu-id="d218e-121">建議的磁碟空間需求大約是用於安裝、下載及擷取封裝之封裝大小的 2.5 倍。</span><span class="sxs-lookup"><span data-stu-id="d218e-121">The recommended disk space requirements are approximately 2.5 times the size of the package to install, download, and extract the package.</span></span> <span data-ttu-id="d218e-122">安裝 Service Pack 之後，您可以移除下載的封裝。</span><span class="sxs-lookup"><span data-stu-id="d218e-122">After installing a service pack, you can remove the downloaded package.</span></span> <span data-ttu-id="d218e-123">任何暫存檔都會自動移除。</span><span class="sxs-lookup"><span data-stu-id="d218e-123">Any temporary files are removed automatically.</span></span>  
  
 <span data-ttu-id="d218e-124">**檢閱已知問題：** 如需目前版本已知問題的詳細資訊，請參閱這裡的對應版本資訊： [SQL Server 版本資訊](https://msdn.microsoft.com/f617a0af-92dd-47aa-82c3-f51b1346bcd8)。</span><span class="sxs-lookup"><span data-stu-id="d218e-124">**Review the known issues:** For more information about the known issues for the current release, see the corresponding release notes topic here: [SQL Server Release Notes](https://msdn.microsoft.com/f617a0af-92dd-47aa-82c3-f51b1346bcd8).</span></span>  
  
## <a name="installation-overview"></a><span data-ttu-id="d218e-125">安裝概觀</span><span class="sxs-lookup"><span data-stu-id="d218e-125">Installation Overview</span></span>  
 <span data-ttu-id="d218e-126">本節將討論累計更新和 Service Pack 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安裝，包括如何執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="d218e-126">This section discusses the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] installation for cumulative updates and service packs, including how to do the following:</span></span>  
  
-   <span data-ttu-id="d218e-127">準備安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="d218e-127">Prepare for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update installation</span></span>  
  
-   <span data-ttu-id="d218e-128">安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="d218e-128">Install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates</span></span>  
  
-   <span data-ttu-id="d218e-129">重新啟動服務及應用程式</span><span class="sxs-lookup"><span data-stu-id="d218e-129">Restart services and applications</span></span>  
  
### <a name="prepare-for-a-sscurrent-update-installation"></a><span data-ttu-id="d218e-130">準備安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="d218e-130">Prepare for a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Update Installation</span></span>  
 <span data-ttu-id="d218e-131">我們強烈建議您最好先執行以下作業再安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新：</span><span class="sxs-lookup"><span data-stu-id="d218e-131">We strongly recommend that you do the following before you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates:</span></span>  
  
-   <span data-ttu-id="d218e-132">**備份您的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 系統資料庫**-安裝更新之前，請先 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 備份 `master` 、 `msdb` 和 `model` 資料庫。</span><span class="sxs-lookup"><span data-stu-id="d218e-132">**Back up your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] system databases** - Before you install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates, back up the `master`, `msdb`, and `model` databases.</span></span> <span data-ttu-id="d218e-133">安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新會變更這些資料庫，而使它們無法與舊版 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]相容。</span><span class="sxs-lookup"><span data-stu-id="d218e-133">Installing a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update changes these databases, making them incompatible with earlier versions of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="d218e-134">如果您決定要重新安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] (不含這些更新)，則這些資料庫的備份就是必要項目。</span><span class="sxs-lookup"><span data-stu-id="d218e-134">Backups of these databases are required if you decide to reinstall [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] without these updates.</span></span>  
  
     <span data-ttu-id="d218e-135">您也必須備份使用者資料庫。</span><span class="sxs-lookup"><span data-stu-id="d218e-135">It is also prudent to back up your user databases.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="d218e-136">將更新套用至參與複寫拓撲的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體時，您必須先備份複寫資料庫以及系統資料庫，然後再套用更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-136">When you apply updates to instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that participate in a replication topology, you must back up your replicated databases together with your system databases before you apply the update.</span></span>  
  
-   <span data-ttu-id="d218e-137">**備份您的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫、設定檔和存放庫**-在更新的實例之前 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] ，您應該先備份下列各項：</span><span class="sxs-lookup"><span data-stu-id="d218e-137">**Back up your [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, configuration file, and repository** - Before you update an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], you should back up the following:</span></span>  
  
    -   [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="d218e-138">資料庫。</span><span class="sxs-lookup"><span data-stu-id="d218e-138">databases.</span></span> <span data-ttu-id="d218e-139">根據預設，這些檔案會安裝到 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID>\Msas13.< \olap\data \\ 。</span><span class="sxs-lookup"><span data-stu-id="d218e-139">By default, these are installed to C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Data\\.</span></span> <span data-ttu-id="d218e-140">對於 WOW 安裝，預設路徑為 C:\ProgramFiles (x86) \ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID>\Msas13.< \olap\data \\ 。</span><span class="sxs-lookup"><span data-stu-id="d218e-140">For WOW installation, the default path is C:\ProgramFiles (x86)\ [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Data\\.</span></span>  
  
    -   <span data-ttu-id="d218e-141">msmdsrv.ini 組態檔中的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 組態設定。</span><span class="sxs-lookup"><span data-stu-id="d218e-141">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] configuration setting in the msmdsrv.ini configuration file.</span></span> <span data-ttu-id="d218e-142">根據預設，此檔案位於 C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSAS12. \<InstanceID>\OLAP\Config\ 目錄。</span><span class="sxs-lookup"><span data-stu-id="d218e-142">By default, this is located in the C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSAS12.\<InstanceID>\OLAP\Config\ directory.</span></span>  
  
    -   <span data-ttu-id="d218e-143">(選擇性) 包含 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 儲存機制的資料庫。</span><span class="sxs-lookup"><span data-stu-id="d218e-143">(Optional) The database that contains the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] repository.</span></span> <span data-ttu-id="d218e-144">只有在 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 已設定成使用決策支援物件 (DSO) 程式庫時，才需要執行此步驟。</span><span class="sxs-lookup"><span data-stu-id="d218e-144">This step is required only if [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] was configured to work with the Decision Support Objects (DSO) library.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d218e-145">如果備份 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 資料庫、組態檔和儲存機制時發生失敗，則無法將已更新的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 執行個體還原為舊版。</span><span class="sxs-lookup"><span data-stu-id="d218e-145">Failure to back up your [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] databases, configuration file, and repository will prevent you from reverting an updated instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to the earlier version.</span></span>  
  
-   <span data-ttu-id="d218e-146">**確認系統資料庫擁有足夠的可用空間**-如果未針對和系統資料庫選取 [自動成長] 選項 `master` ，則 `msdb` 每個資料庫都至少必須有 500 KB 的可用空間。</span><span class="sxs-lookup"><span data-stu-id="d218e-146">**Verify that the system databases have sufficient free space** - If the autogrow option is not selected for the `master` and `msdb` system databases, these databases each must have at least 500 KB of free space.</span></span> <span data-ttu-id="d218e-147">若要確認資料庫是否有足夠的空間，請在 `sp_spaceused` 和 `master` 資料庫上，執行 `msdb` 系統預存程序。</span><span class="sxs-lookup"><span data-stu-id="d218e-147">To verify that the databases have sufficient space, run the `sp_spaceused` system stored procedure on the `master` and `msdb` databases.</span></span> <span data-ttu-id="d218e-148">如果其中一個資料庫的未配置空間少於 500 KB，請增加該資料庫的大小。</span><span class="sxs-lookup"><span data-stu-id="d218e-148">If the unallocated space in either database is less than 500 KB, increase the size of the database.</span></span>  
  
-   <span data-ttu-id="d218e-149">**停止服務和應用程式**-若要避免系統可能重新開機，請停止所有連接到正在升級之實例的應用程式和服務 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，然後再安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-149">**Stop Services and Applications** - To avoid a possible restart of the system, stop all applications and services that make connections to the instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are being upgraded, before installing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates.</span></span> <span data-ttu-id="d218e-150">這些包括 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="d218e-150">These include [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="d218e-151">如需詳細資訊，請參閱 [启动、停止、暂停、继续、重启 SQL Server 服务](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-151">For more information, see [Start, Stop, Pause, Resume, Restart the Database Engine, SQL Server Agent, or SQL Server Browser Service](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d218e-152">您無法停止容錯移轉叢集環境中的服務。</span><span class="sxs-lookup"><span data-stu-id="d218e-152">You cannot stop services in a failover cluster environment.</span></span> <span data-ttu-id="d218e-153">如需詳細資訊，請參閱這個主題稍後的容錯移轉叢集安裝章節。</span><span class="sxs-lookup"><span data-stu-id="d218e-153">For more information, see the failover cluster installation section later in this topic.</span></span>  
  
-   <span data-ttu-id="d218e-154">為了排除在進行更新安裝之後重新啟動電腦的需求，安裝程式會顯示正在鎖定檔案之處理序的清單。</span><span class="sxs-lookup"><span data-stu-id="d218e-154">To eliminate the requirement to restart your computer after update installation, Setup will show a list of processes that are locking files.</span></span> <span data-ttu-id="d218e-155">如果更新安裝程式必須在安裝時結束某項服務，它會在安裝完成之後重新啟動該服務。</span><span class="sxs-lookup"><span data-stu-id="d218e-155">If the update Setup program must end a service during installation, it will restart the service after the installation finishes.</span></span>  
  
-   <span data-ttu-id="d218e-156">如果安裝程式判斷在安裝時鎖定了檔案，則在安裝完成之後可能必須重新啟動電腦。</span><span class="sxs-lookup"><span data-stu-id="d218e-156">If Setup determines that files are locked during installation, you might have to restart your computer after the installation finishes.</span></span> <span data-ttu-id="d218e-157">如有必要，安裝程式會提示您重新啟動電腦。</span><span class="sxs-lookup"><span data-stu-id="d218e-157">If it is required, Setup prompts you to restart your computer.</span></span>  
  
### <a name="install-sscurrent-updates"></a><span data-ttu-id="d218e-158">安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="d218e-158">Install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Updates</span></span>  
 <span data-ttu-id="d218e-159">本節將說明安裝程序。</span><span class="sxs-lookup"><span data-stu-id="d218e-159">This section describes the installation process.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d218e-160">您必須在即將安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新的電腦上，使用具有管理權限的帳戶來安裝更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-160">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates must be installed under an account that has administrative privileges on the computer where they will be installed.</span></span> <span data-ttu-id="d218e-161">如果是本機安裝，您必須以管理員身分執行安裝程式。</span><span class="sxs-lookup"><span data-stu-id="d218e-161">For local installations, you must run Setup as an administrator.</span></span> <span data-ttu-id="d218e-162">如果您是從遠端共用位置安裝 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]，則必須使用對遠端共用位置具有讀取和執行權限的網域帳戶。</span><span class="sxs-lookup"><span data-stu-id="d218e-162">If you install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read and execute permissions on the remote share.</span></span>  
  
#### <a name="starting-a-sscurrent-update"></a><span data-ttu-id="d218e-163">啟動 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新</span><span class="sxs-lookup"><span data-stu-id="d218e-163">Starting a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Update</span></span>  
 <span data-ttu-id="d218e-164">若要安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新，請執行自動解壓縮封裝檔案。</span><span class="sxs-lookup"><span data-stu-id="d218e-164">To install a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update, run the self-extracting package file.</span></span>  
  
 <span data-ttu-id="d218e-165">累計更新套件 (CU) ： \<SQLServer2014> -KBxxxxxx-*PPP*.exe</span><span class="sxs-lookup"><span data-stu-id="d218e-165">Cumulative update package (CU): \<SQLServer2014>-KBxxxxxx-*PPP*.exe</span></span>  
  
 <span data-ttu-id="d218e-166">Service pack package (PCU) ： \<SQLServer2014> \<SPx> -KBxxxxxx-PPP-LLL.exe</span><span class="sxs-lookup"><span data-stu-id="d218e-166">Service pack package (PCU): \<SQLServer2014>\<SPx> -KBxxxxxx-PPP-LLL.exe</span></span>  
  
-   <span data-ttu-id="d218e-167">x 表示 Service Pack 號碼</span><span class="sxs-lookup"><span data-stu-id="d218e-167">x indicated service pack number</span></span>  
  
-   <span data-ttu-id="d218e-168">PPP 表示特定的平台</span><span class="sxs-lookup"><span data-stu-id="d218e-168">PPP indicates the specific platform.</span></span>  
  
-   <span data-ttu-id="d218e-169">LLL 表示 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 語言的字元縮寫，例如：英文的 LLL 為 ENU。</span><span class="sxs-lookup"><span data-stu-id="d218e-169">LLL indicates the character abbreviation for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] language, for example: LLL for English is ENU.</span></span>  
  
 <span data-ttu-id="d218e-170">若要將更新套用至屬於容錯移轉叢集一部分的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 元件，請參閱容錯移轉叢集安裝的章節。</span><span class="sxs-lookup"><span data-stu-id="d218e-170">To apply updates to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] components that are part of a failover cluster, see the section for failover cluster installation.</span></span> <span data-ttu-id="d218e-171">如需如何以自動模式執行更新安裝的詳細資訊，請參閱[從命令提示字元安裝 SQL Server 2014](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-171">For more information about how to run an update installation in unattended mode, see [Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
####  <a name="product-updates-in-sscurrent-installation"></a><a name="Slipstream"></a><span data-ttu-id="d218e-172">安裝中的產品更新 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d218e-172">Product Updates in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Installation</span></span>  
 <span data-ttu-id="d218e-173">產品更新是 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安裝程式中的功能。</span><span class="sxs-lookup"><span data-stu-id="d218e-173">Product Update is a feature in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Setup.</span></span> <span data-ttu-id="d218e-174">它可以整合最新產品更新與主要產品安裝，因此主要產品及其適用的更新可以同時安裝。</span><span class="sxs-lookup"><span data-stu-id="d218e-174">It integrates the latest product updates with the main product installation so that the main product and its applicable updates are installed at the same time.</span></span> <span data-ttu-id="d218e-175">產品更新可以搜尋 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update、Windows Server Update Services (WSUS)、本機資料夾，或可用更新的網路共用。</span><span class="sxs-lookup"><span data-stu-id="d218e-175">Product Update can search [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update, Windows Server Update Services (WSUS), a local folder, or a network share for applicable updates.</span></span>  <span data-ttu-id="d218e-176">安裝程式找到最新版本的可用更新後，會使用目前的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程序進行下載與整合。</span><span class="sxs-lookup"><span data-stu-id="d218e-176">After Setup finds the latest versions of the applicable updates, it downloads and integrates them with the current [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup process.</span></span> <span data-ttu-id="d218e-177">產品更新可以引入累計更新、Service Pack，或 Service Pack 加上累計更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-177">Product Update can pull in a cumulative update, service pack, or service pack plus cumulative update.</span></span> <span data-ttu-id="d218e-178">產品更新功能是 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] PCU1 中可用之匯集功能的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="d218e-178">Product Update functionality is an extension of the Slipstream functionally that was available in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] PCU1.</span></span>  
  
## <a name="updating-a-prepared-image-of-ssnoversion"></a><span data-ttu-id="d218e-179">更新 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的備妥映像</span><span class="sxs-lookup"><span data-stu-id="d218e-179">Updating a Prepared Image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="d218e-180">您可以將更新套用到已備妥但是未設定的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體，而不需完成已備妥之執行個體的組態。</span><span class="sxs-lookup"><span data-stu-id="d218e-180">You can apply an update to an unconfigured prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] without completing the configuration of the prepared instance.</span></span> <span data-ttu-id="d218e-181">將更新套用至已備妥之 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體的其他方式將於底下說明：</span><span class="sxs-lookup"><span data-stu-id="d218e-181">Different ways of applying an update to a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are explained below:</span></span>  
  
-   <span data-ttu-id="d218e-182">更新之前已備妥的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體</span><span class="sxs-lookup"><span data-stu-id="d218e-182">Updating a previously prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
  
     <span data-ttu-id="d218e-183">已備妥之執行個體的更新可以在組態設定之前套用。</span><span class="sxs-lookup"><span data-stu-id="d218e-183">Updates to a prepared instance can be applied to prior to configuration.</span></span> <span data-ttu-id="d218e-184">更新封裝會偵測到此執行個體位於備妥狀態，並將修補程式套用到備妥的執行個體，而不會完成組態設定。</span><span class="sxs-lookup"><span data-stu-id="d218e-184">The update package detects that the instance is in the prepared state and apply the patch to the prepared instance, without completing the configuration.</span></span>  
  
-   <span data-ttu-id="d218e-185">使用 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update 更新備妥的執行個體：</span><span class="sxs-lookup"><span data-stu-id="d218e-185">Updates to a prepared instance using [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update:</span></span>  
  
     <span data-ttu-id="d218e-186">您可以透過 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Update 將更新套用至 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 的備妥執行個體。</span><span class="sxs-lookup"><span data-stu-id="d218e-186">You can apply updates to a prepared instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] through [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update.</span></span> <span data-ttu-id="d218e-187">[!INCLUDE[msCoName](../../includes/msconame-md.md)] Update 封裝會偵測到此執行個體位於備妥狀態，並將修補程式套用到備妥的執行個體，而不會完成組態設定。</span><span class="sxs-lookup"><span data-stu-id="d218e-187">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Update package will detect that the instance is in the prepared state and apply the patch to the prepare instance without completing the configuration.</span></span>  
  
 <span data-ttu-id="d218e-188">如果您要更新備妥的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]映像，您需要指定 InstanceID 參數。</span><span class="sxs-lookup"><span data-stu-id="d218e-188">If you are updating a prepared image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you will need to specify the InstanceID parameter.</span></span> <span data-ttu-id="d218e-189">如需詳細資訊和範例語法，請參閱 [從命令提示字元安裝更新](../../database-engine/install-windows/installing-updates-from-the-command-prompt.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-189">For more information and sample syntax, see [Installing Updates from the Command Prompt](../../database-engine/install-windows/installing-updates-from-the-command-prompt.md).</span></span>  
  
## <a name="updating-a-completed-image-of-ssnoversion"></a><span data-ttu-id="d218e-190">更新完成的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 映像</span><span class="sxs-lookup"><span data-stu-id="d218e-190">Updating a Completed Image of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="d218e-191">更新已完成且設定好的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 執行個體會依照與任何其他已安裝的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]執行個體相同的程序。</span><span class="sxs-lookup"><span data-stu-id="d218e-191">Updating a completed and configured instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] follows the same processes as any other installed instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="rebuilding-a-sscurrent-failover-cluster-node"></a><span data-ttu-id="d218e-192">重建 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 容錯移轉叢集節點</span><span class="sxs-lookup"><span data-stu-id="d218e-192">Rebuilding a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Failover Cluster Node</span></span>  
 <span data-ttu-id="d218e-193">套用更新之後，如果您必須重建容錯移轉叢集中的節點，請遵循下列步驟：</span><span class="sxs-lookup"><span data-stu-id="d218e-193">If you must rebuild a node in the failover cluster after updates were applied, follow these steps:</span></span>  
  
1.  <span data-ttu-id="d218e-194">重建容錯移轉叢集中的節點。</span><span class="sxs-lookup"><span data-stu-id="d218e-194">Rebuild the node in the failover cluster.</span></span> <span data-ttu-id="d218e-195">如需重建節點的詳細資訊，請參閱 [從容錯移轉叢集執行個體失敗的狀況復原](../failover-clusters/windows/recover-from-failover-cluster-instance-failure.md)。</span><span class="sxs-lookup"><span data-stu-id="d218e-195">For more information about rebuilding a node, see [Recover from Failover Cluster Instance Failure](../failover-clusters/windows/recover-from-failover-cluster-instance-failure.md).</span></span>  
  
2.  <span data-ttu-id="d218e-196">執行原始的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安裝程式以便將 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 安裝到容錯移轉叢集節點。</span><span class="sxs-lookup"><span data-stu-id="d218e-196">Run the original [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Setup program to install [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] on the failover cluster node.</span></span>  
  
3.  <span data-ttu-id="d218e-197">在您已加入的節點上執行 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新安裝程式。</span><span class="sxs-lookup"><span data-stu-id="d218e-197">Run [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates Setup on the node that you have added.</span></span>  
  
## <a name="restart-services-and-applications"></a><span data-ttu-id="d218e-198">重新啟動服務及應用程式</span><span class="sxs-lookup"><span data-stu-id="d218e-198">Restart Services and Applications</span></span>  
 <span data-ttu-id="d218e-199">當安裝程式完成時，它可能會提示您重新啟動電腦。</span><span class="sxs-lookup"><span data-stu-id="d218e-199">When the Setup program is finished, it might prompt you to restart the computer.</span></span> <span data-ttu-id="d218e-200">在系統重新啟動或在安裝程式完成 (但未要求重新啟動電腦) 之後，您可以使用 [控制台] 中的 [服務]\*\*\*\* 節點來重新啟動在套用 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新之前所停止的服務。</span><span class="sxs-lookup"><span data-stu-id="d218e-200">After the system restarts, or after the Setup program finishes without requesting a restart, use the **Services** node in Control Panel to restart the services that you stopped before you applied the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] updates.</span></span> <span data-ttu-id="d218e-201">這包括分散式交易協調器及 [!INCLUDE[msCoName](../../includes/msconame-md.md)] Search 等服務，或執行個體特定的對等服務。</span><span class="sxs-lookup"><span data-stu-id="d218e-201">This includes services such as Distributed Transaction Coordinator and the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Search services, or instance-specific equivalents.</span></span>  
  
 <span data-ttu-id="d218e-202">重新啟動在執行 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 更新安裝程式之前所關閉的應用程式。</span><span class="sxs-lookup"><span data-stu-id="d218e-202">Restart the applications that you closed before you ran [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] update Setup.</span></span> <span data-ttu-id="d218e-203">您可能還想在安裝成功完成之後，立即為已升級的 `master`、`msdb` 和 `model` 資料庫進行另一次備份。</span><span class="sxs-lookup"><span data-stu-id="d218e-203">You might also want to make another backup of the upgraded `master`, `msdb`, and `model` databases immediately after successful installation.</span></span>  
  
## <a name="uninstalling-updates-from-sscurrent"></a><span data-ttu-id="d218e-204">解除安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 的更新</span><span class="sxs-lookup"><span data-stu-id="d218e-204">Uninstalling Updates from [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="d218e-205">您可以從 [控制台] 中的 [程式和功能]\*\*\*\* 解除安裝 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 累計更新或 Service Pack。</span><span class="sxs-lookup"><span data-stu-id="d218e-205">You can uninstall [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cumulative updates or service packs from **Programs and Features** in Control Panel.</span></span> <span data-ttu-id="d218e-206">若要檢視已安裝的更新清單，請依序按一下 [開始]\*\*\*\* 按鈕、[控制台]\*\*\*\*、[程式集]\*\*\*\*，然後按一下 [程式和功能]\*\*\*\* 下的 [檢視已安裝的更新]\*\*\*\*，開啟 [已安裝的更新]。</span><span class="sxs-lookup"><span data-stu-id="d218e-206">To view the list of updates installed, open Installed Updates by clicking the **Start** button, clicking **Control Panel**, clicking **Programs**, and then, under **Programs and Features**, clicking **View installed updates**.</span></span> <span data-ttu-id="d218e-207">系統會個別列出每個累計更新。</span><span class="sxs-lookup"><span data-stu-id="d218e-207">Each cumulative update is listed separately.</span></span> <span data-ttu-id="d218e-208">然而，安裝了高於累計更新的 Service Pack 時，累計更新項目會隱藏而且在您解除安裝 Service Pack 時，才會變成可用。</span><span class="sxs-lookup"><span data-stu-id="d218e-208">However, when a service pack is installed that is higher than the cumulative updates, the cumulative update entries are hidden and become available only if you uninstall the service pack.</span></span>  
  
 <span data-ttu-id="d218e-209">若要解除安裝任何 Service Pack 及更新，您必須以套用於 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 之執行個體最新的更新或 Service Pack 開始並回溯執行。</span><span class="sxs-lookup"><span data-stu-id="d218e-209">To uninstall any service packs and updates, you must start with the latest update or service pack applied to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and work backward.</span></span> <span data-ttu-id="d218e-210">在下列每個範例中， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 會在解除安裝其他的 Service Pack 或更新完成後，以累計更新 1 結束。</span><span class="sxs-lookup"><span data-stu-id="d218e-210">In each of the following examples, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ends up with Cumulative Update 1 after uninstall has been completed for the other service packs or updates:</span></span>  
  
-   <span data-ttu-id="d218e-211">如果是已安裝具有累計更新 1 及 SP1 之 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 的執行個體，請移除 SP1。</span><span class="sxs-lookup"><span data-stu-id="d218e-211">For an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] with Cumulative Update 1 and SP1 installed, uninstall SP1.</span></span>  
  
-   <span data-ttu-id="d218e-212">如果是已安裝具有累計更新 1、SP1 及累計更新 2 的 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 執行個體，請先解除安裝累計更新 2，然後再解除安裝 SP1。</span><span class="sxs-lookup"><span data-stu-id="d218e-212">For an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] with Cumulative Update 1, SP1, and Cumulative Update 2 installed, uninstall Cumulative Update 2 first and then uninstall SP1.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d218e-213">另請參閱</span><span class="sxs-lookup"><span data-stu-id="d218e-213">See Also</span></span>  
 <span data-ttu-id="d218e-214">[從命令提示字元安裝 SQL Server 2014](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="d218e-214">[Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 <span data-ttu-id="d218e-215">[安裝 SQL Server 2014 服務更新](../../database-engine/install-windows/install-sql-server-servicing-updates.md) </span><span class="sxs-lookup"><span data-stu-id="d218e-215">[Install SQL Server 2014 Servicing Updates](../../database-engine/install-windows/install-sql-server-servicing-updates.md) </span></span>  
 <span data-ttu-id="d218e-216">[驗證 SQL Server 安裝](../../database-engine/install-windows/validate-a-sql-server-installation.md) </span><span class="sxs-lookup"><span data-stu-id="d218e-216">[Validate a SQL Server Installation](../../database-engine/install-windows/validate-a-sql-server-installation.md) </span></span>  
 [<span data-ttu-id="d218e-217">檢視與讀取 SQL Server 安裝程式記錄檔</span><span class="sxs-lookup"><span data-stu-id="d218e-217">View and Read SQL Server Setup Log Files</span></span>](../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
