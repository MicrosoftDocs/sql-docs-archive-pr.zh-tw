---
title: 資料庫引擎設定-資料目錄 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 9b1fa0fc-623b-479a-afc3-4f13bd850487
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: ec906508640690a45c003d60cea4c2a1e425d3aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87704758"
---
# <a name="database-engine-configuration---data-directories"></a><span data-ttu-id="84df7-102">Database Engine 組態 - 資料目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-102">Database Engine Configuration - Data Directories</span></span>
  <span data-ttu-id="84df7-103">請使用此頁面來指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../includes/ssde-md.md)]程式和資料檔案的安裝位置。</span><span class="sxs-lookup"><span data-stu-id="84df7-103">Use this page to specify the installation location for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../includes/ssde-md.md)] program and data files.</span></span> <span data-ttu-id="84df7-104">根據安裝類型，支援的儲存體可能包括本機磁碟、共用儲存體或 SMB 檔案伺服器。</span><span class="sxs-lookup"><span data-stu-id="84df7-104">Based on the type of installation, the supported storage may include local disk, shared storage, or an SMB file server.</span></span>  
  
 <span data-ttu-id="84df7-105">若要將 SMB 檔案共用指定為目錄，您必須手動輸入支援的 UNC 路徑。</span><span class="sxs-lookup"><span data-stu-id="84df7-105">To specify an SMB file share as a directory, you must manually type the supported UNC path.</span></span> <span data-ttu-id="84df7-106">不支援瀏覽 SMB 檔案共用。</span><span class="sxs-lookup"><span data-stu-id="84df7-106">Browsing to an SMB file share is not supported.</span></span> <span data-ttu-id="84df7-107">以下是 SMB 檔案共用支援的 UNC 路徑格式： \\\Servername\ShareName\\....</span><span class="sxs-lookup"><span data-stu-id="84df7-107">The following is a supported UNC path format of an SMB file share: \\\Servername\ShareName\\....</span></span>  
  
## <a name="stand-alone-instance-of-ssnoversion"></a><span data-ttu-id="84df7-108">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的獨立執行個體</span><span class="sxs-lookup"><span data-stu-id="84df7-108">Stand-Alone Instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="84df7-109">下表列出 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 獨立執行個體支援的儲存類型，以及使用者可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝期間設定的預設目錄。</span><span class="sxs-lookup"><span data-stu-id="84df7-109">The following table lists the supported storage types and the default directories for a stand-alone instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are user configurable during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
## <a name="ui-element-list"></a><span data-ttu-id="84df7-110">UI 元素清單</span><span class="sxs-lookup"><span data-stu-id="84df7-110">UI element list</span></span>  
  
|<span data-ttu-id="84df7-111">描述</span><span class="sxs-lookup"><span data-stu-id="84df7-111">Description</span></span>|<span data-ttu-id="84df7-112">支援的儲存類型</span><span class="sxs-lookup"><span data-stu-id="84df7-112">Supported Storage Type</span></span>|<span data-ttu-id="84df7-113">預設目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-113">Default directory</span></span>|<span data-ttu-id="84df7-114">建議</span><span class="sxs-lookup"><span data-stu-id="84df7-114">Recommendations</span></span>|  
|-----------------|----------------------------|-----------------------|---------------------|  
|<span data-ttu-id="84df7-115">資料根目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-115">Data root directory</span></span>|<span data-ttu-id="84df7-116">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-116">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-117">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \| [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式將會設定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 目錄的 acl，並在設定過程中中斷繼承。</span><span class="sxs-lookup"><span data-stu-id="84df7-117">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\|[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>|  
|<span data-ttu-id="84df7-118">使用者資料庫目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-118">User database directory</span></span>|<span data-ttu-id="84df7-119">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-119">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-120">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-120">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="84df7-121">使用者資料目錄的最佳作法取決於工作負載和效能需求。</span><span class="sxs-lookup"><span data-stu-id="84df7-121">Best practices for user data directories depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="84df7-122">使用者資料庫記錄檔目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-122">User database log directory</span></span>|<span data-ttu-id="84df7-123">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-123">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-124">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-124">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="84df7-125">請確定記錄檔目錄具有足夠的空間。</span><span class="sxs-lookup"><span data-stu-id="84df7-125">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="84df7-126">暫存資料庫目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-126">Temp DB directory</span></span>|<span data-ttu-id="84df7-127">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-127">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-128">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-128">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="84df7-129">暫存目錄的最佳作法取決於工作負載和效能需求。</span><span class="sxs-lookup"><span data-stu-id="84df7-129">Best practices for the Temp directory depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="84df7-130">暫存資料庫記錄檔目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-130">Temp DB log directory</span></span>|<span data-ttu-id="84df7-131">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-131">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-132">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-132">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span>|<span data-ttu-id="84df7-133">請確定記錄檔目錄具有足夠的空間。</span><span class="sxs-lookup"><span data-stu-id="84df7-133">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="84df7-134">備份目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-134">Backup directory</span></span>|<span data-ttu-id="84df7-135">本機磁片、SMB 檔案伺服器、共用儲存體<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="84df7-135">Local Disk, SMB File Server, Shared Storage <sup>1</sup></span></span>|<span data-ttu-id="84df7-136">C:\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Backup</span><span class="sxs-lookup"><span data-stu-id="84df7-136">C:\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Backup</span></span>|<span data-ttu-id="84df7-137">請設定適當的權限來防止資料遺失，並且確定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務的使用者帳戶具有足夠的權限，可寫入備份目錄。</span><span class="sxs-lookup"><span data-stu-id="84df7-137">Set appropriate permissions to prevent data loss, and ensure that the user account for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service has adequate permissions to write to the backup directory.</span></span> <span data-ttu-id="84df7-138">不支援針對備份目錄使用對應的磁碟機。</span><span class="sxs-lookup"><span data-stu-id="84df7-138">Using a mapped drive for backup directories is not supported.</span></span>|  
  
 <span data-ttu-id="84df7-139"><sup>1</sup>雖然支援共用磁片，但並不建議您針對獨立實例使用此方法 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="84df7-139"><sup>1</sup> Although shared disks are supported, it is not a recommended practice for a stand-alone instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="failover-cluster-instance-of-ssnoversion"></a><span data-ttu-id="84df7-140">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 容錯移轉叢集執行個體</span><span class="sxs-lookup"><span data-stu-id="84df7-140">Failover Cluster Instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>  
 <span data-ttu-id="84df7-141">下表列出 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 容錯移轉叢集執行個體支援的儲存類型，以及使用者可以在 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝期間設定的預設目錄。</span><span class="sxs-lookup"><span data-stu-id="84df7-141">The following table lists the supported storage types and the default directories for a failover cluster instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are user configurable during [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
|<span data-ttu-id="84df7-142">描述</span><span class="sxs-lookup"><span data-stu-id="84df7-142">Description</span></span>|<span data-ttu-id="84df7-143">支援的儲存類型</span><span class="sxs-lookup"><span data-stu-id="84df7-143">Supported Storage Type</span></span>|<span data-ttu-id="84df7-144">預設目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-144">Default Directory</span></span>|<span data-ttu-id="84df7-145">建議</span><span class="sxs-lookup"><span data-stu-id="84df7-145">Recommendations</span></span>|  
|-----------------|----------------------------|-----------------------|---------------------|  
|<span data-ttu-id="84df7-146">資料根目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-146">Data root Directory</span></span>|<span data-ttu-id="84df7-147">共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-147">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-148">\<Drive:>\Program 檔案\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="84df7-148">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>\\<br /><br /> <span data-ttu-id="84df7-149">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-149">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-150">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-150">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-151">進行組態設定時，[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式將會設定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 目錄的 ACL 並中斷繼承。</span><span class="sxs-lookup"><span data-stu-id="84df7-151">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>|  
|<span data-ttu-id="84df7-152">使用者資料庫目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-152">User database directory</span></span>|<span data-ttu-id="84df7-153">共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-153">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-154">\<Drive:>Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-154">\<Drive:>Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="84df7-155">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-155">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-156">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-156">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-157">使用者資料目錄的最佳作法取決於工作負載和效能需求。</span><span class="sxs-lookup"><span data-stu-id="84df7-157">Best practices for user data directories depend on workload and performance requirements.</span></span>|  
|<span data-ttu-id="84df7-158">使用者資料庫記錄檔目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-158">User database log directory</span></span>|<span data-ttu-id="84df7-159">共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-159">Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-160">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-160">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="84df7-161">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-161">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-162">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-162">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-163">請確定記錄檔目錄具有足夠的空間。</span><span class="sxs-lookup"><span data-stu-id="84df7-163">Ensure that the log directory has adequate space.</span></span>|  
|<span data-ttu-id="84df7-164">暫存資料庫目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-164">Temp DB directory</span></span>|<span data-ttu-id="84df7-165">本機磁碟、共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-165">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-166">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-166">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="84df7-167">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-167">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-168">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-168">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-169">請確定指定的目錄對所有叢集節點都有效。</span><span class="sxs-lookup"><span data-stu-id="84df7-169">Ensure that the specified directory is valid for all the cluster nodes.</span></span> <span data-ttu-id="84df7-170">在容錯移轉期間，如果容錯移轉目標節點上的 tempdb 目錄無法使用，則 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資源將無法上線。</span><span class="sxs-lookup"><span data-stu-id="84df7-170">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span>|  
|<span data-ttu-id="84df7-171">暫存資料庫記錄檔目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-171">Temp DB log directory</span></span>|<span data-ttu-id="84df7-172">本機磁碟、共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-172">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-173">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Data</span><span class="sxs-lookup"><span data-stu-id="84df7-173">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Data</span></span><br /><br /> <span data-ttu-id="84df7-174">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-174">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-175">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-175">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-176">請確定指定的目錄對所有叢集節點都有效。</span><span class="sxs-lookup"><span data-stu-id="84df7-176">Ensure that the specified directory is valid for all the cluster nodes.</span></span> <span data-ttu-id="84df7-177">在容錯移轉期間，如果容錯移轉目標節點上的 tempdb 目錄無法使用，則 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 資源將無法上線。</span><span class="sxs-lookup"><span data-stu-id="84df7-177">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span>|  
|<span data-ttu-id="84df7-178">備份目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-178">Backup directory</span></span>|<span data-ttu-id="84df7-179">本機磁碟、共用儲存體、SMB 檔案伺服器</span><span class="sxs-lookup"><span data-stu-id="84df7-179">Local Disk, Shared Storage, SMB File Server</span></span>|<span data-ttu-id="84df7-180">\<Drive:>\Program Files \\ [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] \MSSQL12. \<InstanceID>\MSSQL\Backup</span><span class="sxs-lookup"><span data-stu-id="84df7-180">\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL12.\<InstanceID>\MSSQL\Backup</span></span><br /><br /> <span data-ttu-id="84df7-181">秘訣：如果在 [叢集磁碟選取] \*\*\*\* 頁面上選取共用磁碟，預設為第一個共用磁碟。</span><span class="sxs-lookup"><span data-stu-id="84df7-181">Tip: If shared disk was selected on the **Cluster Disk Selection** page, the default is the first shared disk.</span></span> <span data-ttu-id="84df7-182">如果在 **[叢集磁碟選取]** 頁面上沒有進行任何選擇，此欄位預設為空白。</span><span class="sxs-lookup"><span data-stu-id="84df7-182">This field defaults to blank if no selection was made on the **Cluster Disk Selection** page.</span></span>|<span data-ttu-id="84df7-183">請設定適當的權限來防止資料遺失，並且確定 SQL Server 服務的使用者帳戶具有足夠的權限，可寫入備份目錄。</span><span class="sxs-lookup"><span data-stu-id="84df7-183">Set appropriate permissions to prevent data loss, and ensure that the user account for the SQL Server service has adequate permissions to write to the backup directory.</span></span> <span data-ttu-id="84df7-184">不支援針對備份目錄使用對應的磁碟機。</span><span class="sxs-lookup"><span data-stu-id="84df7-184">Using a mapped drive for backup directories is not supported.</span></span>|  
  
## <a name="security-considerations"></a><span data-ttu-id="84df7-185">安全性考量</span><span class="sxs-lookup"><span data-stu-id="84df7-185">Security Considerations</span></span>  
 <span data-ttu-id="84df7-186">進行組態設定時，安裝程式將會設定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 目錄的 ACL 並中斷繼承。</span><span class="sxs-lookup"><span data-stu-id="84df7-186">Setup will configure ACLs for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] directories and break inheritance as part of configuration.</span></span>  
  
 <span data-ttu-id="84df7-187">以下建議適用於 SMB 檔案伺服器：</span><span class="sxs-lookup"><span data-stu-id="84df7-187">The following recommendations apply to the SMB file server:</span></span>  
  
-   <span data-ttu-id="84df7-188">如果使用 SMB 檔案伺服器， [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 服務帳戶必須是網域帳戶。</span><span class="sxs-lookup"><span data-stu-id="84df7-188">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account must be a domain account if an SMB file server is used.</span></span>  
  
-   <span data-ttu-id="84df7-189">用於安裝 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的帳戶應該擁有當做資料目錄之 SMB 檔案共用資料夾的 FULL CONTROL NTFS 權限。</span><span class="sxs-lookup"><span data-stu-id="84df7-189">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should have FULL CONTROL NTFS permissions on the SMB file share folder used as the data directory.</span></span>  
  
-   <span data-ttu-id="84df7-190">用於安裝 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 的帳戶應該具有 SMB 檔案伺服器的 SeSecurityPrivilege 權限。</span><span class="sxs-lookup"><span data-stu-id="84df7-190">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should be granted SeSecurityPrivilege privileges on the SMB file server.</span></span> <span data-ttu-id="84df7-191">若要授與此許可權，請使用檔案伺服器上的 [本機安全性原則] 主控台，將 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 安裝程式帳戶新增至 [管理] [**審核及安全性記錄檔**] 原則。</span><span class="sxs-lookup"><span data-stu-id="84df7-191">To grant this privilege, use the Local Security Policy console on the file server to add the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup account to the **Manage auditing and security log** policy.</span></span> <span data-ttu-id="84df7-192">在 [**本機安全性原則**] 主控台中 [**本機原則**] 下的 [**使用者權限指派**] 區段中，可以找到此設定。</span><span class="sxs-lookup"><span data-stu-id="84df7-192">This setting is available in the **User Rights Assignments** section under **Local Policies** in the **Local Security Policy** console.</span></span>  
  
## <a name="notes"></a><span data-ttu-id="84df7-193">注意</span><span class="sxs-lookup"><span data-stu-id="84df7-193">Notes</span></span>  
  
-   <span data-ttu-id="84df7-194">將功能加入現有的安裝時，您不能變更先前安裝之功能的位置，也不能指定新功能的位置。</span><span class="sxs-lookup"><span data-stu-id="84df7-194">When adding features to an existing installation, you cannot change the location of a previously installed feature, nor can you specify the location for a new feature.</span></span>  
  
-   <span data-ttu-id="84df7-195">如果您要指定非預設的安裝目錄，請確定安裝資料夾對於此 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]執行個體是唯一的。</span><span class="sxs-lookup"><span data-stu-id="84df7-195">If you specify non-default installation directories, ensure that the installation folders are unique to this instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="84df7-196">此對話方塊上的任何目錄都不應該與其他 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]執行個體中的目錄共用。</span><span class="sxs-lookup"><span data-stu-id="84df7-196">None of the directories in this dialog box should be shared with directories from other instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="84df7-197">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 執行個體內的 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] 和 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 元件也應該安裝在不同的目錄中。</span><span class="sxs-lookup"><span data-stu-id="84df7-197">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] components within an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should also be installed to separate directories.</span></span>  
  
-   <span data-ttu-id="84df7-198">程式檔和資料檔案無法安裝在下列位置中：</span><span class="sxs-lookup"><span data-stu-id="84df7-198">Program files and data files cannot be installed in the following situations:</span></span>  
  
    -   <span data-ttu-id="84df7-199">抽取式磁碟機</span><span class="sxs-lookup"><span data-stu-id="84df7-199">On a removable disk drive</span></span>  
  
    -   <span data-ttu-id="84df7-200">使用壓縮的檔案系統</span><span class="sxs-lookup"><span data-stu-id="84df7-200">On a file system that uses compression</span></span>  
  
    -   <span data-ttu-id="84df7-201">系統檔案所在的目錄</span><span class="sxs-lookup"><span data-stu-id="84df7-201">To a directory where system files are located</span></span>  
  
    -   <span data-ttu-id="84df7-202">容錯移轉叢集執行個體上的對應網路磁碟機</span><span class="sxs-lookup"><span data-stu-id="84df7-202">On a mapped network drive on a failover cluster instance</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="84df7-203">另請參閱</span><span class="sxs-lookup"><span data-stu-id="84df7-203">See Also</span></span>  
 <span data-ttu-id="84df7-204">[SQL Server 的預設和具名執行個體的檔案位置](../../../2014/sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="84df7-204">[File Locations for Default and Named Instances of SQL Server](../../../2014/sql-server/install/file-locations-for-default-and-named-instances-of-sql-server.md) </span></span>  
 [<span data-ttu-id="84df7-205">檔案伺服器的共用及 NTSF 權限</span><span class="sxs-lookup"><span data-stu-id="84df7-205">Share and NTFS Permissions on a File Server</span></span>](https://go.microsoft.com/fwlink/?LinkID=206571)  
  
  
