---
title: 在升級過程中，確認所有資料和記錄檔的自動成長皆已開啟 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- log files [SQL Server], size
- data files [SQL Server], size
- tempdb [SQL Server], size
- autogrow [SQL Server]
ms.assetid: a5860904-e2be-4224-8a51-df18a10d3fb9
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 8ca12075598bce210a905cbdfba89f2d879cf09b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87710106"
---
# <a name="verify-autogrow-is-turned-on-for-all-data-and-log-files-during-the-upgrade-process"></a><span data-ttu-id="8dc83-102">在升級過程中，確認已為所有資料和記錄檔開啟自動成長</span><span class="sxs-lookup"><span data-stu-id="8dc83-102">Verify autogrow is turned on for all data and log files during the upgrade process</span></span>
  <span data-ttu-id="8dc83-103">Upgrade Advisor 偵測到未設定為自動成長的資料或記錄檔。</span><span class="sxs-lookup"><span data-stu-id="8dc83-103">Upgrade Advisor detected data or log files that are not set to autogrow.</span></span> <span data-ttu-id="8dc83-104">新的和增強功能需要額外的磁碟空間供使用者資料庫和**tempdb**系統資料庫之用。</span><span class="sxs-lookup"><span data-stu-id="8dc83-104">New and enhanced features require additional disk space for user databases and the **tempdb** system database.</span></span> <span data-ttu-id="8dc83-105">為了確保在升級和後續的生產作業期間，資源可以配合大小的增加，建議您在升級之前，將所有使用者資料和記錄檔以及**tempdb**資料和記錄檔的自動成長設定為 [開啟]。</span><span class="sxs-lookup"><span data-stu-id="8dc83-105">To ensure resources can accommodate size increases during upgrade and subsequent production operations, we recommend setting autogrow to ON for all user data and log files and the **tempdb** data and log files before upgrading.</span></span>  
  
 <span data-ttu-id="8dc83-106">升級並測試工作負載之後，您可能會想要關閉自動成長，或根據使用者資料和記錄檔調整 FILEGROWTH 增量。</span><span class="sxs-lookup"><span data-stu-id="8dc83-106">After you have upgraded and tested your workloads, you may want to turn autogrow off or adjust the FILEGROWTH increment accordingly for user data and log files.</span></span> <span data-ttu-id="8dc83-107">我們建議**tempdb**系統資料庫的自動成長保持開啟。</span><span class="sxs-lookup"><span data-stu-id="8dc83-107">We recommend that autogrow remain on for the **tempdb** system database.</span></span> <span data-ttu-id="8dc83-108">如需詳細資訊，請參閱《[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 線上叢書》中的＜tempdb 的容量計劃＞。</span><span class="sxs-lookup"><span data-stu-id="8dc83-108">For more information, see "Capacity Planning for tempdb" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
## <a name="component"></a><span data-ttu-id="8dc83-109">元件</span><span class="sxs-lookup"><span data-stu-id="8dc83-109">Component</span></span>  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)]  
  
## <a name="description"></a><span data-ttu-id="8dc83-110">描述</span><span class="sxs-lookup"><span data-stu-id="8dc83-110">Description</span></span>  
 <span data-ttu-id="8dc83-111">**資料檔案**</span><span class="sxs-lookup"><span data-stu-id="8dc83-111">**Data files**</span></span>  
  
 <span data-ttu-id="8dc83-112">下表將列出針對使用者定義資料檔案產生額外磁碟空間需求的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能變更。</span><span class="sxs-lookup"><span data-stu-id="8dc83-112">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined data files.</span></span>  
  
|<span data-ttu-id="8dc83-113">特徵</span><span class="sxs-lookup"><span data-stu-id="8dc83-113">Feature</span></span>|<span data-ttu-id="8dc83-114">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中引入的變更</span><span class="sxs-lookup"><span data-stu-id="8dc83-114">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="8dc83-115">全文檢索</span><span class="sxs-lookup"><span data-stu-id="8dc83-115">Full-text</span></span>|<span data-ttu-id="8dc83-116">文件識別碼 (DOCID) 對應會儲存在資料檔案中，而非全文檢索目錄中。</span><span class="sxs-lookup"><span data-stu-id="8dc83-116">The document ID (DOCID) map is stored in the data file instead of in the full-text catalog.</span></span>|  
|<span data-ttu-id="8dc83-117">`text`、`ntext` 和 `image` 資料行</span><span class="sxs-lookup"><span data-stu-id="8dc83-117">`text`, `ntext`, and `image` columns</span></span>|<span data-ttu-id="8dc83-118">定義為 `text`、`ntext` 或 `image` 資料類型的大型物件 (LOB) 資料行需要每一個資料行有額外 40 個位元組的磁碟空間。</span><span class="sxs-lookup"><span data-stu-id="8dc83-118">Large object (LOB) columns defined as `text`, `ntext`, or `image` data types require an additional 40 bytes of disk space per column.</span></span> <span data-ttu-id="8dc83-119">這個單次空間的增加是在每一個 LOB 資料行第一次更新期間發生的。</span><span class="sxs-lookup"><span data-stu-id="8dc83-119">This one-time space increase occurs during the first update of each LOB column.</span></span>|  
|<span data-ttu-id="8dc83-120">中繼資料</span><span class="sxs-lookup"><span data-stu-id="8dc83-120">metadata</span></span>|<span data-ttu-id="8dc83-121">其他系統中繼資料是針對資料庫物件和使用者權限，在每一個使用者資料庫的 PRIMARY 檔案群組中建立及維護。</span><span class="sxs-lookup"><span data-stu-id="8dc83-121">Additional system metadata is created and maintained in the PRIMARY filegroup of each user database for database objects and user permissions.</span></span> <span data-ttu-id="8dc83-122">例如，在舊版 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中，與同意授權者或被授與者相關聯的權限是以點陣圖儲存在單一資料列中。</span><span class="sxs-lookup"><span data-stu-id="8dc83-122">For example, in earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the permissions associated with a grantor or grantee is stored in a single row as a bitmap.</span></span> <span data-ttu-id="8dc83-123">點陣圖已擴充為多個資料列。</span><span class="sxs-lookup"><span data-stu-id="8dc83-123">The bitmap is expanded into multiple rows.</span></span><br /><br /> <span data-ttu-id="8dc83-124">在升級程序期間，系統必須有足夠的磁碟空間，才能同時儲存舊和新的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="8dc83-124">During the upgrade process, there must be enough disk space to store both the old and new metadata.</span></span> <span data-ttu-id="8dc83-125">否則，在升級完成之後，系統會刪除舊的中繼資料。</span><span class="sxs-lookup"><span data-stu-id="8dc83-125">The old metadata is deleted after the upgrade is complete.</span></span>|  
  
 <span data-ttu-id="8dc83-126">**交易記錄檔**</span><span class="sxs-lookup"><span data-stu-id="8dc83-126">**Transaction log files**</span></span>  
  
 <span data-ttu-id="8dc83-127">下表將列出針對使用者定義交易記錄檔產生額外磁碟空間需求的 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 功能變更。</span><span class="sxs-lookup"><span data-stu-id="8dc83-127">The following table lists changes to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for user-defined transaction log files.</span></span>  
  
|<span data-ttu-id="8dc83-128">特徵</span><span class="sxs-lookup"><span data-stu-id="8dc83-128">Feature</span></span>|<span data-ttu-id="8dc83-129">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中引入的變更</span><span class="sxs-lookup"><span data-stu-id="8dc83-129">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="8dc83-130">還原和復原</span><span class="sxs-lookup"><span data-stu-id="8dc83-130">Restore and recovery</span></span>|<span data-ttu-id="8dc83-131">在損毀復原的恢復階段，[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 允許使用者存取資料庫。</span><span class="sxs-lookup"><span data-stu-id="8dc83-131">During the undo phase of a crash recovery, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] allows users to access the database.</span></span> <span data-ttu-id="8dc83-132">因為發生損毀時未認可的交易會重新取得損毀之前已保留的任何鎖定，所以這是可能發生的。</span><span class="sxs-lookup"><span data-stu-id="8dc83-132">This is possible because the transactions that were uncommitted when the crash occurred reacquire any locks they held before the crash.</span></span> <span data-ttu-id="8dc83-133">回復這些交易時，它們的鎖定會保護它們，不受到使用者的干擾。</span><span class="sxs-lookup"><span data-stu-id="8dc83-133">While transactions are being rolled back, their locks protect them from interference by users.</span></span> <span data-ttu-id="8dc83-134">這個額外鎖定資訊必須在交易記錄中維護。</span><span class="sxs-lookup"><span data-stu-id="8dc83-134">This additional locking information must be maintained in the transaction log.</span></span>|  
  
 <span data-ttu-id="8dc83-135">**tempdb 資料和記錄檔**</span><span class="sxs-lookup"><span data-stu-id="8dc83-135">**tempdb data and log files**</span></span>  
  
 <span data-ttu-id="8dc83-136">在舊版的中 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ， **tempdb**資料庫是用來儲存下列物件：</span><span class="sxs-lookup"><span data-stu-id="8dc83-136">In earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the **tempdb** database is used to store the following objects:</span></span>  
  
-   <span data-ttu-id="8dc83-137">明確建立的暫存物件，例如資料表、預存程序、資料表變數或資料指標。</span><span class="sxs-lookup"><span data-stu-id="8dc83-137">Temporary objects explicitly created such as tables, stored procedures, table variables, or cursors.</span></span>  
  
-   <span data-ttu-id="8dc83-138">[!INCLUDE[ssDE](../../includes/ssde-md.md)] 所建立的內部工作資料表。</span><span class="sxs-lookup"><span data-stu-id="8dc83-138">Internal work tables created by the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
-   <span data-ttu-id="8dc83-139">當您建立或重建索引時暫時排序的結果 (如果指定了 SORT_IN_TEMPDB 的話)。</span><span class="sxs-lookup"><span data-stu-id="8dc83-139">Results from temporary sorts when you create or rebuild indexes, if SORT_IN_TEMPDB is specified.</span></span>  
  
 <span data-ttu-id="8dc83-140">其他物件也會使用**tempdb**資料庫。</span><span class="sxs-lookup"><span data-stu-id="8dc83-140">Additional objects also use the **tempdb** database.</span></span> <span data-ttu-id="8dc83-141">下表列出 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 會導致**tempdb**資料和記錄檔產生額外磁碟空間需求的功能變更或新增專案。</span><span class="sxs-lookup"><span data-stu-id="8dc83-141">The following table lists changes or additions to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] features that result in additional disk space requirements for **tempdb** data and log files.</span></span>  
  
|<span data-ttu-id="8dc83-142">特徵</span><span class="sxs-lookup"><span data-stu-id="8dc83-142">Feature</span></span>|<span data-ttu-id="8dc83-143">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中引入的變更</span><span class="sxs-lookup"><span data-stu-id="8dc83-143">Changes Introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|-------------|-----------------------------------------------------|  
|<span data-ttu-id="8dc83-144">資料列版本設定</span><span class="sxs-lookup"><span data-stu-id="8dc83-144">Row versioning</span></span>|<span data-ttu-id="8dc83-145">資料列版本設定是 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 中的一般架構，可用來執行下列作業：</span><span class="sxs-lookup"><span data-stu-id="8dc83-145">Row versioning is a general framework in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that is used to:</span></span><br /><br /> <span data-ttu-id="8dc83-146">支援觸發程式：在觸發程式中建立已插入和已刪除的資料表。</span><span class="sxs-lookup"><span data-stu-id="8dc83-146">Support triggers: Build the inserted and deleted tables in triggers.</span></span> <span data-ttu-id="8dc83-147">經由觸發程序修改過的任何資料列都會被建立版本。</span><span class="sxs-lookup"><span data-stu-id="8dc83-147">Any rows modified by the trigger are versioned.</span></span> <span data-ttu-id="8dc83-148">這包括啟動觸發程序之陳述式所修改的資料列，以及觸發程序所做的任何資料修改。</span><span class="sxs-lookup"><span data-stu-id="8dc83-148">This includes the rows modified by the statement that launched the trigger, as well as any data modifications made by the trigger.</span></span> <span data-ttu-id="8dc83-149">AFTER 觸發程式會使用**tempdb**的版本存放區來存放觸發程式所變更之資料列的 before 影像。</span><span class="sxs-lookup"><span data-stu-id="8dc83-149">AFTER triggers use the version store of **tempdb** to hold the before images of the rows changed by the trigger.</span></span> <span data-ttu-id="8dc83-150">當您在啟用觸發程序的情況下大量載入資料時，系統會將每個資料列的副本加入至版本存放區。</span><span class="sxs-lookup"><span data-stu-id="8dc83-150">When you bulkload data with triggers enabled, a copy of each row is added to the version store.</span></span><br /><br /> <span data-ttu-id="8dc83-151">支援 Multiple Active Result Sets (MARS)。</span><span class="sxs-lookup"><span data-stu-id="8dc83-151">Support Multiple Active Result Sets (MARS).</span></span> <span data-ttu-id="8dc83-152">如果 MARS 工作階段在有現用結果集的情況下，發出資料修改陳述式 (例如 INSERT、UPDATE 或 DELETE)，就會為修改陳述式所影響的資料列建立版本。</span><span class="sxs-lookup"><span data-stu-id="8dc83-152">If a MARS session issues a data modification statement (such as INSERT, UPDATE, or DELETE) at a time there is an active result set, the rows affected by the modification statement are versioned.</span></span><br /><br /> <span data-ttu-id="8dc83-153">支援指定 ONLINE 選項的索引作業。</span><span class="sxs-lookup"><span data-stu-id="8dc83-153">Support index operations that specify the ONLINE option.</span></span> <span data-ttu-id="8dc83-154">線上索引作業會使用資料列版本設定來隔離索引作業與其他交易所進行的修改影響。</span><span class="sxs-lookup"><span data-stu-id="8dc83-154">Online index operations use row versioning to isolate the index operation from the effects of modifications made by other transactions.</span></span> <span data-ttu-id="8dc83-155">這樣可避免在已讀取的資料列上要求共用鎖定。</span><span class="sxs-lookup"><span data-stu-id="8dc83-155">This avoids the need for requesting share locks on rows that have been read.</span></span> <span data-ttu-id="8dc83-156">此外，線上索引作業期間的並行使用者更新和刪除作業需要**tempdb**中版本記錄的空間。</span><span class="sxs-lookup"><span data-stu-id="8dc83-156">In addition, concurrent user update and delete operations during online index operations require space for version records in **tempdb**.</span></span><br /><br /> <span data-ttu-id="8dc83-157">支援以資料列版本設定為基礎的交易隔離等級：讀取認可隔離等級的新執行，其使用資料列版本設定來提供語句層級的讀取一致性。</span><span class="sxs-lookup"><span data-stu-id="8dc83-157">Support row versioning-based transaction isolation levels: A new implementation of read committed isolation level that uses row versioning to provide statement-level read consistency.</span></span> <span data-ttu-id="8dc83-158">新的隔離等級 (快照集)，可以提供交易等級的讀取一致性。</span><span class="sxs-lookup"><span data-stu-id="8dc83-158">A new isolation level, snapshot, to provide transaction-level read consistency.</span></span><br /><br /> <br /><br /> <span data-ttu-id="8dc83-159">資料列版本會保留在**tempdb**版本存放區中，足以滿足在以資料列版本設定為基礎的隔離等級下執行之交易的需求。</span><span class="sxs-lookup"><span data-stu-id="8dc83-159">Row versions are held in the **tempdb** version store long enough to satisfy the requirements of transactions running under row versioning-based isolation levels.</span></span><br /><br /> <span data-ttu-id="8dc83-160">如需有關資料列版本設定和版本存放區的詳細資訊，請參閱《[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 線上叢書》中的＜了解以資料列版本設定為基礎的隔離等級＞主題。</span><span class="sxs-lookup"><span data-stu-id="8dc83-160">For more information about row versioning and the version store, see the topic "Understanding Row Versioning-based Isolation Levels" in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|  
|<span data-ttu-id="8dc83-161">暫存資料表和暫存變數中繼資料的快取</span><span class="sxs-lookup"><span data-stu-id="8dc83-161">Caching of temp table and temp variable metadata</span></span>|<span data-ttu-id="8dc83-162">針對在中繼資料快取中快取的臨時表和暫存變數的每個中繼資料 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ，會為**tempdb**配置兩個額外的頁面。</span><span class="sxs-lookup"><span data-stu-id="8dc83-162">For every metadata of temp table and temp variable cached in the metadata cache by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], two extra pages are allocated for **tempdb**.</span></span><br /><br /> <span data-ttu-id="8dc83-163">如果預存程序或觸發程序建立暫存資料表或暫存變數，則在該程序或觸發程序完成執行時，將不會刪除暫存物件。</span><span class="sxs-lookup"><span data-stu-id="8dc83-163">If a stored procedure or trigger creates a temp table or temp variable, the temporary object is not deleted when the procedure or trigger completes execution.</span></span> <span data-ttu-id="8dc83-164">而是將暫存物件截斷為單一頁面，並在下次執行該程序或觸發程序時重複使用。</span><span class="sxs-lookup"><span data-stu-id="8dc83-164">Instead, the temporary object is truncated to one page and reused the next time the procedure or trigger is executed.</span></span>|  
|<span data-ttu-id="8dc83-165">分割區資料表的索引</span><span class="sxs-lookup"><span data-stu-id="8dc83-165">Indexes on partitioned tables</span></span>|<span data-ttu-id="8dc83-166">當 [!INCLUDE[ssDE](../../includes/ssde-md.md)] 執行排序來建立分割區索引時，如果指定了 SORT_IN_TEMPDB 索引選項， **tempdb**中就需要有足夠的空間來容納每個資料分割的中繼排序執行。</span><span class="sxs-lookup"><span data-stu-id="8dc83-166">When the [!INCLUDE[ssDE](../../includes/ssde-md.md)] performs sorting to build partitioned indexes, enough space to hold the intermediate sort runs of each partition is required in **tempdb** if the SORT_IN_TEMPDB index option is specified.</span></span>|  
|[!INCLUDE[ssSB](../../includes/sssb-md.md)]|[!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="8dc83-167">保留不能保留在記憶體中的現有對話內容 (大約每個對話方塊) 1 KB 時，會明確使用**tempdb** 。</span><span class="sxs-lookup"><span data-stu-id="8dc83-167">explicitly uses **tempdb** when preserving existing dialog context that cannot stay in memory (approximately 1 KB per dialog).</span></span><br /><br /> [!INCLUDE[ssSB](../../includes/sssb-md.md)]<span data-ttu-id="8dc83-168">會透過在查詢執行內容中的物件快取，隱含使用**tempdb** 。</span><span class="sxs-lookup"><span data-stu-id="8dc83-168">implicitly uses **tempdb** through the caching of objects in the context of query execution.</span></span> <span data-ttu-id="8dc83-169">例如，用於計時器事件和背景傳遞交談的工作資料表。</span><span class="sxs-lookup"><span data-stu-id="8dc83-169">For example, work tables used for timer events and background delivered conversations.</span></span><br /><br /> <span data-ttu-id="8dc83-170">DBMail、事件通知和查詢通知等功能會隱含使用 [!INCLUDE[ssSB](../../includes/sssb-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="8dc83-170">The features DBMail, event notifications, and query notifications implicitly use [!INCLUDE[ssSB](../../includes/sssb-md.md)].</span></span>|  
|<span data-ttu-id="8dc83-171">大型物件 (LOB) 資料類型</span><span class="sxs-lookup"><span data-stu-id="8dc83-171">Large object (LOB) data type</span></span><br /><br /> <span data-ttu-id="8dc83-172">LOB 變數與參數</span><span class="sxs-lookup"><span data-stu-id="8dc83-172">LOB variables and parameters</span></span>|<span data-ttu-id="8dc83-173">資料類型 `varchar(max)` 、 `nvarchar(max)` 、 **Varbinary (最大) 文字**、 `ntext` `image,` 和 `xml` 是大型物件類型。</span><span class="sxs-lookup"><span data-stu-id="8dc83-173">The data types `varchar(max)`, `nvarchar(max)`, **varbinary(max)text**, `ntext`, `image,` and `xml` are large object types.</span></span><br /><br /> <span data-ttu-id="8dc83-174">在資料庫上啟用以資料列版本設定為基礎的交易隔離等級，並對大型物件進行修改時，會將已變更的 LOB 片段複製到**tempdb**中的版本存放區。</span><span class="sxs-lookup"><span data-stu-id="8dc83-174">When a row versioning-based transaction isolation level is enabled on the database and modifications of large objects are made, the changed fragment of the LOB is copied to the version store in **tempdb**.</span></span><br /><br /> <span data-ttu-id="8dc83-175">定義為大型物件資料類型的參數會儲存在**tempdb**中。</span><span class="sxs-lookup"><span data-stu-id="8dc83-175">Parameters defined as a large object data type are stored in **tempdb**.</span></span>|  
|<span data-ttu-id="8dc83-176">一般資料表運算式 (CTE)</span><span class="sxs-lookup"><span data-stu-id="8dc83-176">Common table expressions (CTEs)</span></span>|<span data-ttu-id="8dc83-177">執行一般資料表運算式查詢時，會在**tempdb**中建立多工緩衝處理作業的暫存工作資料表。</span><span class="sxs-lookup"><span data-stu-id="8dc83-177">Temporary work tables for spool operations are created in **tempdb** when common table expression queries are executed.</span></span>|  
  
## <a name="corrective-action"></a><span data-ttu-id="8dc83-178">更正動作</span><span class="sxs-lookup"><span data-stu-id="8dc83-178">Corrective Action</span></span>  
 <span data-ttu-id="8dc83-179">若要將資料或記錄檔設為自動成長，請修改下列陳述式以指定資料庫的資料和記錄檔。</span><span class="sxs-lookup"><span data-stu-id="8dc83-179">To set a data or log file to autogrow, modify the following statements to specify the data and log for your database.</span></span> <span data-ttu-id="8dc83-180">您應該將 FILEGROWTH 增量調整為適合您環境的值。</span><span class="sxs-lookup"><span data-stu-id="8dc83-180">You should adjust the FILEGROWTH increment to a value that is appropriate for your environment.</span></span>  
  
```  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = tempdev,  
    FILEGROWTH = 20MB);  
GO  
ALTER DATABASE tempdb  
MODIFY FILE  
    (NAME = templog,  
    FILEGROWTH = 10MB);  
```  
  
 <span data-ttu-id="8dc83-181">資料檔案的預設成長增量為 1 MB。</span><span class="sxs-lookup"><span data-stu-id="8dc83-181">The default growth increment for data files is 1 MB.</span></span> <span data-ttu-id="8dc83-182">記錄檔的預設值為 10%。</span><span class="sxs-lookup"><span data-stu-id="8dc83-182">The log file default is10%.</span></span> <span data-ttu-id="8dc83-183">設定 FILEGROWTH 增量時，我們建議您使用下列指導方針：</span><span class="sxs-lookup"><span data-stu-id="8dc83-183">We recommend the following general guidelines when setting the FILEGROWTH increment:</span></span>  
  
|<span data-ttu-id="8dc83-184">檔案大小</span><span class="sxs-lookup"><span data-stu-id="8dc83-184">File size</span></span>|<span data-ttu-id="8dc83-185">FILEGROWTH 增量</span><span class="sxs-lookup"><span data-stu-id="8dc83-185">FILEGROWTH increment</span></span>|  
|---------------|--------------------------|  
|<span data-ttu-id="8dc83-186">0-50MB</span><span class="sxs-lookup"><span data-stu-id="8dc83-186">0-50MB</span></span>|<span data-ttu-id="8dc83-187">10MB</span><span class="sxs-lookup"><span data-stu-id="8dc83-187">10MB</span></span>|  
|<span data-ttu-id="8dc83-188">100-200 MB</span><span class="sxs-lookup"><span data-stu-id="8dc83-188">100-200MB</span></span>|<span data-ttu-id="8dc83-189">20MB</span><span class="sxs-lookup"><span data-stu-id="8dc83-189">20MB</span></span>|  
|<span data-ttu-id="8dc83-190">500 MB 以上</span><span class="sxs-lookup"><span data-stu-id="8dc83-190">500MB or more</span></span>|<span data-ttu-id="8dc83-191">10%</span><span class="sxs-lookup"><span data-stu-id="8dc83-191">10%</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="8dc83-192">另請參閱</span><span class="sxs-lookup"><span data-stu-id="8dc83-192">See Also</span></span>  
 <span data-ttu-id="8dc83-193">[資料庫引擎升級問題](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span><span class="sxs-lookup"><span data-stu-id="8dc83-193">[Database Engine Upgrade Issues](../../../2014/sql-server/install/database-engine-upgrade-issues.md) </span></span>  
 [<span data-ttu-id="8dc83-194">SQL Server 2014 Upgrade Advisor &#91;新的&#93;</span><span class="sxs-lookup"><span data-stu-id="8dc83-194">SQL Server 2014 Upgrade Advisor &#91;new&#93;</span></span>](sql-server-2014-upgrade-advisor.md)  
  
  
