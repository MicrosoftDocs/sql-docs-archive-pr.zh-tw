---
title: 還原加密金鑰 (SSRS 原生模式) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- SQL12.rsconfigtool.restoreencryptionkey.F1
ms.assetid: 11ce51e5-f5d4-40b6-88d8-9360fb50e66c
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 3047e81b3f79219064f81a3492afe6460e1e4966
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87584975"
---
# <a name="restore-encryption-key-ssrs-native-mode"></a><span data-ttu-id="60feb-102">還原加密金鑰 (SSRS 原生模式)</span><span class="sxs-lookup"><span data-stu-id="60feb-102">Restore Encryption Key (SSRS Native Mode)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="60feb-103">會使用加密金鑰來保護儲存於報表伺服器資料庫中的敏感性資料安全。</span><span class="sxs-lookup"><span data-stu-id="60feb-103">uses an encryption key to secure sensitive data that is stored in the report server database.</span></span> <span data-ttu-id="60feb-104">為了確保您可持續存取加密的資料，一定要建立加密金鑰的備份，以免日後因為服務帳戶變更或進行規劃移轉時需要還原加密金鑰。</span><span class="sxs-lookup"><span data-stu-id="60feb-104">To ensure that you have continued access to encrypted data, it is important that you create a backup of the encryption key in case you need to restore it later due to changes in the service account or as part of a planned migration.</span></span> <span data-ttu-id="60feb-105">本主題提供如何使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 組態管理員還原金鑰的概觀。</span><span class="sxs-lookup"><span data-stu-id="60feb-105">This topic is an overview of how to use the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager to restore keys.</span></span>  
  
 [!INCLUDE[applies](../../includes/applies-md.md)]<span data-ttu-id="60feb-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]原生模式。</span><span class="sxs-lookup"><span data-stu-id="60feb-106">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode.</span></span>  
  
 <span data-ttu-id="60feb-107">若要還原此金鑰，您之前必須已經將此金鑰的備份副本儲存成受密碼保護的檔案。</span><span class="sxs-lookup"><span data-stu-id="60feb-107">To restore the key, you must have previously saved a backup copy of the key to a password protected file.</span></span> <span data-ttu-id="60feb-108">在金鑰還原期間，報表伺服器將會以受密碼保護之檔案中找到的金鑰來取代現有的金鑰。</span><span class="sxs-lookup"><span data-stu-id="60feb-108">During key restoration, the report server will replace an existing key with the key that is found in the password protected file.</span></span> <span data-ttu-id="60feb-109">該檔案內的金鑰必須與用來加密和解密資料的金鑰相同。</span><span class="sxs-lookup"><span data-stu-id="60feb-109">The key that is inside the file must be identical to the key that is used to encrypt and decrypt data.</span></span>  
  
 <span data-ttu-id="60feb-110">若要確認您是否已還原有效的金鑰，請使用報表管理員來檢視訂閱或是任何具有使用預存認證之資料來源的報表。</span><span class="sxs-lookup"><span data-stu-id="60feb-110">To verify whether you restored a valid key, use Report Manager to view subscriptions or any report that has a data source that uses stored credentials.</span></span> <span data-ttu-id="60feb-111">如果當您嘗試開啟訂閱定義頁面時，收到「報表伺服器無法存取加密資料」錯誤，或是當您開啟之前針對報表資料來源使用預存認證的報表時，系統提示您輸入認證，則表示您還原了無效的金鑰。</span><span class="sxs-lookup"><span data-stu-id="60feb-111">If you receive "The report server is unable to access encrypted data" error when attempting to open a subscription definition page, or if you are prompted to enter credentials when opening a report that previously used stored credentials for the report data source, you restored an invalid key.</span></span>  
  
 <span data-ttu-id="60feb-112">如果您所還原的無效金鑰與之前用來加密資料的金鑰不同，這樣就無法針對目前儲存於報表伺服器資料庫內的資料進行解密。</span><span class="sxs-lookup"><span data-stu-id="60feb-112">If you restore an invalid key that is different from the one used to encrypt the data, it will be impossible to decrypt data that is currently stored in the report server database.</span></span> <span data-ttu-id="60feb-113">如果您還原無效的金鑰，您應該立即還原正確金鑰的備份副本 (如果可用的話)。</span><span class="sxs-lookup"><span data-stu-id="60feb-113">If you restore an invalid key, you should immediately restore a backup copy of the correct key if it is available.</span></span> <span data-ttu-id="60feb-114">如果您沒有之前用來加密資料之金鑰的備份副本，則必須刪除所有加密的資料。</span><span class="sxs-lookup"><span data-stu-id="60feb-114">If you do not have a backup copy of the key that was used to encrypt data, you must delete all encrypted data.</span></span> <span data-ttu-id="60feb-115">按一下 **加密金鑰** 頁面上的 [[刪除]](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) 按鈕，以執行這個步驟。</span><span class="sxs-lookup"><span data-stu-id="60feb-115">Click the **Delete** button on the [Encryption Keys](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md) page to perform this step.</span></span> <span data-ttu-id="60feb-116">當您刪除加密的內容之後，您必須手動更新所有訂閱，並重新指定報表伺服器上針對報表和資料驅動訂閱所定義的所有預存認證。</span><span class="sxs-lookup"><span data-stu-id="60feb-116">After you delete the encrypted content, you must manually update all subscriptions and re-specify all stored credentials defined for reports and data-driven subscriptions on the report server.</span></span>  
  
## <a name="restore-encryption-key-dialog"></a><span data-ttu-id="60feb-117">[還原加密金鑰] 對話方塊</span><span class="sxs-lookup"><span data-stu-id="60feb-117">Restore Encryption Key Dialog</span></span>  
 <span data-ttu-id="60feb-118">如需有關何處尋找 Configuration Manager 的詳細資訊 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，請參閱[Reporting Services 組態管理員 &#40;原生模式&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md)。</span><span class="sxs-lookup"><span data-stu-id="60feb-118">For information on where to find the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, see [Reporting Services Configuration Manager &#40;Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-native-mode.md).</span></span>  
  
 <span data-ttu-id="60feb-119">若要開啟 [還原加密金鑰] 對話方塊，請按一下 **組態管理員導覽窗格內的** [加密金鑰] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ，然後按一下 **[還原]**。</span><span class="sxs-lookup"><span data-stu-id="60feb-119">To open the Restore Encryption Key dialog box, click **Encryption Keys** in the navigation pane of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager, and then click **Restore**.</span></span> <span data-ttu-id="60feb-120">當您使用 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 組態管理員內的 [服務帳戶] 頁面來更新服務帳戶時，這個對話方塊也會出現。</span><span class="sxs-lookup"><span data-stu-id="60feb-120">This dialog box also appears when you update the service account using the Service Account page in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager.</span></span> <span data-ttu-id="60feb-121">如需詳細資訊</span><span class="sxs-lookup"><span data-stu-id="60feb-121">For more information on the</span></span>  
  
## <a name="options"></a><span data-ttu-id="60feb-122">選項</span><span class="sxs-lookup"><span data-stu-id="60feb-122">Options</span></span>  
 <span data-ttu-id="60feb-123">**檔案位置**</span><span class="sxs-lookup"><span data-stu-id="60feb-123">**File Location**</span></span>  
 <span data-ttu-id="60feb-124">選取包含對稱金鑰副本的受密碼保護檔案。</span><span class="sxs-lookup"><span data-stu-id="60feb-124">Select the password-protected file that contains a copy of the symmetric key.</span></span> <span data-ttu-id="60feb-125">預設的副檔名為 .snk。</span><span class="sxs-lookup"><span data-stu-id="60feb-125">The default file extension is .snk.</span></span>  
  
 <span data-ttu-id="60feb-126">**密碼**</span><span class="sxs-lookup"><span data-stu-id="60feb-126">**Password**</span></span>  
 <span data-ttu-id="60feb-127">輸入解除檔案鎖定的密碼。</span><span class="sxs-lookup"><span data-stu-id="60feb-127">Enter the password that unlocks the file.</span></span> <span data-ttu-id="60feb-128">只有知道此密碼的使用者才可以還原金鑰。</span><span class="sxs-lookup"><span data-stu-id="60feb-128">Only users who know the password can restore the key.</span></span> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="60feb-129">會強制實施增強式密碼原則。</span><span class="sxs-lookup"><span data-stu-id="60feb-129">enforces a strong password policy.</span></span> <span data-ttu-id="60feb-130">此密碼至少必須包含 8 個字元，以及包含大小寫英數字元和至少一個符號字元的組合。</span><span class="sxs-lookup"><span data-stu-id="60feb-130">The password must contain at least 8 characters and include a combination of uppercase and lowercase alphanumeric characters and at least one symbol character.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="60feb-131">另請參閱</span><span class="sxs-lookup"><span data-stu-id="60feb-131">See Also</span></span>  
 <span data-ttu-id="60feb-132">[Reporting Services 組態管理員 &#40;SSRS 原生模式的 F1 說明主題&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="60feb-132">[Reporting Services Configuration Manager F1 Help Topics &#40;SSRS Native Mode&#41;](../../../2014/sql-server/install/reporting-services-configuration-manager-f1-help-topics-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="60feb-133">[備份與還原 Reporting Services 加密金鑰](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="60feb-133">[Back Up and Restore Reporting Services Encryption Keys](../../reporting-services/install-windows/ssrs-encryption-keys-back-up-and-restore-encryption-keys.md) </span></span>  
 <span data-ttu-id="60feb-134">[刪除和重新建立加密金鑰 &#40;SSRS 組態管理員&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span><span class="sxs-lookup"><span data-stu-id="60feb-134">[Delete and Re-create Encryption Keys  &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-delete-and-re-create-encryption-keys.md) </span></span>  
 <span data-ttu-id="60feb-135">[將報表伺服器初始化 &#40;SSRS 組態管理員&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="60feb-135">[Initialize a Report Server &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-initialize-a-report-server.md) </span></span>  
 <span data-ttu-id="60feb-136">[儲存加密的報表伺服器資料 &#40;SSRS 組態管理員&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span><span class="sxs-lookup"><span data-stu-id="60feb-136">[Store Encrypted Report Server Data &#40;SSRS Configuration Manager&#41;](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md) </span></span>  
 [<span data-ttu-id="60feb-137">&#40;SSRS 原生模式的加密金鑰&#41;</span><span class="sxs-lookup"><span data-stu-id="60feb-137">Encryption Keys &#40;SSRS Native Mode&#41;</span></span>](../../../2014/sql-server/install/encryption-keys-ssrs-native-mode.md)  
  
  
