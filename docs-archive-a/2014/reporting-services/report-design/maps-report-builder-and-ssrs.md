---
title: 地圖 (報表產生器及 SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- sql12.rtp.rptdesigner.mapproperties.general.f1
- "10508"
- MICROSOFT.REPORTDESIGNER.MAPBINDINGFIELDPAIR.FIELDNAME
- sql12.rtp.rptdesigner.maptitleproperties.general.f1
- MICROSOFT.REPORTDESIGNER.MAPPOLYGON.CENTERPOINTTEMPLATE
- "10500"
ms.assetid: b5e9ef21-11b7-4ed2-838e-d8eecdb5c5f0
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: b599d1de3f0f400f9f3df0f1e993a240173fc776
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87703845"
---
# <a name="maps-report-builder-and-ssrs"></a><span data-ttu-id="0257a-102">地圖 (報表產生器及 SSRS)</span><span class="sxs-lookup"><span data-stu-id="0257a-102">Maps (Report Builder and SSRS)</span></span>
  <span data-ttu-id="0257a-103">若要針對地理背景將商務資料視覺化，您可以將地圖加入至報表。</span><span class="sxs-lookup"><span data-stu-id="0257a-103">To visualize business data against a geographical background, you can add a map to your report.</span></span> <span data-ttu-id="0257a-104">您選取的地圖類型取決於您想要在報表中傳達的資訊而定。</span><span class="sxs-lookup"><span data-stu-id="0257a-104">The type of map that you select depends on what information that you want to communicate in your report.</span></span> <span data-ttu-id="0257a-105">您可以加入只顯示位置的地圖，或是根據某區域住家數而變動泡泡大小的泡泡地圖，或者是根據每一家商店最有利潤的產品而變動標記樣式的標記地圖，或者是顯示商店之間之路線的線路地圖。</span><span class="sxs-lookup"><span data-stu-id="0257a-105">You can add a map that displays locations only, or a bubble map that varies bubble size based on number of households for an area, or a marker map that varies marker style based on the most profitable product for each store, or a line map that displays routes between stores.</span></span>  
  
 <span data-ttu-id="0257a-106">地圖包含標題、指定中心點和標尺的檢視區、檢視區的選用 Bing 地圖底圖背景、顯示空間資料的一個或多個圖層，以及可協助使用者解譯資料視覺效果的各種圖例。</span><span class="sxs-lookup"><span data-stu-id="0257a-106">A map contains a title, a viewport that specifies the center point and scale, an optional Bing map tile background for the viewport, one or more layers that display spatial data, and a variety of legends that help users interpret the data visualizations.</span></span> <span data-ttu-id="0257a-107">下圖顯示地圖的基本部分。</span><span class="sxs-lookup"><span data-stu-id="0257a-107">The following illustration shows the basic parts of a map.</span></span>  
  
 <span data-ttu-id="0257a-108">![rs_MapElements](../media/rs-mapelements.gif "rs_MapElements")</span><span class="sxs-lookup"><span data-stu-id="0257a-108">![rs_MapElements](../media/rs-mapelements.gif "rs_MapElements")</span></span>  
  
 <span data-ttu-id="0257a-109">若要立即開始使用地圖，請參閱[教學課程：地圖報表 &#40;報表產生器&#41;](../tutorial-map-report-report-builder.md) 或[報表範例 (報表產生器及 SSRS)](https://go.microsoft.com/fwlink/?LinkId=198283)。</span><span class="sxs-lookup"><span data-stu-id="0257a-109">To start to use a map immediately, see [Tutorial: Map Report &#40;Report Builder&#41;](../tutorial-map-report-report-builder.md) or [Report Samples (Report Builder and SSRS)](https://go.microsoft.com/fwlink/?LinkId=198283).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="0257a-110">您可以將地圖當做報表組件，與報表分開儲存。</span><span class="sxs-lookup"><span data-stu-id="0257a-110">You can save maps separately from a report as report parts.</span></span>  [!INCLUDE[ssRBrptparts](../../includes/ssrbrptparts-md.md)]  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="adding-a-map-to-your-report"></a><a name="Process"></a> <span data-ttu-id="0257a-111">將地圖加入至報表</span><span class="sxs-lookup"><span data-stu-id="0257a-111">Adding a Map to Your Report</span></span>  
 <span data-ttu-id="0257a-112">若要將地圖加入至報表，以下為要遵循的一般步驟清單：</span><span class="sxs-lookup"><span data-stu-id="0257a-112">To add a map to your report, here is a list of the general steps to follow:</span></span>  
  
-   <span data-ttu-id="0257a-113">決定您要顯示的分析資料以及您需要的空間資料類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-113">Determine which analytical data that you want to display and what types of spatial data that you need.</span></span> <span data-ttu-id="0257a-114">例如，若要在泡泡地圖上顯示商店的相對年度銷售額，您需要用於分析資料的商店名稱和商店銷售額，以及用於空間資料的商店名稱和商店位置做為緯度和經度。</span><span class="sxs-lookup"><span data-stu-id="0257a-114">For example, to display relative annual store sales on a bubble map, you need store name and store sales for analytical data and store name and store location as latitude and longitude for spatial data.</span></span>  
  
-   <span data-ttu-id="0257a-115">決定您要的地圖樣式。</span><span class="sxs-lookup"><span data-stu-id="0257a-115">Decide on the style of map you want.</span></span> <span data-ttu-id="0257a-116">基本地圖僅顯示位置。</span><span class="sxs-lookup"><span data-stu-id="0257a-116">Basic maps display locations only.</span></span> <span data-ttu-id="0257a-117">泡泡地圖會根據單一分析值更改泡泡大小。</span><span class="sxs-lookup"><span data-stu-id="0257a-117">Bubble maps vary bubble size based on a single analytical value.</span></span> <span data-ttu-id="0257a-118">分析色彩地圖會根據分析資料的範圍更改地圖元素。</span><span class="sxs-lookup"><span data-stu-id="0257a-118">Analytical color maps vary map elements based on ranges of analytical data.</span></span> <span data-ttu-id="0257a-119">您選取的樣式取決於您想要視覺化的資料以及您使用之空間資料的類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-119">The style that you select depends both on the data that you want to visualize and the type of spatial data that you use.</span></span>  
  
-   <span data-ttu-id="0257a-120">收集您必須擁有的資訊來指定空間資料來源、空間資料、分析資料來源與分析資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-120">Collect the information that you must have to specify spatial data sources, spatial data, analytical data sources, and analytical data.</span></span> <span data-ttu-id="0257a-121">這包含空間資料來源的連接字串，來指定您需要之空間資料的類型，並確認您的報表資料包含讓空間資料和分析資料產生關聯的符合欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-121">This includes connection strings to spatial data sources, specifying the type of spatial data that you need, and making sure that your report data includes match fields that associate the spatial data and analytical data.</span></span>  
  
-   <span data-ttu-id="0257a-122">執行「地圖精靈」，以便將地圖加入至報表中。</span><span class="sxs-lookup"><span data-stu-id="0257a-122">Run the Map wizard to add a map to your report.</span></span> <span data-ttu-id="0257a-123">這會將第一個地圖圖層加入至地圖中。</span><span class="sxs-lookup"><span data-stu-id="0257a-123">This adds the first map layer to the map.</span></span> <span data-ttu-id="0257a-124">執行「地圖圖層精靈」來建立其他圖層或修改現有的圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-124">Run the Map Layer wizard to create additional layers or modify existing layers.</span></span> <span data-ttu-id="0257a-125">這些精靈提供一個簡單的入門方式。</span><span class="sxs-lookup"><span data-stu-id="0257a-125">The wizards provide an easy way to get started.</span></span> <span data-ttu-id="0257a-126">如需詳細資訊，請參閱 [地圖精靈與地圖圖層精靈 &#40;報表產生器及 SSRS&#41;](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-126">For more information, see [Map Wizard and Map Layer Wizard &#40;Report Builder and SSRS&#41;](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md).</span></span>  
  
-   <span data-ttu-id="0257a-127">預覽報表中的地圖之後，您可能會想要調整地圖檢視、變更您的資料更改每個圖層顯示的方式、提供圖例來協助使用者解譯資料，以及調整解析度來提供使用者良好的檢視經驗。</span><span class="sxs-lookup"><span data-stu-id="0257a-127">After you preview the map in your report, you will probably want to adjust the map view, change the way your data varies the display of each layer, provide legends to help your users interpret the data, and adjust the resolution to provide a good viewing experience for your users.</span></span>  
  
 <span data-ttu-id="0257a-128">如需詳細資訊，請參閱 [規劃地圖報表 &#40;報表產生器及 SSRS&#41;](plan-a-map-report-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-128">For more information, see [Plan a Map Report &#40;Report Builder and SSRS&#41;](plan-a-map-report-report-builder-and-ssrs.md).</span></span>  
  

  
##  <a name="adding-data-to-a-map"></a><a name="AddingData"></a> <span data-ttu-id="0257a-129">將資料加入至地圖</span><span class="sxs-lookup"><span data-stu-id="0257a-129">Adding Data to a Map</span></span>  
 <span data-ttu-id="0257a-130">地圖使用兩種類型的資料：空間資料與分析資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-130">A map uses two types of data: spatial data and analytical data.</span></span> <span data-ttu-id="0257a-131">空間資料定義地圖的外觀，而分析資料則提供與地圖相關的值。</span><span class="sxs-lookup"><span data-stu-id="0257a-131">Spatial data defines the appearance of the map whereas analytical data provides the values that are associated with the map.</span></span> <span data-ttu-id="0257a-132">例如，空間資料會定義某個區域中的城市位置，而分析資料會提供每個城市的人口數。</span><span class="sxs-lookup"><span data-stu-id="0257a-132">For example, spatial data defines the locations of cities in an area whereas analytical data provides the population for each city.</span></span>  
  
 <span data-ttu-id="0257a-133">地圖必須擁有空間資料，分析資料則是選擇性的。</span><span class="sxs-lookup"><span data-stu-id="0257a-133">A map must have spatial data; analytical data is optional.</span></span> <span data-ttu-id="0257a-134">例如，您可以加入只顯示某個城市中之商店位置的地圖。</span><span class="sxs-lookup"><span data-stu-id="0257a-134">For example, you can add a map that displays just store locations in a city.</span></span>  
  
 <span data-ttu-id="0257a-135">若要視覺化地圖上的資料，分析資料和空間資料必須擁有關聯性。</span><span class="sxs-lookup"><span data-stu-id="0257a-135">To visualize data on a map, the analytical data and the spatial data must have a relationship.</span></span> <span data-ttu-id="0257a-136">當空間資料與分析資料來自相同的來源時，關聯性是已知的。</span><span class="sxs-lookup"><span data-stu-id="0257a-136">When the spatial data and the analytical data come from the same source, the relationship is known.</span></span> <span data-ttu-id="0257a-137">當空間資料和分析資料來自不同的來源，您必須指定要將兩者產生關聯的符合欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-137">When the spatial data and the analytical data come from different sources, you must specify match fields to relate them.</span></span>  
  
### <a name="spatial-data"></a><span data-ttu-id="0257a-138">空間資料</span><span class="sxs-lookup"><span data-stu-id="0257a-138">Spatial Data</span></span>  
 <span data-ttu-id="0257a-139">空間資料由多組座標所組成。</span><span class="sxs-lookup"><span data-stu-id="0257a-139">Spatial data consists of sets of coordinates.</span></span> <span data-ttu-id="0257a-140">資料來源中的空間資料可以是單一點、多個點、單一線條、多個線條，或一組多邊形。</span><span class="sxs-lookup"><span data-stu-id="0257a-140">Spatial data from a data source can be a single point, multiple points, a single line, multiple lines, or a set of polygons.</span></span> <span data-ttu-id="0257a-141">每組座標都會定義一個 *「地圖元素」*(Map Element)，例如，表示某個縣市外框的多邊形、表示路段圖的線條，或是表示城市位置的點。</span><span class="sxs-lookup"><span data-stu-id="0257a-141">Each set of coordinates defines a *map element*, for example, a polygon that represents the outline of a county, a line that represents a road, or a point that represents the location of a city.</span></span>  
  
 <span data-ttu-id="0257a-142">空間資料以下列其中一個座標系統為基礎：</span><span class="sxs-lookup"><span data-stu-id="0257a-142">Spatial data is based on one of the following coordinate systems:</span></span>  
  
-   <span data-ttu-id="0257a-143">**地理** ：在球形表面使用經度和緯度指定地理座標。</span><span class="sxs-lookup"><span data-stu-id="0257a-143">**Geographic** Specifies geodesic coordinates on a spherical surface by using longitude and latitude.</span></span> <span data-ttu-id="0257a-144">空間資料為地理時，必須指定投射。</span><span class="sxs-lookup"><span data-stu-id="0257a-144">When spatial data is geographic, a projection must be specified.</span></span> <span data-ttu-id="0257a-145">投射是一組規則，可指定如何將擁有球形座標的物件繪製到平面上。</span><span class="sxs-lookup"><span data-stu-id="0257a-145">A projection is a set of rules that specifies how to draw objects that have spherical coordinates onto a planar surface.</span></span> <span data-ttu-id="0257a-146">只有包含相同投射的地理資料可以進行比較或結合。</span><span class="sxs-lookup"><span data-stu-id="0257a-146">Only geographic data with the same projection can be compared or combined.</span></span>  
  
-   <span data-ttu-id="0257a-147">**平面** ：在平面上使用 X 和 Y 指定地理座標。</span><span class="sxs-lookup"><span data-stu-id="0257a-147">**Planar** Specifies geometric coordinates on a planar surface by using X and Y.</span></span>  
  
 <span data-ttu-id="0257a-148">每個地圖圖層都會顯示一個空間資料類型：多邊形、線條或點。</span><span class="sxs-lookup"><span data-stu-id="0257a-148">Each map layer displays one type of spatial data: polygons, lines, or points.</span></span> <span data-ttu-id="0257a-149">若要顯示多個空間資料類型，請將多個圖層加入至地圖中。</span><span class="sxs-lookup"><span data-stu-id="0257a-149">To display multiple types of spatial data, add multiple layers to the map.</span></span> <span data-ttu-id="0257a-150">您也可以加入 Microsoft 地圖底圖的圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-150">You can also add a layer of Microsoft Bing map tiles.</span></span> <span data-ttu-id="0257a-151">圖格圖層不會相依於空間資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-151">The tile layer does not depend on spatial data.</span></span> <span data-ttu-id="0257a-152">圖格圖層會顯示對應到地圖檢視區座標的影像分割。</span><span class="sxs-lookup"><span data-stu-id="0257a-152">The tile layer displays image tiles that correspond to the coordinates of the map viewport.</span></span>  
  
#### <a name="sources-of-spatial-data"></a><span data-ttu-id="0257a-153">空間資料的來源</span><span class="sxs-lookup"><span data-stu-id="0257a-153">Sources of Spatial Data</span></span>  
 <span data-ttu-id="0257a-154">系統支援下列空間資料來源：</span><span class="sxs-lookup"><span data-stu-id="0257a-154">The following sources of spatial data are supported:</span></span>  
  
-   <span data-ttu-id="0257a-155">**地圖庫報表：**</span><span class="sxs-lookup"><span data-stu-id="0257a-155">**Map Gallery reports.**</span></span> <span data-ttu-id="0257a-156">空間資料會內嵌在位於地圖庫中的報表內。</span><span class="sxs-lookup"><span data-stu-id="0257a-156">Spatial data is embedded in reports located in the map gallery.</span></span> <span data-ttu-id="0257a-157">根據預設，地圖庫會安裝在 *\<drive>* ： \Program FILES\MICROSOFT SQL Server\Report Builder \MapGallery。</span><span class="sxs-lookup"><span data-stu-id="0257a-157">By default, the Map Gallery is installed in *\<drive>*:\Program Files\Microsoft SQL Server\Report Builder \MapGallery.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="0257a-158">這 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 項對應功能會使用美國人口普查局 () 所提供之 TIGER/Line 形狀檔中的資料 [http://www.census.gov/](http://www.census.gov/) 。</span><span class="sxs-lookup"><span data-stu-id="0257a-158">This [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] mapping feature uses data from TIGER/Line Shapefiles provided courtesy of the U.S. Census Bureau ([http://www.census.gov/](http://www.census.gov/)).</span></span> <span data-ttu-id="0257a-159">TIGER/Line 形狀檔是 Census MAF/TIGER 資料庫中選定地理和製圖資訊的擷取內容。</span><span class="sxs-lookup"><span data-stu-id="0257a-159">TIGER/Line Shapefiles are an extract of selected geographic and cartographic information from the Census MAF/TIGER database.</span></span> <span data-ttu-id="0257a-160">TIGER/Line 形狀檔是由美國人口普查局所免費提供。</span><span class="sxs-lookup"><span data-stu-id="0257a-160">TIGER/Line Shapefiles are available without charge from the U.S. Census Bureau.</span></span> <span data-ttu-id="0257a-161">若要取得 TIGER/Line 形狀檔的詳細資料，請移至 [TIGER/Line 形狀檔和 TIGER/Line 檔案技術文件](https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/tiger-geo-line.html) \(英文\)。</span><span class="sxs-lookup"><span data-stu-id="0257a-161">To obtain more information about the TIGER/Line Shapefiles go to [TIGER/Line Shapefiles and TIGER/Line Files Technical Documentation](https://www.census.gov/programs-surveys/geography/technical-documentation/complete-technical-documentation/tiger-geo-line.html).</span></span> <span data-ttu-id="0257a-162">TIGER/Line 形狀檔中的界限資訊只能當做統計資料收集和表格製作的用途，其統計用途的描述和指定並不構成司法權或擁有權利的判定，也不屬於法律上的土地描述。</span><span class="sxs-lookup"><span data-stu-id="0257a-162">The boundary information in the TIGER/Line Shapefiles are for statistical data collection and tabulation purposes only; their depiction and designation for statistical purposes does not constitute a determination of jurisdictional authority or rights of ownership or entitlement and they are not legal land descriptions.</span></span> <span data-ttu-id="0257a-163">Census TIGER 和 TIGER/Line 是美國人口普查局的註冊商標。</span><span class="sxs-lookup"><span data-stu-id="0257a-163">Census TIGER and TIGER/Line are registered trademarks of the U.S. Bureau of the Census.</span></span>  
  
-   <span data-ttu-id="0257a-164">**ESRI 形狀檔：**</span><span class="sxs-lookup"><span data-stu-id="0257a-164">**ESRI Shapefiles.**</span></span> <span data-ttu-id="0257a-165">ESRI 形狀檔包含與環境系統研究協會 (Environmental Systems Research Institute, Inc.，ESRI)形狀檔空間資料格式相容的資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-165">ESRI Shapefiles contain data that complies with the Environmental Systems Research Institute, Inc. (ESRI) Shapefile spatial data format.</span></span> <span data-ttu-id="0257a-166">ESRI 形狀檔指的是一組檔案。</span><span class="sxs-lookup"><span data-stu-id="0257a-166">ESRI Shapefiles refer to a set of files.</span></span> <span data-ttu-id="0257a-167">.shp 檔案中的資料會指定地理或幾何圖案。</span><span class="sxs-lookup"><span data-stu-id="0257a-167">Data in the .shp file specifies the geographical or geometrical shapes.</span></span> <span data-ttu-id="0257a-168">.dbf 檔案中的資料會提供這些圖案的屬性。</span><span class="sxs-lookup"><span data-stu-id="0257a-168">Data in the .dbf file provides attributes for the shapes.</span></span> <span data-ttu-id="0257a-169">若要在設計檢視中檢視地圖或是從報表伺服器執行地圖，這兩種檔案必須位於相同的資料夾。</span><span class="sxs-lookup"><span data-stu-id="0257a-169">To view a map in design view or to run a map from the report server, both files must be in the same folder.</span></span> <span data-ttu-id="0257a-170">當您從本機檔案系統的 .shp 檔案加入空間資料時，空間資料會內嵌在您的報表中。</span><span class="sxs-lookup"><span data-stu-id="0257a-170">When you add spatial data from a .shp file on your local file system, the spatial data is embedded in your report.</span></span> <span data-ttu-id="0257a-171">若要在執行階段動態擷取空間資料，請將形狀檔上傳至報表伺服器，然後將其指定為空間資料的來源。</span><span class="sxs-lookup"><span data-stu-id="0257a-171">To retrieve spatial data dynamically at run time, upload the Shapefiles to your report server, and then specify them as the source for spatial data.</span></span> <span data-ttu-id="0257a-172">如需詳細資訊，請參閱 [尋找地圖的 ESRI 形狀檔](https://go.microsoft.com/fwlink/?linkid=178814)。</span><span class="sxs-lookup"><span data-stu-id="0257a-172">For more information, see [Finding ESRI Shapefiles for a Map](https://go.microsoft.com/fwlink/?linkid=178814).</span></span>  
  
-   <span data-ttu-id="0257a-173">**儲存在資料庫中的 SQL Server 空間資料：**</span><span class="sxs-lookup"><span data-stu-id="0257a-173">**SQL Server spatial data stored in a database.**</span></span> <span data-ttu-id="0257a-174">您可以使用查詢來指定 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 關聯式資料庫中的 `SQLGeometry` 或 `SQLGeography` 資料類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-174">You can use a query that specifies `SQLGeometry` or `SQLGeography` data types from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] relational database.</span></span> <span data-ttu-id="0257a-175">如需詳細資訊，請參閱《 [SQL Server 線上叢書](../../relational-databases/spatial/spatial-data-types-overview.md) 》中的 [空間資料類型概觀](https://go.microsoft.com/fwlink/?linkid=98335)。</span><span class="sxs-lookup"><span data-stu-id="0257a-175">For more information, see [Spatial Data Types Overview](../../relational-databases/spatial/spatial-data-types-overview.md) in [SQL Server Books Online](https://go.microsoft.com/fwlink/?linkid=98335).</span></span>  
  
     <span data-ttu-id="0257a-176">當您在查詢設計工具中查看結果集時，每一列空間資料都視為一個單位，並儲存在單一地圖元素中。</span><span class="sxs-lookup"><span data-stu-id="0257a-176">In the result set that you see in the query designer, each row of spatial data is treated as a unit and stored in a single map element.</span></span> <span data-ttu-id="0257a-177">例如，如果有多個點定義在結果集的一個資料列中，顯示屬性會套用到該地圖元素中的所有點。</span><span class="sxs-lookup"><span data-stu-id="0257a-177">For example, if there are multiple points that are defined in one row in the result set, display properties apply to all points in that map element.</span></span>  
  
-   <span data-ttu-id="0257a-178">**您所建立的自訂位置：**</span><span class="sxs-lookup"><span data-stu-id="0257a-178">**Custom locations that you create.**</span></span> <span data-ttu-id="0257a-179">您可以將位置當做內嵌點手動加入至內嵌點圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-179">You can manually add locations as embedded points to an embedded point layer.</span></span> <span data-ttu-id="0257a-180">如需詳細資訊，請參閱 [將自訂位置加入至地圖 &#40;報表產生器及 SSRS&#41;](add-custom-locations-to-a-map-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-180">For more information, see [Add Custom Locations to a Map &#40;Report Builder and SSRS&#41;](add-custom-locations-to-a-map-report-builder-and-ssrs.md).</span></span>  
  
#### <a name="spatial-data-in-design-view"></a><span data-ttu-id="0257a-181">設計檢視中的空間資料</span><span class="sxs-lookup"><span data-stu-id="0257a-181">Spatial Data in Design View</span></span>  
 <span data-ttu-id="0257a-182">在 [設計] 檢視中，報表處理器會顯示範例空間資料來協助您設計地圖圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-182">In Design view, the report processor displays sample spatial data to help you design the map layer.</span></span> <span data-ttu-id="0257a-183">您所看到的資料取決於空間資料的可用性。</span><span class="sxs-lookup"><span data-stu-id="0257a-183">The data that you see depends on the availability of the spatial data:</span></span>  
  
-   <span data-ttu-id="0257a-184">**內嵌資料。**</span><span class="sxs-lookup"><span data-stu-id="0257a-184">**Embedded data.**</span></span> <span data-ttu-id="0257a-185">範例資料擷取自內嵌於報表中地圖圖層的地圖元素。</span><span class="sxs-lookup"><span data-stu-id="0257a-185">The sample data is retrieved from map elements embedded in map layers in your report.</span></span>  
  
-   <span data-ttu-id="0257a-186">**ESRI 形狀檔的連結。**</span><span class="sxs-lookup"><span data-stu-id="0257a-186">**Link to ESRI Shapefile .**</span></span> <span data-ttu-id="0257a-187">：如果有 ESRI 形狀檔 (.shp) 和支援檔案 (.dbf)，範例資料是從形狀檔載入。</span><span class="sxs-lookup"><span data-stu-id="0257a-187">If the ESRI Shapefile (.shp) and the support file (.dbf) are available, the sample data is loaded from the Shapefile.</span></span> <span data-ttu-id="0257a-188">否則，報表處理器會產生範例資料並顯示 **[沒有可用的空間資料]** 訊息。</span><span class="sxs-lookup"><span data-stu-id="0257a-188">Otherwise, the report processor generates sample data and displays the message **No spatial data available**.</span></span>  
  
-   <span data-ttu-id="0257a-189">**SQL Server 空間資料：**</span><span class="sxs-lookup"><span data-stu-id="0257a-189">**SQL Server spatial data.**</span></span> <span data-ttu-id="0257a-190">如果有資料來源而且認證有效，範例資料是從資料庫中的空間資料載入。</span><span class="sxs-lookup"><span data-stu-id="0257a-190">If the data source is available and the credentials are valid, the sample data is loaded from the spatial data in the database.</span></span> <span data-ttu-id="0257a-191">否則，報表處理器會產生範例資料並顯示 **[沒有可用的空間資料]** 訊息。</span><span class="sxs-lookup"><span data-stu-id="0257a-191">Otherwise, the report processor generates sample data and displays the message **No spatial data available**.</span></span>  
  
#### <a name="embedding-spatial-data-in-the-report-definition"></a><span data-ttu-id="0257a-192">將空間資料內嵌在報表定義中</span><span class="sxs-lookup"><span data-stu-id="0257a-192">Embedding Spatial Data in the Report Definition</span></span>  
 <span data-ttu-id="0257a-193">與分析資料不同，您可以選擇將地圖圖層的空間資料內嵌在報表定義中。</span><span class="sxs-lookup"><span data-stu-id="0257a-193">Unlike analytical data, you have the option to embed spatial data for a map layer in the report definition.</span></span> <span data-ttu-id="0257a-194">當您內嵌空間資料時，就是在內嵌地圖圖層中使用的地圖元素。</span><span class="sxs-lookup"><span data-stu-id="0257a-194">When you embed spatial data, you embed map elements that are used in the map layer.</span></span>  
  
 <span data-ttu-id="0257a-195">內嵌元素會增加報表定義的大小，但是在報表執行時，可以確認空間資料永遠存在預覽或報表伺服器中。</span><span class="sxs-lookup"><span data-stu-id="0257a-195">Embedded elements increase the size of the report definition but ensure that the spatial data is always available when the report runs, either in preview or on the report server.</span></span> <span data-ttu-id="0257a-196">資料越多，表示儲存空間越多，處理時間也越長。</span><span class="sxs-lookup"><span data-stu-id="0257a-196">More data means more storage and longer processing times.</span></span> <span data-ttu-id="0257a-197">永遠的最佳作法是，除了其他報表資料之外，也限制空間資料，以調整報表所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="0257a-197">It is always a best practice to limit spatial data, in addition to other report data, to just the information that is needed for your report.</span></span>  
  
#### <a name="controlling-map-resolution-at-run-time"></a><span data-ttu-id="0257a-198">控制執行階段的地圖解析度</span><span class="sxs-lookup"><span data-stu-id="0257a-198">Controlling Map Resolution at Run Time</span></span>  
 <span data-ttu-id="0257a-199">當您變更空間資料的解析度時，就是在指定您希望線條繪製地圖上的詳細程度。</span><span class="sxs-lookup"><span data-stu-id="0257a-199">When you change the resolution for spatial data, you are specifying how detailed you want the lines drawn on a map.</span></span> <span data-ttu-id="0257a-200">例如，針對地區，您需要將資料粒度降低到地球表面區域的一百公尺，還是一英哩就已經夠詳細？</span><span class="sxs-lookup"><span data-stu-id="0257a-200">For example, for areas, do you need granularity down to a hundred meters of surface area on the earth, or is one mile enough detail?</span></span>  
  
 <span data-ttu-id="0257a-201">如果空間資料內嵌在報表中，您所使用的解析度會影響報表定義中的地圖元素數目。</span><span class="sxs-lookup"><span data-stu-id="0257a-201">If the spatial data is embedded in the report, the resolution that you use affects the number of map elements in the report definition.</span></span> <span data-ttu-id="0257a-202">解析度較高時，會增加以該解析度繪製框線所需的元素數目。</span><span class="sxs-lookup"><span data-stu-id="0257a-202">A higher resolution increases the number of elements that are required to draw borders at that resolution.</span></span> <span data-ttu-id="0257a-203">如果空間資料沒有內嵌在報表中，每次檢視報表時，報表伺服器都會計算以該解析度繪製框線所需的線條數目。</span><span class="sxs-lookup"><span data-stu-id="0257a-203">If the spatial data is not embedded in the report, the report server calculates the lines that are required to draw the borders at that resolution every time you view the report.</span></span> <span data-ttu-id="0257a-204">若要設計可調和顯示解析度與可接受之報表呈現時間的報表，請將地圖解析度簡化到您在報表中視覺化分析資料所需的詳細程度。</span><span class="sxs-lookup"><span data-stu-id="0257a-204">To design a report that balances display resolution and acceptable report rendering time, simplify the map resolution to the level of detail that you need in your report to visualize your analytical data.</span></span>  
  
=
  
### <a name="analytical-data"></a><span data-ttu-id="0257a-205">分析資料</span><span class="sxs-lookup"><span data-stu-id="0257a-205">Analytical Data</span></span>  
 <span data-ttu-id="0257a-206">分析資料是您要在地圖上視覺化的資料，例如，某個城市的人口數或某個商店的銷售總額。</span><span class="sxs-lookup"><span data-stu-id="0257a-206">Analytical data is the data that you want to visualize on the map, for example, population for a city or sales total for a store.</span></span> <span data-ttu-id="0257a-207">分析資料可能是來自下列其中一個來源：</span><span class="sxs-lookup"><span data-stu-id="0257a-207">Analytical data can come from one of the following sources:</span></span>  
  
-   <span data-ttu-id="0257a-208">**資料集欄位：**</span><span class="sxs-lookup"><span data-stu-id="0257a-208">**Dataset field.**</span></span> <span data-ttu-id="0257a-209">來自 [報表資料] 窗格中資料集的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-209">A field from a dataset in the Report Data pane.</span></span>  
  
-   <span data-ttu-id="0257a-210">**空間資料來源欄位：**</span><span class="sxs-lookup"><span data-stu-id="0257a-210">**Spatial data source field.**</span></span> <span data-ttu-id="0257a-211">來自其中包含空間資料之空間資料來源的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-211">A field from the spatial data source that is included with the spatial data.</span></span> <span data-ttu-id="0257a-212">例如，ESRI 形狀檔通常同時包含空間資料與分析資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-212">For example, an ESRI Shapefile frequently includes both spatial and analytical data.</span></span> <span data-ttu-id="0257a-213">來自空間資料來源的欄位名稱開頭為 #；當您要針對圖層指定規則的資料欄位時，這些欄位名稱會出現在欄位的下拉式清單中。</span><span class="sxs-lookup"><span data-stu-id="0257a-213">Field names from the spatial data source begin with # and appear in the drop-down list of fields when you are specifying the data field for rules for a layer.</span></span>  
  
-   <span data-ttu-id="0257a-214">**地圖元素的內嵌資料：**</span><span class="sxs-lookup"><span data-stu-id="0257a-214">**Embedded data for a map element.**</span></span> <span data-ttu-id="0257a-215">將多邊形、線條或點內嵌到報表中之後，您可以覆寫個別地圖元素的資料欄位以及設定自訂值。</span><span class="sxs-lookup"><span data-stu-id="0257a-215">After you embed polygons, lines, or points in a report, you can override the data fields for individual map elements and set custom values.</span></span>  
  
 <span data-ttu-id="0257a-216">當您指定圖層的規則，並選取分析資料欄位時，如果資料類型為數值，報表處理器會自動使用預設函數 Sum 來計算地圖元素的彙總值。</span><span class="sxs-lookup"><span data-stu-id="0257a-216">When you specify rules for a layer and select the analytical data field, if the data type is numeric, the report processor automatically uses the default function Sum to calculate aggregate values for the map element.</span></span> <span data-ttu-id="0257a-217">如果該欄位不是數值，則不會指定任何彙總函式，而且會使用隱含的彙總函式 First。</span><span class="sxs-lookup"><span data-stu-id="0257a-217">If the field is not numeric, no aggregate function is specified, and the implicit aggregate function First is used.</span></span> <span data-ttu-id="0257a-218">若要變更預設運算式，請針對圖層變更規則的選項。</span><span class="sxs-lookup"><span data-stu-id="0257a-218">To change the default expression, change the options for the rules for the layer.</span></span> <span data-ttu-id="0257a-219">如需詳細資訊，請參閱 [使用規則與分析資料更改多邊形、線條與點顯示 &#40;報表產生器及 SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-219">For more information, see [Vary Polygon, Line, and Point Display by Rules and Analytical Data &#40;Report Builder and SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).</span></span>  
  
### <a name="match-fields"></a><span data-ttu-id="0257a-220">符合欄位</span><span class="sxs-lookup"><span data-stu-id="0257a-220">Match Fields</span></span>  
 <span data-ttu-id="0257a-221">若要在圖層上讓分析資料和地圖元素產生關聯，您必須指定 *「符合欄位」*(Match Field)。</span><span class="sxs-lookup"><span data-stu-id="0257a-221">To relate analytical data to map elements on a layer, you must specify *match fields*.</span></span> <span data-ttu-id="0257a-222">符合欄位用於建立地圖元素和分析資料之間的關聯性。</span><span class="sxs-lookup"><span data-stu-id="0257a-222">Match fields are used to build a relationship between map elements and analytical data.</span></span> <span data-ttu-id="0257a-223">只要進行比對的欄位指定唯一的分析值給每個空間位置，您就可以使用一個或多個欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-223">You can use one or more fields to match on as long as they specify a unique analytical value for each spatial location.</span></span>  
  
 <span data-ttu-id="0257a-224">例如，對於依據城市人口數更改泡泡大小的泡泡地圖，需要下列資料：</span><span class="sxs-lookup"><span data-stu-id="0257a-224">For example, for a bubble map that varies bubble size by city population, the following data is needed:</span></span>  
  
-   <span data-ttu-id="0257a-225">從空間資料來源：</span><span class="sxs-lookup"><span data-stu-id="0257a-225">From the spatial data source:</span></span>  
  
    -   <span data-ttu-id="0257a-226">**SpatialData。**</span><span class="sxs-lookup"><span data-stu-id="0257a-226">**SpatialData.**</span></span> <span data-ttu-id="0257a-227">具有指定城市緯度與經度的空間資料的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-227">A field that has spatial data that specifies the latitude and longitude of the city.</span></span>  
  
    -   <span data-ttu-id="0257a-228">**名稱。**</span><span class="sxs-lookup"><span data-stu-id="0257a-228">**Name.**</span></span> <span data-ttu-id="0257a-229">包含城市名稱的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-229">A field that has the name of the city.</span></span>  
  
    -   <span data-ttu-id="0257a-230">**區域.**</span><span class="sxs-lookup"><span data-stu-id="0257a-230">**Area.**</span></span> <span data-ttu-id="0257a-231">包含區域名稱的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-231">A field that has the name of the region.</span></span>  
  
-   <span data-ttu-id="0257a-232">從分析資料來源：</span><span class="sxs-lookup"><span data-stu-id="0257a-232">From the analytical data source:</span></span>  
  
    -   <span data-ttu-id="0257a-233">**人數.**</span><span class="sxs-lookup"><span data-stu-id="0257a-233">**Population.**</span></span> <span data-ttu-id="0257a-234">包含城市人口數的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-234">A field that has the city population.</span></span>  
  
    -   <span data-ttu-id="0257a-235">**鹽湖城.**</span><span class="sxs-lookup"><span data-stu-id="0257a-235">**City.**</span></span> <span data-ttu-id="0257a-236">包含城市名稱的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-236">A field that has the name of the city.</span></span>  
  
    -   <span data-ttu-id="0257a-237">**區域.**</span><span class="sxs-lookup"><span data-stu-id="0257a-237">**Area.**</span></span> <span data-ttu-id="0257a-238">包含領域、省/市或區域名稱的欄位。</span><span class="sxs-lookup"><span data-stu-id="0257a-238">A field that has the name of the territory, state, or region.</span></span>  
  
 <span data-ttu-id="0257a-239">在此範例中，光是城市名稱還不足以唯一識別人口數。</span><span class="sxs-lookup"><span data-stu-id="0257a-239">In this example, the name of the city alone is not enough to uniquely identify the population.</span></span> <span data-ttu-id="0257a-240">例如，在美國有很多稱為奧爾班尼的城市。</span><span class="sxs-lookup"><span data-stu-id="0257a-240">For example, there are many cities named Albany in the United States.</span></span> <span data-ttu-id="0257a-241">若要為特定城市命名，除了城市名稱之外，您還必須指定區域。</span><span class="sxs-lookup"><span data-stu-id="0257a-241">To name a specific city, you must specify the area in addition to the city name.</span></span>  
  

  
##  <a name="understanding-the-map-viewport"></a><a name="Viewport"></a> <span data-ttu-id="0257a-242">了解地圖檢視區</span><span class="sxs-lookup"><span data-stu-id="0257a-242">Understanding the Map Viewport</span></span>  
 <span data-ttu-id="0257a-243">指定報表的地圖資料之後，您可以指定地圖 *「檢視區」*(Viewport) 來限制地圖檢視區。</span><span class="sxs-lookup"><span data-stu-id="0257a-243">After you specify map data for a report, you can limit the display area of the map by specifying a map *viewport*.</span></span> <span data-ttu-id="0257a-244">根據預設，檢視區與整個地圖的區域相同。</span><span class="sxs-lookup"><span data-stu-id="0257a-244">By default, the viewport is the same area as the whole map.</span></span> <span data-ttu-id="0257a-245">若要裁剪地圖，您可以指定定義您要包含在報表中之區域的中心、縮放層級，以及最大和最小座標。</span><span class="sxs-lookup"><span data-stu-id="0257a-245">To crop the map, you can specify the center, zoom level, and maximum and minimum coordinates that define the area that you want to include in your report.</span></span> <span data-ttu-id="0257a-246">若要改善地圖在報表中的顯示，您可以將圖例、距離標尺和色階移到檢視區外部。</span><span class="sxs-lookup"><span data-stu-id="0257a-246">To improve the display of the map in the report, you can move the legends, distance scale, and color scale outside the viewport.</span></span> <span data-ttu-id="0257a-247">下圖顯示檢視區：</span><span class="sxs-lookup"><span data-stu-id="0257a-247">The following figure shows a viewport:</span></span>  
  
 <span data-ttu-id="0257a-248">![rs_MapViewport](../media/rs-mapviewport.gif "rs_MapViewport")</span><span class="sxs-lookup"><span data-stu-id="0257a-248">![rs_MapViewport](../media/rs-mapviewport.gif "rs_MapViewport")</span></span>  
  
  
  
##  <a name="adding-a-bing-map-tiles-layer"></a><a name="TileLayer"></a> <span data-ttu-id="0257a-249">加入 Bing 地圖底圖圖層</span><span class="sxs-lookup"><span data-stu-id="0257a-249">Adding a Bing Map Tiles Layer</span></span>  
 <span data-ttu-id="0257a-250">您可以加入 Bing 地圖底圖的圖層，這個圖層會為檢視區定義的目前地圖檢視提供地理背景。</span><span class="sxs-lookup"><span data-stu-id="0257a-250">You can add a layer for Bing map tiles that provides a geographic background for the current map view as defined by the viewport.</span></span> <span data-ttu-id="0257a-251">若要加入圖格圖層，您必須指定 **[地理]** 座標系統以及 **[Mercator]** 投射類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-251">To add a tile layer, you must specify the coordinate system **geographic** and the projection type **Mercator**.</span></span> <span data-ttu-id="0257a-252">系統會從 Bing Map Web 服務自動擷取符合您選取之檢視區置中和縮放層級的影像分割。</span><span class="sxs-lookup"><span data-stu-id="0257a-252">Tiles that match the viewport center and zoom level that you select are automatically retrieved from Bing Maps Web Services.</span></span>  
  
 <span data-ttu-id="0257a-253">您可以指定下列選項來自訂圖層：</span><span class="sxs-lookup"><span data-stu-id="0257a-253">You can customize the layer by specifying the following options:</span></span>  
  
-   <span data-ttu-id="0257a-254">圖層類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-254">Tile type.</span></span> <span data-ttu-id="0257a-255">支援下列樣式：</span><span class="sxs-lookup"><span data-stu-id="0257a-255">The following styles are supported:</span></span>  
  
    -   <span data-ttu-id="0257a-256">**道路.**</span><span class="sxs-lookup"><span data-stu-id="0257a-256">**Road.**</span></span> <span data-ttu-id="0257a-257">顯示擁有白色背景、道路與標籤文字的路段圖樣式。</span><span class="sxs-lookup"><span data-stu-id="0257a-257">Displays a road map style that has a white background, roads, and label text.</span></span>  
  
    -   <span data-ttu-id="0257a-258">**空照圖：**</span><span class="sxs-lookup"><span data-stu-id="0257a-258">**Aerial.**</span></span> <span data-ttu-id="0257a-259">顯示沒有文字的空照圖影像樣式。</span><span class="sxs-lookup"><span data-stu-id="0257a-259">Displays an aerial image style without text.</span></span>  
  
    -   <span data-ttu-id="0257a-260">**混合式.**</span><span class="sxs-lookup"><span data-stu-id="0257a-260">**Hybrid.**</span></span> <span data-ttu-id="0257a-261">顯示 **[路段圖]** 和 **[空照圖]** 樣式的組合。</span><span class="sxs-lookup"><span data-stu-id="0257a-261">Displays a combination of the **Road** and **Aerial** styles.</span></span>  
  
-   <span data-ttu-id="0257a-262">圖格上顯示文字的語言。</span><span class="sxs-lookup"><span data-stu-id="0257a-262">The language for the display text on the tiles.</span></span>  
  
-   <span data-ttu-id="0257a-263">是否要使用安全連線從 Bing Map Web 服務中擷取圖格。</span><span class="sxs-lookup"><span data-stu-id="0257a-263">Whether to use a secure connection to retrieve the tiles from the Bing Maps Web service.</span></span>  
  
 <span data-ttu-id="0257a-264">如需逐步指示，請參閱 [加入、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-264">For step-by-step instructions, see [Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md).</span></span>  
  
 <span data-ttu-id="0257a-265">如需有關圖格的詳細資訊，請參閱 [Bing Maps 圖格系統](https://go.microsoft.com/fwlink/?linkid=147315)。</span><span class="sxs-lookup"><span data-stu-id="0257a-265">For more information about tiles, see [Bing Maps Tile System](https://go.microsoft.com/fwlink/?linkid=147315).</span></span> <span data-ttu-id="0257a-266">如需有關在報表中使用 Bing 地圖底圖的詳細資訊，請參閱 [其他使用規定](https://go.microsoft.com/fwlink/?LinkId=151371) 和 [隱私權聲明](https://go.microsoft.com/fwlink/?LinkId=151372)。</span><span class="sxs-lookup"><span data-stu-id="0257a-266">For more information about the use of Bing map tiles in your report, see [Additional Terms of Use](https://go.microsoft.com/fwlink/?LinkId=151371) and [Privacy Statement](https://go.microsoft.com/fwlink/?LinkId=151372).</span></span>  
  
 
  
##  <a name="understanding-map-layers-and-map-elements"></a><a name="MapLayers"></a> <span data-ttu-id="0257a-267">了解地圖圖層與地圖元素</span><span class="sxs-lookup"><span data-stu-id="0257a-267">Understanding Map Layers and Map Elements</span></span>  
 <span data-ttu-id="0257a-268">一個地圖可以擁有多個圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-268">A map can have multiple layers.</span></span> <span data-ttu-id="0257a-269">圖層有三種類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-269">There are three types of layers.</span></span> <span data-ttu-id="0257a-270">每個圖層都會顯示一種空間資料類型：</span><span class="sxs-lookup"><span data-stu-id="0257a-270">Each layer displays one type of spatial data:</span></span>  
  
-   <span data-ttu-id="0257a-271">**多邊形圖層。**</span><span class="sxs-lookup"><span data-stu-id="0257a-271">**Polygon Layer.**</span></span> <span data-ttu-id="0257a-272">顯示區域的外框或針對每個多邊形自動計算之多邊形中心點的標記。</span><span class="sxs-lookup"><span data-stu-id="0257a-272">Displays outlines of areas or markers for the polygon center point, which is automatically calculated for each polygon.</span></span>  
  
-   <span data-ttu-id="0257a-273">**線條圖層。**</span><span class="sxs-lookup"><span data-stu-id="0257a-273">**Line Layer.**</span></span> <span data-ttu-id="0257a-274">顯示路徑或路線的線條。</span><span class="sxs-lookup"><span data-stu-id="0257a-274">Displays lines for paths or routes.</span></span>  
  
-   <span data-ttu-id="0257a-275">**點圖層。**</span><span class="sxs-lookup"><span data-stu-id="0257a-275">**Point Layer.**</span></span> <span data-ttu-id="0257a-276">顯示點位置的標記。</span><span class="sxs-lookup"><span data-stu-id="0257a-276">Displays markers for point locations.</span></span>  
  
 <span data-ttu-id="0257a-277">當您針對圖層指定空間資料的來源時，精靈會檢查空間資料欄位，並根據其類型設定圖層類型。</span><span class="sxs-lookup"><span data-stu-id="0257a-277">When you specify the source of spatial data for a layer, the wizard checks the spatial data field and sets the layer type based on its type.</span></span> <span data-ttu-id="0257a-278">系統會針對資料來源中的每個值，將地圖元素加入至圖層中。</span><span class="sxs-lookup"><span data-stu-id="0257a-278">A map element is added to the layer for each value from the data source.</span></span>  
  
 <span data-ttu-id="0257a-279">例如，若要顯示中央倉儲到商店的傳遞路線，您可以加入兩個圖層：包含圖釘標記的點圖層 (以顯示商店位置) 以及線條圖層 (以顯示從倉儲到每個商店的傳遞路線)。</span><span class="sxs-lookup"><span data-stu-id="0257a-279">For example, to display delivery routes from a central warehouse to your stores, you might add two layers: a point layer with pushpin markers to display store locations and a line layer to display delivery routes to each store from the warehouse.</span></span> <span data-ttu-id="0257a-280">點圖層需要指定商店位置的 [點] 空間資料，而線條圖層則需要指定傳遞路線的 [線條] 空間資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-280">The point layer needs Point spatial data that specifies store locations and the line layer needs Line spatial data that specifies the delivery routes.</span></span>  
  
 <span data-ttu-id="0257a-281">第四種圖層類型為圖格圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-281">The fourth type of layer is a tile layer.</span></span> <span data-ttu-id="0257a-282">圖格圖層會加入對應至地圖檢視區置中與縮放層級之 Bing 地圖底圖的背景。</span><span class="sxs-lookup"><span data-stu-id="0257a-282">A tile layer adds a background of Bing map tiles that corresponds to the map viewport center and zoom level.</span></span>  
  
 <span data-ttu-id="0257a-283">若要使用圖層，在報表設計介面上選取一個地圖來顯示 [地圖] 窗格。</span><span class="sxs-lookup"><span data-stu-id="0257a-283">To work with layers, select a map on the report design surface to display the Map pane.</span></span> <span data-ttu-id="0257a-284">[地圖] 窗格會顯示針對地圖所定義之圖層的清單。</span><span class="sxs-lookup"><span data-stu-id="0257a-284">The Map pane displays the list of layers that are defined for the map.</span></span> <span data-ttu-id="0257a-285">使用此窗格選取圖層來變更選項、變更圖層的繪製程序、加入圖層或執行「地圖圖層精靈」、隱藏或顯示圖層，以及變更地圖檢視區的檢視置中與縮放層級。</span><span class="sxs-lookup"><span data-stu-id="0257a-285">Use this pane to select a layer to change the options, to change the drawing order of layers, to add a layer or run the Map Layer wizard, to hide or show a layer, and to change the view center and zoom level for the map viewport.</span></span> <span data-ttu-id="0257a-286">下圖顯示檢視區：</span><span class="sxs-lookup"><span data-stu-id="0257a-286">The following figure shows a viewport:</span></span>  
  
 <span data-ttu-id="0257a-287">![rsMapLayerZone](../media/rsmaplayerzone.gif "rsMapLayerZone")</span><span class="sxs-lookup"><span data-stu-id="0257a-287">![rsMapLayerZone](../media/rsmaplayerzone.gif "rsMapLayerZone")</span></span>  
  
 <span data-ttu-id="0257a-288">如需地圖圖層的詳細資訊，請參閱 [加入、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-288">For more information about map layers, see [Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md).</span></span>  
  
### <a name="varying-display-properties-for-points-lines-and-polygons"></a><span data-ttu-id="0257a-289">更改點、線條與多邊形的顯示屬性</span><span class="sxs-lookup"><span data-stu-id="0257a-289">Varying Display Properties for Points, Lines, and Polygons</span></span>  
 <span data-ttu-id="0257a-290">您可以使用圖層的規則，或者針對個別元素，設定地圖元素的顯示選項。</span><span class="sxs-lookup"><span data-stu-id="0257a-290">Display options for a map elements can be set at the layer level, by using rules for the layer, or on individual elements.</span></span> <span data-ttu-id="0257a-291">例如，您可以設定圖層上所有點的顯示屬性，或者您可以設定圖層上不論是否內嵌之所有點的顯示選項，或者您可以覆寫特定內嵌點的顯示屬性設定。</span><span class="sxs-lookup"><span data-stu-id="0257a-291">For example, you can set display properties for all points on a layer, or you can set rules that control the display properties for all points on a layer whether or not they are embedded, or you can override display property settings for specific embedded points.</span></span>  
  
 <span data-ttu-id="0257a-292">當您檢視報表時，您看到的顯示值受到此階層的控制，以遞增順序列出。</span><span class="sxs-lookup"><span data-stu-id="0257a-292">When you view a report, the display values that you see are controlled by this hierarchy, listed in ascending order.</span></span> <span data-ttu-id="0257a-293">數字較高者較為優先：</span><span class="sxs-lookup"><span data-stu-id="0257a-293">The higher numbers take precedence:</span></span>  
  
1.  <span data-ttu-id="0257a-294">**圖層屬性：**</span><span class="sxs-lookup"><span data-stu-id="0257a-294">**Layer properties.**</span></span> <span data-ttu-id="0257a-295">套用至整個圖層的屬性。</span><span class="sxs-lookup"><span data-stu-id="0257a-295">Properties that apply to the whole layer.</span></span> <span data-ttu-id="0257a-296">例如，使用圖層屬性來設定分析資料的來源或整個圖層的可見性。</span><span class="sxs-lookup"><span data-stu-id="0257a-296">For example, use layer properties to set the source of analytical data or the visibility for the whole layer.</span></span>  
  
2.  <span data-ttu-id="0257a-297">**多邊形、線條、點屬性以及內嵌多邊形、線條、點屬性：**</span><span class="sxs-lookup"><span data-stu-id="0257a-297">**Polygon, Line, Point properties and Embedded Polygon, Line, Point properties.**</span></span> <span data-ttu-id="0257a-298">套用至圖層上所有地圖元素的屬性 (不論這些元素來自動態空間資料或內嵌空間資料)。</span><span class="sxs-lookup"><span data-stu-id="0257a-298">Properties that apply to all map elements on a layer, whether the elements are from dynamic spatial data or embedded spatial data.</span></span> <span data-ttu-id="0257a-299">例如，使用多邊形中心點屬性將泡泡的填滿色彩設定為漸層 (由深藍色至淺藍色，以及由上至下填滿泡泡區域)。</span><span class="sxs-lookup"><span data-stu-id="0257a-299">For example, use polygon center point properties to set the fill color for bubbles to a gradient that fills bubble areas from dark blue to light blue and from top to bottom.</span></span>  
  
3.  <span data-ttu-id="0257a-300">**色彩規則、大小規則、寬度規則與標記類型規則：**</span><span class="sxs-lookup"><span data-stu-id="0257a-300">**Color Rules, Size Rules, Width Rules, Marker Type Rules.**</span></span> <span data-ttu-id="0257a-301">當圖層所包含的地圖元素與分析資料擁有關聯性時，規則會將屬性套用至該圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-301">Rules apply properties to a layer when the layer has map elements that have a relationship to analytical data.</span></span> <span data-ttu-id="0257a-302">規則類型會隨著圖層類型而變更。</span><span class="sxs-lookup"><span data-stu-id="0257a-302">The type of rules vary based on layer type.</span></span> <span data-ttu-id="0257a-303">例如，根據人口數使用點大小規則來更改泡泡大小。</span><span class="sxs-lookup"><span data-stu-id="0257a-303">For example, use point size rules to vary bubble size based on population.</span></span>  
  
4.  <span data-ttu-id="0257a-304">**針對內嵌多邊形、線條或點屬性覆寫：**</span><span class="sxs-lookup"><span data-stu-id="0257a-304">**Override for Embedded Polygon, Line, or Point properties**.</span></span> <span data-ttu-id="0257a-305">對於內嵌的地圖元素，您可以選取覆寫選項，然後變更任何屬性或資料值。</span><span class="sxs-lookup"><span data-stu-id="0257a-305">For embedded map elements, you can select the override option and change any property or data value.</span></span> <span data-ttu-id="0257a-306">您對個別元素之覆寫規則所進行的任何變更都無法回復。</span><span class="sxs-lookup"><span data-stu-id="0257a-306">Any changes that you make to override rules for individual elements are irreversible.</span></span> <span data-ttu-id="0257a-307">例如，您可以使用圖釘標記反白顯示特定的商店。</span><span class="sxs-lookup"><span data-stu-id="0257a-307">For example, you can highlight a specific store by using a pushpin marker.</span></span>  
  
 <span data-ttu-id="0257a-308">如需詳細資訊，請參閱 [使用規則與分析資料更改多邊形、線條與點顯示 &#40;報表產生器及 SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-308">For more information, see [Vary Polygon, Line, and Point Display by Rules and Analytical Data &#40;Report Builder and SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).</span></span>  
  
 <span data-ttu-id="0257a-309">除了更改地圖元素的外觀之外，您還可以使用下列方式，為點、線條和多邊形，或圖層增加互動功能：</span><span class="sxs-lookup"><span data-stu-id="0257a-309">In addition to varying the appearance of map elements, you can add interactivity to points, lines, and polygons, or to layers, in the following ways:</span></span>  
  
-   <span data-ttu-id="0257a-310">當使用者將指標停留在地圖上時，建立工具提示來提供地圖元素的其他詳細資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-310">Create tooltips to provide additional details for a map element when the user hovers a pointer over the map.</span></span>  
  
-   <span data-ttu-id="0257a-311">加入鑽研動作以連結至報表中的其他位置、其他報表或網頁。</span><span class="sxs-lookup"><span data-stu-id="0257a-311">Add drillthrough actions to link to other locations in the report, to other reports, or to Web pages.</span></span>  
  
-   <span data-ttu-id="0257a-312">在運算式中加入定義圖層可見性的參數，讓使用者顯示或隱藏特定的地圖圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-312">Add parameters in expressions that define layer visibility to enable a user to show or hide specific map layers.</span></span>  
  
 <span data-ttu-id="0257a-313">如需詳細資訊，請參閱[互動式排序、文件引導模式及連結 &#40;報表產生器及 SSRS&#41;](interactive-sort-document-maps-and-links-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-313">For more information, see [Interactive Sort, Document Maps, and Links &#40;Report Builder and SSRS&#41;](interactive-sort-document-maps-and-links-report-builder-and-ssrs.md).</span></span>  
  

  
##  <a name="understanding-map-legends-color-scale-and-distance-scale"></a><a name="Legends"></a> <span data-ttu-id="0257a-314">了解地圖圖例、色階與距離標尺</span><span class="sxs-lookup"><span data-stu-id="0257a-314">Understanding Map Legends, Color Scale, and Distance Scale</span></span>  
 <span data-ttu-id="0257a-315">您可以將各種圖例加入至報表中以協助使用者解譯地圖。</span><span class="sxs-lookup"><span data-stu-id="0257a-315">You can add a variety of legends to your report to help users interpret a map.</span></span> <span data-ttu-id="0257a-316">地圖可以包含下列項目：</span><span class="sxs-lookup"><span data-stu-id="0257a-316">Maps can include the following items:</span></span>  
  
-   <span data-ttu-id="0257a-317">**圖例：**</span><span class="sxs-lookup"><span data-stu-id="0257a-317">**Legends.**</span></span> <span data-ttu-id="0257a-318">您可以建立多個圖例。</span><span class="sxs-lookup"><span data-stu-id="0257a-318">You can create multiple legends.</span></span> <span data-ttu-id="0257a-319">系統會根據您為每個圖層上之地圖元素所指定的規則，自動產生圖例中所列出的項目。</span><span class="sxs-lookup"><span data-stu-id="0257a-319">Items that are listed in a legend are generated automatically based on the rules that you specify for map elements on each layer.</span></span> <span data-ttu-id="0257a-320">針對每個規則，您可以指定用來顯示其相關項目的圖例。</span><span class="sxs-lookup"><span data-stu-id="0257a-320">For each rule, you specify the legend to use to display its related items.</span></span> <span data-ttu-id="0257a-321">以此種方式，您可以將多個圖層中的項目指派給相同的圖例或不同的圖例。</span><span class="sxs-lookup"><span data-stu-id="0257a-321">In this manner, you can assign items from multiple layers to the same legend or to different legends.</span></span>  
  
-   <span data-ttu-id="0257a-322">**色階。**</span><span class="sxs-lookup"><span data-stu-id="0257a-322">**Color scale.**</span></span> <span data-ttu-id="0257a-323">您可以建立一個色階。</span><span class="sxs-lookup"><span data-stu-id="0257a-323">You can create one color scale.</span></span> <span data-ttu-id="0257a-324">您可以在色階中顯示色彩規則的項目，做為提供色彩規則之圖例的替代方式。</span><span class="sxs-lookup"><span data-stu-id="0257a-324">As an alternative to providing a legend for a color rule, you can display items for a color rule in the color scale.</span></span> <span data-ttu-id="0257a-325">您可以將多個色彩規則套用到色階。</span><span class="sxs-lookup"><span data-stu-id="0257a-325">Multiple color rules can apply to the color scale.</span></span>  
  
-   <span data-ttu-id="0257a-326">**距離標尺：**</span><span class="sxs-lookup"><span data-stu-id="0257a-326">**Distance scale.**</span></span> <span data-ttu-id="0257a-327">您可以顯示一個距離標尺。</span><span class="sxs-lookup"><span data-stu-id="0257a-327">You can display one distance scale.</span></span> <span data-ttu-id="0257a-328">距離標尺會同時以公里和英哩顯示目前地圖檢視的標尺。</span><span class="sxs-lookup"><span data-stu-id="0257a-328">The distance scale displays a scale for the current map view in both kilometers and miles.</span></span>  
  
 <span data-ttu-id="0257a-329">您可以將圖例、色階與距離標尺放在檢視區內部或外部的離散位置。</span><span class="sxs-lookup"><span data-stu-id="0257a-329">You can position the legends, color scale, and distance scale in discrete locations inside or outside the viewport.</span></span> <span data-ttu-id="0257a-330">如需詳細資訊，請參閱 [變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="0257a-330">For more information, see [Change Map Legends, Color Scale, and Associated Rules &#40;Report Builder and SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md).</span></span>  
  
  
  
##  <a name="troubleshooting-maps"></a><a name="Troubleshooting"></a><span data-ttu-id="0257a-331">對應的疑難排解</span><span class="sxs-lookup"><span data-stu-id="0257a-331">Troubleshooting Maps</span></span>  
 <span data-ttu-id="0257a-332">地圖報表會使用來自各種資料來源的空間資料與分析資料。</span><span class="sxs-lookup"><span data-stu-id="0257a-332">Map reports use spatial and analytical data from a variety of data sources.</span></span> <span data-ttu-id="0257a-333">每個地圖圖層都可以使用不同的資料來源。</span><span class="sxs-lookup"><span data-stu-id="0257a-333">Each map layer can use different sources of data.</span></span> <span data-ttu-id="0257a-334">根據圖層屬性、規則、地圖元素屬性，每個圖層的顯示屬性都會遵循特定的程序。</span><span class="sxs-lookup"><span data-stu-id="0257a-334">The display properties for each layer follow a specific precedence based on layer properties, rules, map element properties.</span></span>  
  
 <span data-ttu-id="0257a-335">檢視地圖報表時，如果看不到您所要的結果，根本原因可能來自各種問題。</span><span class="sxs-lookup"><span data-stu-id="0257a-335">If you do not see the result that you want when you view a map report, the root causes can come from a variety of issues.</span></span> <span data-ttu-id="0257a-336">為了協助您區隔以及了解每一個問題，一次使用一個圖層會有協助。</span><span class="sxs-lookup"><span data-stu-id="0257a-336">To help you isolate and understand each issue, it helps to work with one layer at a time.</span></span> <span data-ttu-id="0257a-337">使用 [地圖] 窗格選取圖層並輕鬆切換其可見性。</span><span class="sxs-lookup"><span data-stu-id="0257a-337">Use the Map pane to select a layer and easily toggle its visibility.</span></span>  
  
 <span data-ttu-id="0257a-338">如需地圖報表問題的詳細資訊，請參閱 [報表疑難排解：地圖報表 &#40;報表產生器及 SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md)</span><span class="sxs-lookup"><span data-stu-id="0257a-338">For more information about map report issues, see [Troubleshoot Reports: Map Reports &#40;Report Builder and SSRS&#41;](troubleshoot-reports-map-reports-report-builder-and-ssrs.md)</span></span>  
  

  
##  <a name="how-to-topics"></a><a name="HowTo"></a><span data-ttu-id="0257a-339">How To 主題</span><span class="sxs-lookup"><span data-stu-id="0257a-339">How-To Topics</span></span>  
 <span data-ttu-id="0257a-340">本節列出的程序可以為您逐步示範，如何在報表中使用地圖和地圖圖層。</span><span class="sxs-lookup"><span data-stu-id="0257a-340">This section lists procedures that show you, step by step, how to work with maps and map layers in your reports.</span></span>  
  
-   [<span data-ttu-id="0257a-341">加入、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-341">Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;</span></span>](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)  
  
-   [<span data-ttu-id="0257a-342">變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-342">Change Map Legends, Color Scale, and Associated Rules &#40;Report Builder and SSRS&#41;</span></span>](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)  
  
-   [<span data-ttu-id="0257a-343">將自訂位置加入至地圖 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-343">Add Custom Locations to a Map &#40;Report Builder and SSRS&#41;</span></span>](add-custom-locations-to-a-map-report-builder-and-ssrs.md)  
  
 
  
##  <a name="in-this-section"></a><a name="Section"></a> <span data-ttu-id="0257a-344">本節內容</span><span class="sxs-lookup"><span data-stu-id="0257a-344">In This Section</span></span>  
 [<span data-ttu-id="0257a-345">規劃地圖報表 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-345">Plan a Map Report &#40;Report Builder and SSRS&#41;</span></span>](plan-a-map-report-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-346">地圖精靈與地圖圖層精靈 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-346">Map Wizard and Map Layer Wizard &#40;Report Builder and SSRS&#41;</span></span>](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-347">自訂地圖或地圖圖層的資料和顯示 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-347">Customize the Data and Display of a Map or Map Layer &#40;Report Builder and SSRS&#41;</span></span>](customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-348">使用規則與分析資料更改多邊形、線條與點顯示 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-348">Vary Polygon, Line, and Point Display by Rules and Analytical Data &#40;Report Builder and SSRS&#41;</span></span>](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)  
  
 [<span data-ttu-id="0257a-349">加入、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-349">Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;</span></span>](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-350">變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-350">Change Map Legends, Color Scale, and Associated Rules &#40;Report Builder and SSRS&#41;</span></span>](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-351">將自訂位置加入至地圖 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-351">Add Custom Locations to a Map &#40;Report Builder and SSRS&#41;</span></span>](add-custom-locations-to-a-map-report-builder-and-ssrs.md)  
  
 [<span data-ttu-id="0257a-352">報表疑難排解：地圖報表 &#40;報表產生器及 SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="0257a-352">Troubleshoot Reports: Map Reports &#40;Report Builder and SSRS&#41;</span></span>](troubleshoot-reports-map-reports-report-builder-and-ssrs.md)  
  
  
