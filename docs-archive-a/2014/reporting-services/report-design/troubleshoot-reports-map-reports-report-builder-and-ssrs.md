---
title: 報表疑難排解：地圖報表 (報表產生器及 SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: a690aec2-056b-40bc-8cab-c694bd2d6d62
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e9279b9cc52aa2a1178fe6093ee56120859b867b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87702437"
---
# <a name="troubleshoot-reports-map-reports-report-builder-and-ssrs"></a><span data-ttu-id="dd5f0-102">報表疑難排解：地圖報表 (報表產生器及 SSRS)</span><span class="sxs-lookup"><span data-stu-id="dd5f0-102">Troubleshoot Reports: Map Reports (Report Builder and SSRS)</span></span>
  <span data-ttu-id="dd5f0-103">當您將地圖或地圖圖層加入至報表時、自訂報表中現有的地圖或地圖圖層時、預覽報表中的地圖時，或發行包含地圖的報表時，在報表中可能會發生與地圖相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-103">Issues with maps in a report might occur when you add a map or map layer to your report, when you customize an existing map or map layer in your report, when you preview a map in a report, or when you publish a report with a map.</span></span> <span data-ttu-id="dd5f0-104">您可以使用本主題來協助疑難排解這些問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-104">Use this topic to help troubleshoot these issues.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="report-definition-size-issues"></a><a name="Embedded"></a><span data-ttu-id="dd5f0-105">報表定義大小問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-105">Report Definition Size Issues</span></span>  
 <span data-ttu-id="dd5f0-106">使用本節協助解決與報表定義大小相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-106">Use this section to help solve issues that relate to report definition size.</span></span>  
  
### <a name="how-do-i-reduce-the-report-definition-size"></a><span data-ttu-id="dd5f0-107">如何縮減報表定義大小？</span><span class="sxs-lookup"><span data-stu-id="dd5f0-107">How do I reduce the report definition size?</span></span>  
 <span data-ttu-id="dd5f0-108">地圖圖層包含從空間資料建立的地圖元素。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-108">A map layer contains map elements that are created from spatial data.</span></span> <span data-ttu-id="dd5f0-109">在某些情況下，地圖元素會內嵌在報表定義中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-109">In some cases, map elements are embedded in the report definition.</span></span> <span data-ttu-id="dd5f0-110">使用下列方式會發生這個情況：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-110">This happens in the following ways:</span></span>  
  
-   <span data-ttu-id="dd5f0-111">如果空間資料的來源來自地圖庫中的地圖或您本機電腦上的 ESRI 形狀檔，則地圖元素會自動內嵌到報表定義中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-111">If the source of spatial data is from a map in the Map Gallery or from an ESRI Shapefile on your local computer, map elements are automatically embedded in the report definition.</span></span>  
  
     <span data-ttu-id="dd5f0-112">如果您將報表發行至報表伺服器，而且有一個本機檔案的空間資料來源參考，則無法在報表處理時擷取空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-112">If you publish a report to the report server and there is a spatial data source reference to a local file, the spatial data cannot be retrieved at report processing time.</span></span> <span data-ttu-id="dd5f0-113">為避免這個問題，地圖資料會內嵌在報表定義中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-113">To avoid this issue, the map data is embedded in the report definition.</span></span>  
  
-   <span data-ttu-id="dd5f0-114">如果您在「地圖精靈」或「圖層精靈」中選取內嵌空間資料的選項，以空間資料為基礎的地圖元素便會內嵌到地圖圖層的報表定義中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-114">In the Map wizard or Layer wizard, if you select the option to embed spatial data, map elements based on the spatial data are embedded in the map layer in the report definition.</span></span>  
  
-   <span data-ttu-id="dd5f0-115">如果您在 [地圖] 窗格中，以滑鼠右鍵按一下圖層，然後按一下其中一個 **[內嵌空間資料]** 選項，以空間資料為基礎的地圖元素便會內嵌到地圖圖層的報表定義中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-115">In the Map pane, if you right-click the layer, and then click one of the **Embed Spatial Data** options, map elements based on the spatial data are embedded in the map layer in the report definition.</span></span>  
  
-   <span data-ttu-id="dd5f0-116">若要從報表定義中移除以 ESRI 形狀檔為基礎的內嵌資料，您必須執行下列操作：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-116">To remove embedded data that is based on an ESRI Shapefile from a report definition, you must do the following:</span></span>  
  
1.  <span data-ttu-id="dd5f0-117">將 ESRI .shp 和 .dbf 檔案上傳或發行至報表伺服器。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-117">Upload or publish the ESRI .shp and .dbf files to the report server.</span></span>  
  
2.  <span data-ttu-id="dd5f0-118">在報表之 [設計] 檢視的 [地圖] 窗格中，選取包含內嵌資料的圖層，然後開啟 **[圖層資料]** 屬性。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-118">In the report, in the Map pane in Design view, select the layer that has embedded data, and open the **Layer Data** properties.</span></span> <span data-ttu-id="dd5f0-119">在 **[使用以下來源的空間資料]** 中，選取 **[連結到 ESRI 形狀檔 (.shp)]**，然後瀏覽到報表伺服器上包含 ESRI 形狀檔的資料夾來選取它，然後按一下 [確定]。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-119">In **Use spatial data from**, select **Link to ESRI Shapefile**, and then browse to the folder on the report server that contains the ESRI Shapefiles, select it, and click OK.</span></span>  
  
3.  <span data-ttu-id="dd5f0-120">儲存報表。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-120">Save your report.</span></span> <span data-ttu-id="dd5f0-121">您變更之圖層的內嵌資料已從報表定義中移除。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-121">The embedded data for the layer that you changed has been removed from the report definition.</span></span>  
  
 <span data-ttu-id="dd5f0-122">來自地圖庫之報表中的地圖元素永遠會內嵌在地圖圖層中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-122">Map elements from a report in the Map Gallery will always be embedded in a map layer.</span></span>  
  
  
  
##  <a name="spatial-data-issues"></a><a name="Spatial"></a><span data-ttu-id="dd5f0-123">空間資料問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-123">Spatial Data Issues</span></span>  
 <span data-ttu-id="dd5f0-124">使用本節協助解決與空間資料相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-124">Use this section to help solve issues that relate to spatial data.</span></span>  
  
### <a name="on-the-design-surface-i-see-sample-spatial-data"></a><span data-ttu-id="dd5f0-125">在設計介面上，我看到範例空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-125">On the design surface, I see sample spatial data</span></span>  
 <span data-ttu-id="dd5f0-126">在設計階段，設計介面可能會因為下列原因，顯示範例空間資料的相關訊息：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-126">At design time, the design surface might show the message about sample spatial data for the following reasons:</span></span>  
  
-   <span data-ttu-id="dd5f0-127">空間資料來自 ESRI .shp 檔，但是沒有對應的 .dbf 檔。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-127">Spatial data comes from an ESRI .shp file, but the corresponding .dbf file is not available.</span></span> <span data-ttu-id="dd5f0-128">ESRI 形狀檔通常同時包含內含空間資料的 .shp 檔案和支援檔案 .dbf。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-128">ESRI Shapefiles usually include both a .shp file with spatial data and a support file .dbf.</span></span> <span data-ttu-id="dd5f0-129">請確認 .dbf 檔與 .shp 檔位於相同的目錄中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-129">Verify that the .dbf file is in the same directory as the .shp file.</span></span>  
  
-   <span data-ttu-id="dd5f0-130">空間資料來自資料集，因此查詢的資料連接無效，或目前的認證無效。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-130">Spatial data comes from a dataset and the data connection for the query is not valid or the current credentials are not valid.</span></span>  
  
-   <span data-ttu-id="dd5f0-131">地圖圖層包含屬性和運算式。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-131">The map layer contains a property with an expression.</span></span> <span data-ttu-id="dd5f0-132">在報表執行之前，系統不會評估運算式。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-132">Expressions are not evaluated until the report runs.</span></span> <span data-ttu-id="dd5f0-133">若要查看地圖，您必須預覽報表。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-133">To see the map, you must preview the report.</span></span>  
  
-   <span data-ttu-id="dd5f0-134">空間資料來自擁有特定範圍的資料集。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-134">Spatial data comes from a dataset that has a specific scope.</span></span> <span data-ttu-id="dd5f0-135">例如，如果地圖套疊 (Nested) 在 Tablix 資料區，或地圖將相同的資料集範圍用於分析資料與空間資料，則在報表執行前，系統不會計算資料範圍。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-135">For example, when a map is nested in a tablix data region, or the map uses the same dataset scope for analytical and for spatial data, the data scope is not calculated until the report runs.</span></span>  
  
### <a name="when-i-set-an-offset-for-an-individual-map-element-a-cluster-of-map-elements-move"></a><span data-ttu-id="dd5f0-136">當我針對個別地圖元素設定位移時，地圖元素的叢集移動</span><span class="sxs-lookup"><span data-stu-id="dd5f0-136">When I set an offset for an individual map element, a cluster of map elements move</span></span>  
 <span data-ttu-id="dd5f0-137">空間資料會定義顯示在每個地圖圖層上的地圖元素。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-137">Spatial data defines the map elements that are displayed on each map layer.</span></span> <span data-ttu-id="dd5f0-138">地圖元素可以根據單一點、一組點、單一線條、一組線條、單一多邊形或一組多邊形的空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-138">A map element can be based on spatial data that is a single point, a set of points, a single line, a set of lines, a single polygon, or a set of polygons.</span></span> <span data-ttu-id="dd5f0-139">每一個地圖元素都是一個單位。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-139">Each map element is a unit.</span></span> <span data-ttu-id="dd5f0-140">如果地圖元素包含多個點，而且您移動此元素，則該地圖元素的所有點都會移動。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-140">If a map element contains multiple points, and you move the element, all points for that map element will move.</span></span>  
  
 <span data-ttu-id="dd5f0-141">每一個地圖元素的資料都是由外部來源的空間資料格式所決定。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-141">The data for each map element is determined by the format of the spatial data from the external source.</span></span> <span data-ttu-id="dd5f0-142">例如，當查詢指定了 SQL Server 資料庫內的空間資料時，結果集中的每個資料列都可能包含多組點或線條或多邊形座標。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-142">For example, when a query specifies spatial data from a SQL Server database, each row in the result set can contain multiple sets of point or line or polygon coordinates.</span></span> <span data-ttu-id="dd5f0-143">在結果集中，由單一資料列定義的所有地圖元素都會視為一個單位。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-143">All map elements that are defined by a single row in the result set are treated as a unit.</span></span> <span data-ttu-id="dd5f0-144">如果您想要更改特定座標組的顯示，必須執行下列其中一項操作：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-144">If you want to vary the display of specific sets of coordinates, you must do one of the following:</span></span>  
  
-   <span data-ttu-id="dd5f0-145">變更查詢，以便將座標組當做結果集中的個別資料列傳回。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-145">Change the query to return the coordinate sets as separate rows in the result set.</span></span>  
  
-   <span data-ttu-id="dd5f0-146">選取地圖元素來更改及設定對應的內嵌點、線條或多邊形屬性，其方法是覆寫對應圖層類型的預設顯示屬性。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-146">Select the map elements to vary and set the corresponding embedded point, line, or polygon properties by overriding the default display properties for the corresponding layer type.</span></span>  
  
### <a name="my-layer-that-uses-spatial-data-from-an-esri-shapefile-always-has-embedded-data"></a><span data-ttu-id="dd5f0-147">使用來自 ESRI 形狀檔中空間資料的我的圖層永遠有內嵌的資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-147">My layer that uses spatial data from an ESRI Shapefile always has embedded data.</span></span>  
 <span data-ttu-id="dd5f0-148">為確保包含地圖的報表可以在報表伺服器上執行，ESRI 形狀檔必須可以當做報表伺服器上的資源使用。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-148">To ensure that reports with maps can run on a report server, ESRI Shapefiles must be available as resources on the report server.</span></span> <span data-ttu-id="dd5f0-149">如果您將圖層加入至地圖，並指定位於您本機檔案系統上的形狀檔，則空間資料會自動內嵌至報表中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-149">If you add a layer to a map and specify a Shapefile that is on your local file system, the spatial data is automatically embedded in the report.</span></span>  
  
 <span data-ttu-id="dd5f0-150">若要將內嵌的資料取代成 ESRI 形狀檔的連結，您必須將 .shp 檔及其符合的 .dbf 檔上傳至報表伺服器，然後變更圖層的空間資料來源。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-150">To replace the embedded data with a link to the ESRI Shapefile, you must upload the .shp file and its matching .dbf file to the report server, and then change the source of spatial data for the layer.</span></span>  
  
### <a name="i-renamed-a-data-source-or-dataset-to-a-friendly-name-and-now-no-data-appears-in-my-map"></a><span data-ttu-id="dd5f0-151">我將資料來源或資料集重新命名為易記名稱，因此現在我的地圖中沒有出現任何資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-151">I renamed a data source or dataset to a friendly name and now no data appears in my map.</span></span>  
 <span data-ttu-id="dd5f0-152">當您手動變更任何報表項目的名稱時，系統不會自動更新報表定義。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-152">The report definition is not automatically updated when you manually change the name of any report item.</span></span>  
  
 <span data-ttu-id="dd5f0-153">當您變更資料集的名稱時，必須手動更新參考該資料集的任何資料區或地圖圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-153">When you change the name of a dataset, any data region or map layer that refers to that dataset must be manually updated.</span></span> <span data-ttu-id="dd5f0-154">若要重建資料集的 Tablix、圖表或量測計，選取設計介面上的項目，開啟資料區屬性，然後選取適當資料集的名稱。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-154">To rebind a tablix, chart, or gauge to a dataset, select the item on the design surface, open the data region properties, and select the name of the appropriate dataset.</span></span> <span data-ttu-id="dd5f0-155">若要重建資料集的地圖圖層，選取圖層，開啟圖層屬性，然後選取適當資料集的名稱。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-155">To rebind a map layer to a dataset, select the layer, open the layer properties, and select the name of the appropriate dataset.</span></span>  
  
### <a name="my-spatial-data-contains-nulls-and-empty-strings"></a><span data-ttu-id="dd5f0-156">我的空間資料包含 Nulls 和空字串。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-156">My spatial data contains nulls and empty strings.</span></span>  
 <span data-ttu-id="dd5f0-157">在地圖報表項目的空間資料中，Null 會設為零 (0)，而空字串會設為空白 ("")。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-157">In spatial data for the map report item, nulls are set to zero (0) and empty strings are set to blank ("").</span></span>  
  
 <span data-ttu-id="dd5f0-158">對於來自 SQL Server 資料庫的空間資料，若要變更此行為，您必須變更傳回空間資料的查詢。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-158">For spatial that comes from a SQL Server database, to change this behavior, you must change the query that returns the spatial data.</span></span>  
  
### <a name="my-map-exceeds-the-maximum-number-of-spatial-elements"></a><span data-ttu-id="dd5f0-159">我的地圖超出空間元素的最大數目</span><span class="sxs-lookup"><span data-stu-id="dd5f0-159">My map exceeds the maximum number of spatial elements</span></span>  
 <span data-ttu-id="dd5f0-160">根據預設，一個地圖可以有 20,000 個地圖元素或 1,000,000 個點。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-160">By default, a map can have 20,000 map elements or 1,000,000 points.</span></span> <span data-ttu-id="dd5f0-161">如果您的地圖超出這些限制，您可以使用下列其中一種方法：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-161">If your map exceeds these limits, you can use one of the following approaches:</span></span>  
  
-   <span data-ttu-id="dd5f0-162">移除圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-162">Remove a layer.</span></span>  
  
-   <span data-ttu-id="dd5f0-163">降低地圖解析度。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-163">Decrease the map resolution.</span></span>  
  
-   <span data-ttu-id="dd5f0-164">降低地圖檢視區座標來檢視較小的區域。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-164">Decrease the map viewport coordinates to view a smaller area.</span></span>  
  
-   <span data-ttu-id="dd5f0-165">如果空間資料來自報表資料集，將篩選設定為限制來自資料集的資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-165">If the spatial data comes from a report dataset, set a filter to limit the data from the dataset.</span></span> <span data-ttu-id="dd5f0-166">篩選必須在非空間資料類型的欄位上設定。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-166">The filter must be set on a field that is not a spatial data type.</span></span>  
  
-   <span data-ttu-id="dd5f0-167">如果空間資料來自 SQL Server 資料庫，變更查詢來使用空間功能可將資料限制為較小的區域。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-167">If the spatial data comes from a SQL Server database, change the query to use spatial functions to limit the data to a smaller area.</span></span>  
  
  
  
##  <a name="viewport-center-and-view-issues"></a><a name="Viewport"></a><span data-ttu-id="dd5f0-168">視口中心和視圖問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-168">Viewport Center and View Issues</span></span>  
 <span data-ttu-id="dd5f0-169">使用本節協助解決與檢視區選項相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-169">Use this section to help solve issues that relate to viewport options.</span></span>  
  
### <a name="i-cannot-set-the-center-and-view-on-an-embedded-map-element"></a><span data-ttu-id="dd5f0-170">我無法在內嵌的地圖元素上設定置中與檢視。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-170">I cannot set the center and view on an embedded map element.</span></span>  
 <span data-ttu-id="dd5f0-171">若要將檢視區在特定的地圖元素上置中，您必須在圖層上擁有與分析資料相關的空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-171">To center a viewport on a specific map element, you must have associated the spatial data on a layer with analytical data.</span></span>  
  
### <a name="i-set-the-map-center-and-view-in-my-report-when-i-reopen-the-report-why-isnt-the-map-view-the-same"></a><span data-ttu-id="dd5f0-172">我在報表中設定地圖置中與檢視。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-172">I set the map center and view in my report.</span></span> <span data-ttu-id="dd5f0-173">當我重新開啟報表時，為什麼地圖檢視不一樣了？</span><span class="sxs-lookup"><span data-stu-id="dd5f0-173">When I reopen the report, why isn't the map view the same?</span></span>  
 <span data-ttu-id="dd5f0-174">如果讀取空間資料所需的使用者認證在您開啟報表時無法用於該報表，則會使用預留位置空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-174">If the user credentials that are needed to read spatial data are not available to the report when you open it, placeholder spatial data is used.</span></span> <span data-ttu-id="dd5f0-175">根據針對地圖檢視區設定的置中與縮放選項，地圖檢視可能會在不同的圖層上置中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-175">Depending on the center and zoom options set for the map viewport, the map view might center on a different layer.</span></span>  
  
 <span data-ttu-id="dd5f0-176">若要重新載入空間資料並使用儲存在報表中的地圖檢視置中，以滑鼠右鍵按一下地圖檢視區，然後按一下 **[重新載入]**。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-176">To reload the spatial data and use the map view center saved in the report, right-click the map viewport, and then click **Reload**.</span></span> <span data-ttu-id="dd5f0-177">輸入空間資料來源的認證之後，圖層會載入空間資料，並還原地圖檢視。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-177">After you enter the credentials for the spatial data source, the layer loads the spatial data and the map view is restored.</span></span>  
  
### <a name="the-center-and-view-for-a-map-layer-option-does-not-work"></a><span data-ttu-id="dd5f0-178">地圖圖層選項的置中與檢視沒有作用。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-178">The center and view for a map layer option does not work.</span></span>  
 <span data-ttu-id="dd5f0-179">當檢視區設定為在特定圖層的空間資料上置中，而且檢視的中心似乎不是圖層的中心時，可能會有包含在空間資料中的小島或小區域太小，因此在檢視區中看不到。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-179">When the viewport is set to center on the spatial data for a specific layer, and the center of the view does not appear to be the center for the layer, there are probably small islands or areas that are included in the spatial data that are too small to be seen in the viewport.</span></span> <span data-ttu-id="dd5f0-180">例如，國家 (地區) 的空間資料可能會包含小島或其他小領域做為領域的一部分。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-180">For example, spatial data for a country might include small islands or other small territories as part of the territory.</span></span> <span data-ttu-id="dd5f0-181">檢視區會使用所有空間資料計算圖層的中心。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-181">The viewport uses all spatial data to calculate the center for the layer.</span></span>  
  
 <span data-ttu-id="dd5f0-182">若要覆寫圖層的計算，您可以執行下列其中一項操作：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-182">To override calculations for the layer, you can do one of the following:</span></span>  
  
-   <span data-ttu-id="dd5f0-183">指定檢視區的自訂中心。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-183">Specify a custom center for the viewport.</span></span>  
  
-   <span data-ttu-id="dd5f0-184">變更檢視區的縮放層級來排除您不想要包含的位置。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-184">Change the zoom level for the viewport to eliminate the locations that you do not want to include.</span></span>  
  
-   <span data-ttu-id="dd5f0-185">將空間資料內嵌在報表中，並刪除您不想要包含的位置。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-185">Embed the spatial data in the report and delete the locations that you do not want to include.</span></span>  
  
  
  
##  <a name="layer-issues"></a><a name="Layers"></a><span data-ttu-id="dd5f0-186">圖層問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-186">Layer Issues</span></span>  
 <span data-ttu-id="dd5f0-187">使用本節協助解決與圖層選項相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-187">Use this section to help solve issues that relate to layer options.</span></span>  
  
### <a name="i-do-not-see-one-or-more-layers-in-my-map"></a><span data-ttu-id="dd5f0-188">我在地圖中看不到一個或多個圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-188">I do not see one or more layers in my map.</span></span>  
 <span data-ttu-id="dd5f0-189">您在報表中是否看到地圖圖層，取決於空間資料的可用性、空間資料與分析資料之間的關聯性、空間資料類型與對應的圖層類型、圖層上的可見性與透明度選項，以及圖層繪製順序。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-189">Whether you see a map layer in a report depends on the availability of the spatial data, the relationship between the spatial data and the analytical data, the type of spatial data and the corresponding layer type, the visibility and transparency options on the layer, and the layer drawing order.</span></span> <span data-ttu-id="dd5f0-190">如果您從圖層看不到資料，請檢查下列選項：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-190">If you do not see data from a layer, check the following options:</span></span>  
  
-   <span data-ttu-id="dd5f0-191">**圖層類型與空間資料類型：**</span><span class="sxs-lookup"><span data-stu-id="dd5f0-191">**Layer type and spatial data type.**</span></span> <span data-ttu-id="dd5f0-192">圖層類型僅顯示符合圖層類型的空間資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-192">The layer type displays only spatial data that matches the layer type.</span></span> <span data-ttu-id="dd5f0-193">例如，如果圖層類型為 [點]，但是空間資料為 [線條]，則不會出現任何資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-193">For example, if the layer type is Point but the spatial data is Line, no data will appear.</span></span>  
  
-   <span data-ttu-id="dd5f0-194">**符合欄位值：**</span><span class="sxs-lookup"><span data-stu-id="dd5f0-194">**Match field values.**</span></span> <span data-ttu-id="dd5f0-195">在欄位中，您指定用來讓分析資料與空間資料產生關聯的值，必須唯一識別每個地圖元素。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-195">The values in the fields that you specify to relate analytical data and spatial data must uniquely identify each map element.</span></span> <span data-ttu-id="dd5f0-196">這些欄位必須擁有相同的資料類型。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-196">The fields must have the same data type.</span></span> <span data-ttu-id="dd5f0-197">欄位中的值都必須相同。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-197">The values in the fields must be identical.</span></span> <span data-ttu-id="dd5f0-198">如需詳細資訊，請參閱 [圖例、色階與距離標尺問題](#Legend)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-198">For more information, see [Legend, Color Scale, and Distance Scale Issues](#Legend).</span></span>  
  
-   <span data-ttu-id="dd5f0-199">**圖層順序：**</span><span class="sxs-lookup"><span data-stu-id="dd5f0-199">**Layer order.**</span></span> <span data-ttu-id="dd5f0-200">圖層在 [地圖] 窗格中的順序就是使用報表轉譯器繪製圖層的順序。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-200">The order of layers in the Map pane is the order in which layers are drawn in the report renderer.</span></span> <span data-ttu-id="dd5f0-201">最先繪製之圖層上的空間資料可能會遭到稍後繪製之圖層的空間資料覆寫。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-201">Spatial data on layers which are drawn first might be overwritten by spatial data for layers that are drawn later.</span></span> <span data-ttu-id="dd5f0-202">系統會最先繪製出現在清單頂端的圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-202">Layers that appear at the top of the list are drawn first.</span></span> <span data-ttu-id="dd5f0-203">當您變更圖層在清單中的順序時，就是在變更圖層的繪製順序。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-203">When you change the order layers in the list, you are changing the drawing order of the layers.</span></span>  
  
-   <span data-ttu-id="dd5f0-204">**無關.**</span><span class="sxs-lookup"><span data-stu-id="dd5f0-204">**Transparency.**</span></span> <span data-ttu-id="dd5f0-205">您可以針對每個地圖圖層分別指定透明度。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-205">You can specify the transparency for each map layer independently.</span></span> <span data-ttu-id="dd5f0-206">透明度的預設值會根據您加入圖層的方式而有所不同。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-206">Default values for transparency differ depending on how you add a layer.</span></span> <span data-ttu-id="dd5f0-207">透明度為 0% 時，表示圖層不透明，而且不會透過此圖層顯示其他任何圖層資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-207">A transparency of 0% means the layer is opaque and no other layer data will show through this one.</span></span> <span data-ttu-id="dd5f0-208">若要讓其他資料透過現有的圖層顯示，請將值調整為較高的百分比，就可以提供您想要的效果。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-208">To allow other data to show through an existing layer, adjust the value to a higher percentage that gives you the effect that you want.</span></span>  
  
-   <span data-ttu-id="dd5f0-209">**可視.**</span><span class="sxs-lookup"><span data-stu-id="dd5f0-209">**Visibility.**</span></span> <span data-ttu-id="dd5f0-210">根據地圖檢視區的縮放層級，圖層的可見性為 [Visible]\*\*\*\*、[Hidden]\*\*\*\* 或 [ZoomBased]\*\*\*\*。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-210">Visibility for a layer is either **Visible**, **Hidden**, or **ZoomBased**, based on the zoom level of the map viewport.</span></span> <span data-ttu-id="dd5f0-211">您也可以指定縮放層級的最大與最小範圍。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-211">The maximum and minimum range for zoom level can also be specified.</span></span> <span data-ttu-id="dd5f0-212">可見性可以根據評估為這些值之其中一個的運算式。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-212">Visibility can be based on an expression that evaluates to one of these values.</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="dd5f0-213">您可以在 [地圖] 窗格中切換每個圖層的可見性。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-213">You can toggle visibility for each layer in the Map pane.</span></span> <span data-ttu-id="dd5f0-214">當您要設計每個圖層時，關閉其他所有圖層，就可以判斷問題出在個別圖層還是出在圖層間的透明度問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-214">When you are designing each layer, toggle all other layers off to determine whether the issue is for an individual layer or is for transparency issues among layers.</span></span>  
  
### <a name="i-set-a-filter-on-the-map-layer-and-it-has-no-effect"></a><span data-ttu-id="dd5f0-215">我在地圖圖層上設定了一個篩選，但是沒有作用。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-215">I set a filter on the map layer and it has no effect.</span></span>  
 <span data-ttu-id="dd5f0-216">若要篩選圖層的資料，必須指定篩選運算式中的資料類型。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-216">To filter data for a layer, the data type in the filter expression must be specified.</span></span> <span data-ttu-id="dd5f0-217">請確認您已經指定正確的基礎資料類型，讓篩選方程式可以正確評估指定的條件。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-217">Verify that you have specified the correct underlying data type so that the filter equation correctly evaluates the specified condition.</span></span> <span data-ttu-id="dd5f0-218">如需詳細資訊，請參閱[篩選、分組和排序資料 &#40;報表產生器及&#41;](filter-equation-examples-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-218">For more information, see [Filter Equation Examples &#40;Report Builder and SSRS&#41;](filter-equation-examples-report-builder-and-ssrs.md).</span></span>  
  
##  <a name="legend-color-scale-and-rule-issues"></a><a name="Legend"></a><span data-ttu-id="dd5f0-219">圖例、色階和規則問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-219">Legend, Color Scale, and Rule Issues</span></span>  
 <span data-ttu-id="dd5f0-220">使用本節協助解決與規則、圖例和色階選項相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-220">Use this section to help solve issues that relate to rules, legend, and color scale options.</span></span>  
  
### <a name="how-do-i-control-the-values-in-the-map-legend"></a><span data-ttu-id="dd5f0-221">如何控制地圖圖例中的值？</span><span class="sxs-lookup"><span data-stu-id="dd5f0-221">How do I control the values in the map legend?</span></span>  
 <span data-ttu-id="dd5f0-222">系統會從您針對每個地圖圖層指定的地圖元素類型規則，以及您針對圖例指定的分佈規則，自動決定圖例值。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-222">Legend values are determined automatically from map element type rules that you specify for each map layer and by distribution rules that you specify for the legend.</span></span>  
  
 <span data-ttu-id="dd5f0-223">根據預設，所有規則所產生的所有項目都會顯示在第一個圖例中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-223">By default, all items generated by all rules display in the first legend.</span></span> <span data-ttu-id="dd5f0-224">每個圖層之所有多邊形、線條與點規則的值都會構成組合的圖例範圍。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-224">Values for all polygon, line, and point rules for each layer contribute to the combined legend range.</span></span> <span data-ttu-id="dd5f0-225">若要顯示不同圖例中的項目，您必須先建立多個圖例，然後針對每個規則，指定要將相關項目顯示在哪個圖例中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-225">To display items in different legends, you must first create multiple legends and then, for each rule, specify in which legend to display the related items.</span></span>  
  
 <span data-ttu-id="dd5f0-226">若要讓規則與特定的圖例產生關聯，開啟規則屬性，然後在 [圖例] 頁面上選取要使用之圖例的名稱。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-226">To associate a rule with a specific legend, open the rule properties, and on the Legend page, select the name of the legend to use.</span></span> <span data-ttu-id="dd5f0-227">若要從圖例移除項目，在圖例選項中選取圖例名稱的空白行。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-227">To remove items from a legend, in legend options, select the blank line for the name of the legend.</span></span> <span data-ttu-id="dd5f0-228">如果您要重新命名報表中的圖例元素，必須手動讓每個圖層與適當的圖例項目產生關聯。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-228">If you rename legend elements in the report, you must manually associate each layer with the appropriate legend item.</span></span>  
  
 <span data-ttu-id="dd5f0-229">若要控制每個圖例的標題與內容，請使用規則的 [圖例] 屬性。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-229">To control the title and content for each legend, use the Legend properties for the rule.</span></span> <span data-ttu-id="dd5f0-230">您可以指定要建立的內文區塊數目、變更將值指派給每個內文區塊的計算、設定最小與最大範圍值，以及變更圖例文字的格式。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-230">You can specify how many divisions to create, change the calculations that assign values to each division, set minimum and maximum range values, and change the format of the legend text.</span></span>  
  
 <span data-ttu-id="dd5f0-231">如需詳細資訊，請參閱 [變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-231">For more information, see [Change Map Legends, Color Scale, and Associated Rules &#40;Report Builder and SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md).</span></span>  
  
### <a name="the-rules-that-i-set-do-not-give-the-results-that-i-expect"></a><span data-ttu-id="dd5f0-232">我設定的規則沒有得到預期的結果。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-232">The rules that I set do not give the results that I expect.</span></span>  
 <span data-ttu-id="dd5f0-233">規則會套用到圖層上與地圖元素相關的分析資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-233">Rules apply to the analytical data that is associated with map elements on a layer.</span></span> <span data-ttu-id="dd5f0-234">使用下列清單協助識別與所有色彩規則、大小規則、寬度規則和標記類型規則相關的問題：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-234">Use the following list to help identify issues with all color rules, size rules, width rules, and marker type rules:</span></span>  
  
-   <span data-ttu-id="dd5f0-235">將樣式套用到每個地圖元素 (多邊形、線條、點) 的優先順序為，從最低到最高：圖層屬性；圖層上所有地圖元素的地圖元素屬性；您指定的規則；然後是您指定的值 (對於您選取覆寫選項所針對的內嵌地圖元素)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-235">The precedence for applying style to each map element (polygon, line, point) is, from lowest to highest precedence: layer properties; map element properties for all map elements on the layer; rules that you specify; and then, for embedded map elements that you select the override option for, the values that you specify.</span></span> <span data-ttu-id="dd5f0-236">一旦您為內嵌元素選取覆寫選項之後，即使您稍後將值變更回其原始設定，規則還是不再適用。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-236">Once you select the override option for an embedded element, rules no longer apply, even if you later change values back to their original setting.</span></span>  
  
-   <span data-ttu-id="dd5f0-237">符合欄位問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-237">Match field issues.</span></span> <span data-ttu-id="dd5f0-238">符合欄位允許在地圖元素和分析資料之間進行資料繫結。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-238">Match fields enable data binding between map elements and analytical data.</span></span> <span data-ttu-id="dd5f0-239">對應到符合欄位的分析資料與空間資料欄位必須擁有相同的資料類型與相同的格式。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-239">The spatial data and analytical data fields that correspond to match fields must have the same data type and the same format.</span></span> <span data-ttu-id="dd5f0-240">如果符合欄位沒有完全符合空間資料與分析資料，規則就沒有作用。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-240">If the match field does not exactly match the spatial data and analytical data, the rule has no effect.</span></span> <span data-ttu-id="dd5f0-241">例如，如果空間資料的符合欄位與分析資料的符合欄位相較之下，前者擁有額外的空白或額外的標點符號，則不相符。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-241">For example, if the match field for spatial data has extra blanks or extra punctuation compared to the match field for the analytical data, no match occurs.</span></span>  
  
-   <span data-ttu-id="dd5f0-242">如需詳細資訊，請參閱 [使用規則與分析資料更改多邊形、線條與點顯示 &#40;報表產生器及 SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-242">For more information, see [Vary Polygon, Line, and Point Display by Rules and Analytical Data &#40;Report Builder and SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md).</span></span>  
  
### <a name="what-is-the-value-nan-on-the-color-scale"></a><span data-ttu-id="dd5f0-243">色階上的 NaN 值代表什麼意思？</span><span class="sxs-lookup"><span data-stu-id="dd5f0-243">What is the value NaN on the Color Scale?</span></span>  
 <span data-ttu-id="dd5f0-244">`NaN` 代表「非數字」(Not a Number)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-244">`NaN` stands for Not a Number.</span></span> <span data-ttu-id="dd5f0-245">色階值應為數值。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-245">Color scales values are expected to be numeric.</span></span> <span data-ttu-id="dd5f0-246">針對與色階相關的規則，檢查分佈設定與圖例文字值。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-246">Check the distribution settings and the legend text value for the rules that are associated with the color scale.</span></span> <span data-ttu-id="dd5f0-247">如果您已經建立自訂分佈範圍，請確認您在第一個範圍指定下限，並在最後一個範圍指定上限。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-247">If you created custom distribution ranges, verify that you specified the lower bound on the first range and the upper bound on the last range.</span></span>  
  
### <a name="my-color-scale-does-not-appear-when-i-run-the-report"></a><span data-ttu-id="dd5f0-248">當我執行報表時，我的色階沒有出現。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-248">My color scale does not appear when I run the report.</span></span>  
 <span data-ttu-id="dd5f0-249">當地圖圖層針對整個圖層或針對內嵌的地圖元素指定多邊形、線條或點的色彩規則時，色階會對使用者顯示相關資訊。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-249">The color scale displays information to the user when a map layer specifies color rules for polygons, lines, or points for the whole layer or for embedded map elements.</span></span> <span data-ttu-id="dd5f0-250">如果地圖元素沒有指定任何色彩規則，或者色彩規則透過圖例 (而非色彩地圖) 指定，則色彩地圖不會出現在轉譯的報表中。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-250">If no map element specifies a color rule, or if the color rules specify by using a legend instead of the color map, then the color map does not appear in the rendered report.</span></span>  
  
 <span data-ttu-id="dd5f0-251">若要顯示色階，請針對圖層或內嵌的地圖元素指定色彩規則。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-251">To display the color scale, specify color rules for a layer or an embedded map element.</span></span> <span data-ttu-id="dd5f0-252">如需詳細資訊，請參閱 [變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-252">For more information, see [Change Map Legends, Color Scale, and Associated Rules &#40;Report Builder and SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md).</span></span>  
  
  
  
##  <a name="tile-issues"></a><a name="Tile"></a><span data-ttu-id="dd5f0-253">磚問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-253">Tile Issues</span></span>  
 <span data-ttu-id="dd5f0-254">使用本節協助解決與影像分割背景選項相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-254">Use this section to help solve issues that relate to tile background options.</span></span>  
  
### <a name="i-cannot-see-the-bing-maps-tile-background"></a><span data-ttu-id="dd5f0-255">我看不到 Bing 地圖底圖背景。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-255">I cannot see the Bing maps tile background.</span></span>  
 <span data-ttu-id="dd5f0-256">下列設定會影響 Bing Map 圖格背景顯示在本機預覽中，還是顯示在從報表伺服器執行的報表上：</span><span class="sxs-lookup"><span data-stu-id="dd5f0-256">The following settings affect whether a Bing maps tile background displays in local preview or on a report that runs from the report server:</span></span>  
  
-   <span data-ttu-id="dd5f0-257">地圖底圖圖層必須存在。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-257">The map tile layer must exist.</span></span> <span data-ttu-id="dd5f0-258">在地圖精靈或圖層精靈中，選取 **[加入此地圖檢視的 Bing Maps 背景]**。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-258">In the Map wizard or Layer wizard, select **Add a Bing Maps background for this map view**.</span></span> <span data-ttu-id="dd5f0-259">這樣會針對目前的地圖檢視區檢視置中與縮放層級加入圖格圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-259">This adds a tile layer for the current map viewport view center and zoom level.</span></span> <span data-ttu-id="dd5f0-260">您也可以從 [地圖] 窗格工具列加入圖格圖層。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-260">You can also add a tile layer from the Map pane toolbar.</span></span>  
  
-   <span data-ttu-id="dd5f0-261">檢視區的地圖座標系統必須是 **[地理]**，而非 **[平面]**。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-261">The map coordinate system for the viewport must be **Geographic**, not **Planar**.</span></span>  
  
-   <span data-ttu-id="dd5f0-262">地圖投射必須為 **[Mercator]**。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-262">The map projection must be **Mercator**.</span></span>  
  
-   <span data-ttu-id="dd5f0-263">對於本機預覽，您必須擁有網際網路存取權。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-263">For local preview, you must have internet access.</span></span> <span data-ttu-id="dd5f0-264">對於從報表伺服器執行的報表，必須將報表伺服器設定為支援影像分割背景。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-264">For a report that runs from the report server, the report server must be configure to support tile background.</span></span> <span data-ttu-id="dd5f0-265">如需詳細資訊，請參閱《SQL Server 線上叢書》中 [Reporting Services 文件集](https://go.microsoft.com/fwlink/?linkid=121312) 的＜規劃地圖支援＞。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-265">For more information, see "Planning for Map Support" in the [Reporting Services documentation](https://go.microsoft.com/fwlink/?linkid=121312) in SQL Server Books Online.</span></span>  
  
 <span data-ttu-id="dd5f0-266">如需新增圖格圖層的詳細資訊，請參閱[新增、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-266">For more information about adding a tile layer, see [Add, Change, or Delete a Map or Map Layer &#40;Report Builder and SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md).</span></span>  
  
### <a name="how-do-i-control-the-text-on-a-tile-layer"></a><span data-ttu-id="dd5f0-267">如何控制影像分割圖層上的文字？</span><span class="sxs-lookup"><span data-stu-id="dd5f0-267">How do I control the text on a tile layer?</span></span>  
 <span data-ttu-id="dd5f0-268">**[道路]** 與 **[混合式]** 檢視都包含文字。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-268">Both **Road** and **Hybrid** views include text.</span></span> <span data-ttu-id="dd5f0-269">文字是來自 Bing Map Web 服務之影像分割的一部分。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-269">The text is part of the tiles that come from Bing Maps Web Services.</span></span>  
  
 <span data-ttu-id="dd5f0-270">若要加入沒有文字的影像分割圖層，選取 **[空中]** 檢視。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-270">To include a tile layer without text, select **Aerial** view.</span></span>  
  
  
  
##  <a name="tooltip-and-label-issues"></a><a name="Tooltip"></a><span data-ttu-id="dd5f0-271">工具提示和標籤問題</span><span class="sxs-lookup"><span data-stu-id="dd5f0-271">ToolTip and Label Issues</span></span>  
 <span data-ttu-id="dd5f0-272">使用本節協助解決與標籤或工具提示選項相關的問題。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-272">Use this section to help solve issues that relate to label or ToolTip options.</span></span>  
  
### <a name="i-get-an-expression-error-about-dataset-scope-when-i-set-a-label-or-tooltip-to-an-expression"></a><span data-ttu-id="dd5f0-273">當我將標籤或工具提示設定為運算式時，出現有關資料集範圍的運算式錯誤。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-273">I get an expression error about dataset scope when I set a label or ToolTip to an expression.</span></span>  
 <span data-ttu-id="dd5f0-274">當您的空間資料來自地圖庫或 ESRI 形狀檔時，相關的資料不是報表資料集的一部分。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-274">When your spatial data comes from a map gallery or an ESRI Shapefile, the associated data is not part of a report dataset.</span></span> <span data-ttu-id="dd5f0-275">您無法將運算式語法用於資料集欄位參考，來為標籤或工具提示指定這個資料。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-275">You cannot use expression syntax for a dataset field reference to specify this data for a label or tooltip.</span></span>  
  
 <span data-ttu-id="dd5f0-276">若要指定與非報表資料集一部分之空間資料相關的資料，您必須使用符號 #，後面接著一個指定資料名稱的標籤。</span><span class="sxs-lookup"><span data-stu-id="dd5f0-276">To specify data that is related to spatial data that is not part of a report dataset, you must use the symbol # followed by a label that specifies the name of the data.</span></span>  
  
  
  
## <a name="see-also"></a><span data-ttu-id="dd5f0-277">另請參閱</span><span class="sxs-lookup"><span data-stu-id="dd5f0-277">See Also</span></span>  
 <span data-ttu-id="dd5f0-278">[地圖 &#40;報表產生器及 SSRS&#41;](maps-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="dd5f0-278">[Maps &#40;Report Builder and SSRS&#41;](maps-report-builder-and-ssrs.md) </span></span>  
 [<span data-ttu-id="dd5f0-279">疑難排解報表產生器</span><span class="sxs-lookup"><span data-stu-id="dd5f0-279">Troubleshoot Report Builder</span></span>](../troubleshoot-report-builder.md)  
  
  
