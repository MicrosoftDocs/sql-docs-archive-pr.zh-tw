---
title: 自訂地圖或地圖圖層的資料和顯示 (報表產生器及 SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
f1_keywords:
- "10521"
- sql12.rtp.rptdesigner.shared.shadowdv.f1
- "10515"
- "10512"
- "10520"
- "10523"
- sql12.rtp.rptdesigner.mapgroupproperties.variables.f1
- sql12.rtp.rptdesigner.mapgroupproperties.filter.f1
- sql12.rtp.rptdesigner.shared.number.f1
- sql12.rtp.rptdesigner.shared.font.f1
- sql12.rtp.rptdesigner.mapgroupproperties.general.f1
- "10507"
ms.assetid: fdd9b994-d138-4990-a291-279b0249eb72
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 05987cea7ebde9d3587ade3f567eeb8ccef5e8fb
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87704945"
---
# <a name="customize-the-data-and-display-of-a-map-or-map-layer-report-builder-and-ssrs"></a>自訂地圖或地圖圖層的資料和顯示 (報表產生器及 SSRS)
  使用精靈將地圖或地圖圖層加入至報表之後，您可能會想要變更地圖在報表中的外觀。 您可以考慮下列構想來進行改善：  
  
-   若要協助您的使用者了解如何解譯地圖上的資料顯示，您可以加入圖例、色階、標籤，以及工具提示。  
  
-   若要讓地圖更容易讀取，請變更置中與縮放層級、加入距離標尺，並顯示背景方格。  
  
-   若要在您執行報表時協助控制地圖繪製時間，您可以調整解析度來簡化地圖元素。  
  
-   您可以將地圖元素內嵌在報表定義中，然後變更個別元素顯示的方式。 例如，您可以使用圖釘顯示主要辦公室位置，並使用圓形顯示其他辦公室位置。  
  
-   您可以藉由指定自己的資料群組運算式，加入自訂區域。  
  
-   您可以在包含內嵌點之地圖圖層上指定的點加入自訂位置。 您可以設定值，並從點圖層上的其他點個別顯示自訂點的屬性。  
  
-   若要提供更多細節，您可以在每個圖層上加入地圖元素的連結，使用者按一下這些連結，便可開啟相關的報表。  
  
 如需改善報表的更多想法，請參閱[規劃報表 &#40;報表產生器&#41;](planning-a-report-report-builder.md)。  
  
 顯示選項會影響檢視報表時地圖或部分地圖顯示的方式。 有些選項可控制地圖的外觀，例如，框線和字型，或是在地圖上表示的區域。 有些選項則控制每個圖層的內容，例如，泡泡地圖大小、標記類型、標籤或工具提示。  
  
 地圖報表項目包含下列部分：地圖本身、地圖檢視區、一組標題、一組圖例 (圖例、色階和距離標尺)、一組圖層、每個圖層 (多邊形或線條或點) 上的一組地圖元素。 使用下列幾節中的資訊了解控制地圖不同部分之顯示選項的屬性對話方塊。  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
##  <a name="change-options-for-the-map"></a><a name="Map"></a> 變更地圖的選項  
 在地圖報表項目上，您可以控制下列項目：  
  
-   加入多個標題。  
  
-   加入多個圖例。 若要變更圖例的內容，您需要建立其他圖例，然後變更規則以指定要在哪個圖例中輸入每個規則所建立的圖例項目。  
  
-   加入更多圖層。  
  
-   隱藏或顯示距離標尺或色階。  
  
-   指定陰影以提供深度的幻影。  
  
 若要變更這些選項，以滑鼠右鍵按一下地圖、按一下 [地圖]  ，然後變更這些選項。  
  
 
  
##  <a name="change-options-for-the-viewport"></a><a name="Viewport"></a> 變更檢視區的選項  
 使用檢視區選項來變更出現在報表中之地圖的檢視。  
  
 空間資料來源所提供的區域可能會比您需要在報表中顯示的空間還多。 您可以使用檢視區設定置中、縮放層級，以及裁剪地圖的區域。  
  
 您可以為檢視區設定下列選項：  
  
-   選擇座標系統，並針對地理座標系統選擇投射。  
  
-   選擇地圖的中心。  
  
-   裁剪地圖的檢視。  
  
-   設定縮放層級。  
  
-   解析度與簡化 在繪製時間與線條和多邊形的詳細外框之間選擇一個平衡點。  
  
 若要變更這些選項，以滑鼠右鍵按一下地圖檢視區，然後使用 [地圖檢視區屬性對話方塊、一般](../map-viewport-properties-dialog-box-general.md) 頁面與相關的頁面。  
  

  
##  <a name="change-options-for-the-legends"></a><a name="Legends"></a> 變更圖例的選項  
 圖例可協助使用者解譯地圖上的資料。  
  
 根據預設，您為圖層指定的所有規則都會將項目加入至第一個圖例中。 此外，所有色彩規則都會顯示色階中的值。  
  
-   若要變更圖例外觀的顯示選項，包括其相對於檢視區的位置，請針對圖例本身設定選項。  
  
-   若要變更圖例內容或圖例內容的格式，請針對圖層的對應規則變更圖例選項。  
  
 如需詳細資訊，請參閱 [變更地圖圖例、色階與相關的規則 &#40;報表產生器及 SSRS&#41;](change-map-legends-color-scale-and-associated-rules-report-builder-and-ssrs.md)。  
  

  
##  <a name="change-options-for-the-layer"></a><a name="Layer"></a> 變更圖層的選項  
 若要顯示地圖的圖層，按一下該地圖來選取它。 [地圖] 窗格隨即出現。 若要變更圖層的選項，以滑鼠右鍵按一下圖層，然後使用快速鍵功能表。  
  
 根據空間資料來源傳回的空間資料，圖層可以是以下三個類型之一：多邊形圖層、線條圖層與點圖層。  
  
 您可以為圖層設定下列選項：  
  
-   相關的分析資料與符合欄位。 空間資料的來源會列在 [地圖] 窗格的圖層名稱之下。 如果來源是內嵌的，圖層的地圖元素是報表定義的一部分。 如果來源不是內嵌的，則會在執行階段擷取空間資料，而且報表處理器會在處理報表時建立圖層的地圖元素。 若要變更圖層上的資料選項，請使用 [地圖圖層] 對話方塊中的 [分析資料] 頁面。  
  
-   圖層繪製順序。 您看到圖層在 [地圖] 窗格中列出的順序，就是圖層的反向繪製順序。 系統會先繪製清單中的最後一個圖層。 例如，如果您希望點圖層上的點出現在多邊形圖層中的多邊形上方，點圖層應該是第一個，而多邊形圖層則是第二個。  
  
-   圖層可見性，包括透明度。 若要讓某個圖層透過另一個圖層顯示，請將透明度設定為高於 0 的值。 值為 100% 時，表示看不到圖層。 若要處理個別的圖層，您可以使用 [地圖] 窗格中的 [可見度]  圖示，輕鬆地個別顯示或隱藏每個圖層。 您也可以設定縮放層級選項來指定根據縮放層級顯示或隱藏圖層上之地圖元素的時機。  
  
-   針對目前的檢視區置中與縮放層級加入 Bing 地圖底圖圖層。 您不需要為圖格圖層指定地理座標。 當座標系統為 [地理]、投射為 [Mercator]、Bing Map 伺服器可以使用，而且已經將報表伺服器設定為支援此功能時，系統會自動載入圖格以符合檢視區。 您可以針對每個報告指定是否要使用安全連線來擷取圖格。  
  
 如需圖層的詳細資訊，請參閱[加入、變更或刪除地圖或地圖圖層 &#40;報表產生器及 SSRS&#41;](add-change-or-delete-a-map-or-map-layer-report-builder-and-ssrs.md)。  
  
##  <a name="change-data-grouping-for-the-layer"></a><a name="DataGrouping"></a> 變更圖層的資料群組  
 您可以自訂形狀空間資料的彙總方式。 若要設定圖層的群組屬性，請選取 [地圖] 窗格中的圖層，在圖層的 [屬性] 窗格中按一下 [群組]  ，然後按一下省略符號 (...) 開啟 [群組屬性]。 在這個對話方塊中，您可以指定群組運算式、建立群組變數，以及篩選用於群組的資料。  
  
 群組運算式會指定與空間資料具有關聯性的分析資料如何針對圖層上的每個地圖元素進行彙總。 根據預設，群組運算式是針對空間資料與分析資料之間的關聯性指定的一組符合欄位組。 例如，對於顯示國家或地區之城市位置和人口數多寡的泡泡地圖，符合欄位包含城市名稱 [City] 和地區名稱 [Region]，因為可能會有多個城市擁有相同的名稱。 對應的群組運算式包含兩個欄位：[City] 和 [Region]。  
  
 如需詳細資訊，請參閱 [Map Tips: How To Import Shapefiles Into SQL Server and Aggregate Spatial Data](https://go.microsoft.com/fwlink/?LinkID=214991)(地圖提示：如何將形狀檔匯入 SQL Server 及彙總空間資料中)。  
  
 
  
##  <a name="change-options-for-the-map-elements-on-the-layer"></a><a name="MapElements"></a> 變更圖層上地圖元素的選項  
 在以空間資料為基礎的圖層上，地圖元素為點、線條或多邊形。 您可以為地圖元素設定下列選項。 不會是否內嵌地圖元素，這些選項都會套用到圖層上的所有地圖元素：  
  
-   標籤、標籤可見性、標籤位移與格式。  
  
-   框線和填滿。  
  
-   鑽研動作。  
  
-   顯示選項。  
  
 地圖元素的顯示選項會根據圖層、地圖元素、地圖元素的規則，以及內嵌地圖元素的覆寫選項，遵循其優先順序。  
  
 若要變更這些選項，以滑鼠右鍵按一下地圖元素，然後使用內嵌屬性對話方塊。 例如，若是內嵌的多邊形，請使用 [地圖內嵌的多邊形屬性] 對話方塊的 [一般] 頁面以及相關的頁面。  
  

  
##  <a name="understanding-display-option-precedence"></a><a name="Precedence"></a> 了解顯示選項優先順序  
 當您想要控制地圖圖層上點、線條或多邊形的顯示外觀時，您必須了解可以設定顯示選項的位置，以及哪些選項擁有較高的優先順序。 下列顯示選項會從最低到最高依序列出。 此清單中優先順序較高的顯示選項會覆寫優先順序較低的選項：  
  
-   圖層選項。  
  
-   每個圖層上的點、線條或多邊形選項。 不管處理報表時是否動態擷取地圖元素，也不管這些地圖元素是否內嵌在報表定義中，這都適用。 例如，您可以為圖層上的所有元素指定填滿色彩。  
  
-   規則。 您可以設定規則來控制圖層上所有地圖元素的色彩、大小、寬度或標記類型。 您可以設定的規則取決於地圖圖層的類型。  
  
    -   色彩規則。 適用於點、線條、多邊形的標記，以及多邊形中心點的標記。  
  
    -   大小規則。 適用於點的標記，以及多邊形中心點的標記。  
  
    -   寬度規則。 適用於線條寬度。  
  
    -   標記類型規則。 適用於點的標記，以及多邊形中心點的標記。  
  
-   圖層上個別內嵌點、線條或多邊形的覆寫選項。 您所做的變更是永久的。 若要還原這些變更，您必須重新載入圖層的資料。  
  
 如需詳細資訊，請參閱 [使用規則與分析資料更改多邊形、線條與點顯示 &#40;報表產生器及 SSRS&#41;](vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)。  
  

  
## <a name="see-also"></a>另請參閱  
 [地圖精靈與地圖圖層精靈 &#40;報表產生器及 SSRS&#41;](map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)   
 [地圖 &#40;報表產生器及 SSRS&#41;](maps-report-builder-and-ssrs.md)  
  
  
