---
title: 安裝 Reporting Services 並 Internet Information Services 並存 (SSRS 原生模式) |Microsoft Docs
ms.custom: ''
ms.date: 04/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- deploying [Reporting Services], IIS
ms.assetid: 9b651fa5-f582-4f18-a77d-0dde95d9d211
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: c16bb8e5cd8fd040e0048c17183d69bae68268ec
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87686842"
---
# <a name="install-reporting-services-and-internet-information-services-side-by-side-ssrs-native-mode"></a><span data-ttu-id="59eba-102">並存安裝 Reporting Services 和 Internet Information Services (SSRS 原生模式)</span><span class="sxs-lookup"><span data-stu-id="59eba-102">Install Reporting Services and Internet Information Services Side-by-Side (SSRS Native Mode)</span></span>
  <span data-ttu-id="59eba-103">您可以 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 在同一部電腦上安裝和執行 (SSRS) 和 INTERNET INFORMATION SERVICES (IIS) 。</span><span class="sxs-lookup"><span data-stu-id="59eba-103">You can install and run [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] (SSRS) and Internet Information Services (IIS) on the same computer.</span></span> <span data-ttu-id="59eba-104">您所使用的 IIS 版本會決定必須處理的互通性問題。</span><span class="sxs-lookup"><span data-stu-id="59eba-104">The version of IIS that you are using determines the interoperability issues you must address.</span></span>  
  
||  
|-|  
|[!INCLUDE[applies](../../includes/applies-md.md)]<span data-ttu-id="59eba-105">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]原生模式</span><span class="sxs-lookup"><span data-stu-id="59eba-105">[!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode</span></span>|  
  
|<span data-ttu-id="59eba-106">IIS 版本</span><span class="sxs-lookup"><span data-stu-id="59eba-106">IIS version</span></span>|<span data-ttu-id="59eba-107">問題</span><span class="sxs-lookup"><span data-stu-id="59eba-107">Issues</span></span>|<span data-ttu-id="59eba-108">描述</span><span class="sxs-lookup"><span data-stu-id="59eba-108">Description</span></span>|  
|-----------------|------------|-----------------|  
|<span data-ttu-id="59eba-109">IIS 6.0、7.0、8.0、8.5</span><span class="sxs-lookup"><span data-stu-id="59eba-109">IIS 6.0, 7.0, 8.0, 8.5</span></span>|<span data-ttu-id="59eba-110">適用於某個應用程式的要求被不同的應用程式所接受。</span><span class="sxs-lookup"><span data-stu-id="59eba-110">Requests intended for one application are accepted by a different application.</span></span><br /><br /> <span data-ttu-id="59eba-111">HTTP.SYS 會針對 URL 保留項目強制執行優先順序規則。</span><span class="sxs-lookup"><span data-stu-id="59eba-111">HTTP.SYS enforces precedence rules for URL reservations.</span></span> <span data-ttu-id="59eba-112">如果 URL 保留項目比另一個應用程式的 URL 保留項目更弱，傳送至具有相同虛擬目錄名稱而且共同監視通訊埠 80 之應用程式的要求可能無法送達預期的目標。</span><span class="sxs-lookup"><span data-stu-id="59eba-112">Requests that are sent to applications that have the same virtual directory name and that jointly monitor port 80 might not reach the intended target if the URL reservation is weak relative to the URL reservation of another application.</span></span>|<span data-ttu-id="59eba-113">在特定條件底下，在 URL 保留項目配置中取代另一個 URL 端點的已註冊端點可能會收到適用於其他應用程式的 HTTP 要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-113">Under certain conditions, a registered endpoint that supersedes another URL endpoint in the URL reservation scheme might receive HTTP requests intended for the other application.</span></span><br /><br /> <span data-ttu-id="59eba-114">針對報表伺服器 Web 服務和報表管理員使用唯一的虛擬目錄名稱可協助您避免這項衝突。</span><span class="sxs-lookup"><span data-stu-id="59eba-114">Using unique virtual directory names for the Report Server Web service and Report Manager helps you avoid this conflict.</span></span><br /><br /> <span data-ttu-id="59eba-115">本主題將提供有關這個狀況的詳細資訊。</span><span class="sxs-lookup"><span data-stu-id="59eba-115">Detailed information about this scenario is provided in this topic.</span></span>|  
  
## <a name="precedence-rules-for-url-reservations"></a><span data-ttu-id="59eba-116">URL 保留項目的優先順序規則</span><span class="sxs-lookup"><span data-stu-id="59eba-116">Precedence Rules for URL Reservations</span></span>  
 <span data-ttu-id="59eba-117">在您處理 IIS 與 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]之間的互通性問題之前，必須了解 URL 保留項目的優先順序規則。</span><span class="sxs-lookup"><span data-stu-id="59eba-117">Before you can address interoperability issues between IIS and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], you must understand URL reservation precedence rules.</span></span> <span data-ttu-id="59eba-118">優先順序規則可以歸納成為下列陳述式：具有更多明確定義值的 URL 保留項目會優先接收符合此 URL 的要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-118">Precedence rules can be generalized into the following statement: a URL reservation that has more explicitly defined values is first in line to receive requests that match the URL.</span></span>  
  
-   <span data-ttu-id="59eba-119">指定虛擬目錄的 URL 保留項目會比省略虛擬目錄的 URL 保留項目更明確。</span><span class="sxs-lookup"><span data-stu-id="59eba-119">A URL reservation that specifies a virtual directory is more explicit than one that omits a virtual directory.</span></span>  
  
-   <span data-ttu-id="59eba-120">指定單一位址 (透過 IP 位址、完整網域名稱、網路電腦名稱或主機名稱) 的 URL 保留項目會比萬用字元更明確。</span><span class="sxs-lookup"><span data-stu-id="59eba-120">A URL reservation that specifies a single address (by way of an IP address, a fully qualified domain name, a network computer name, or a host name) is more explicit than a wildcard.</span></span>  
  
-   <span data-ttu-id="59eba-121">指定強式萬用字元的 URL 保留項目會比弱式萬用字元更明確。</span><span class="sxs-lookup"><span data-stu-id="59eba-121">A URL reservation that specifies a strong wildcard is more explicit than a weak wildcard.</span></span>  
  
 <span data-ttu-id="59eba-122">下列範例會顯示 URL 保留項目的範圍，從最明確到最不明確的順序排列：</span><span class="sxs-lookup"><span data-stu-id="59eba-122">The following examples show a range of URL reservations, ordered from most explicit to least explicit:</span></span>  
  
|<span data-ttu-id="59eba-123">範例</span><span class="sxs-lookup"><span data-stu-id="59eba-123">Example</span></span>|<span data-ttu-id="59eba-124">要求</span><span class="sxs-lookup"><span data-stu-id="59eba-124">Request</span></span>|  
|-------------|-------------|  
|<span data-ttu-id="59eba-125">HTTP： \/ /123.234.345.456： 80/reports</span><span class="sxs-lookup"><span data-stu-id="59eba-125">http:\//123.234.345.456:80/reports</span></span>|<span data-ttu-id="59eba-126">\/ \<computername> 如果功能變數名稱服務可以將 IP 位址解析成該主機名稱，則會接收傳送至 HTTP：/123.234.345.456/reports 或 HTTP:///reports 的所有要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-126">Receives all requests that are sent to http:\//123.234.345.456/reports or http://\<computername>/reports if a domain name service can resolve the IP address to that host name.</span></span>|  
|http://+:80/reports|<span data-ttu-id="59eba-127">只要此 URL 包含 "reports" 虛擬目錄名稱，便接收傳送至適用於該電腦之任何 IP 位址或主機名稱的任何要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-127">Receives any requests that are sent to any IP address or host name that is valid for that computer as long as the URL contains the "reports" virtual directory name.</span></span>|  
|<span data-ttu-id="59eba-128">HTTP： \/ /123.234.345.456：80</span><span class="sxs-lookup"><span data-stu-id="59eba-128">http:\//123.234.345.456:80</span></span>|<span data-ttu-id="59eba-129">\/ \<computername> 如果功能變數名稱服務可以將 IP 位址解析成該主機名稱，則會接收指定 HTTP：/123.234.345.456 或 HTTP://的任何要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-129">Receives any request that specifies http:\//123.234.345.456 or http://\<computername> if a domain name service can resolve the IP address to that host name.</span></span>|  
|http://+:80|<span data-ttu-id="59eba-130">若為對應至 [全部指派]\*\*\*\* 的應用程式端點，便接收尚未由其他應用程式接收的要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-130">Receives requests that are not already received by other applications, for any application endpoints that are mapped to **All Assigned**.</span></span>|  
|<span data-ttu-id="59eba-131">http://\*:80</span><span class="sxs-lookup"><span data-stu-id="59eba-131">http://\*:80</span></span>|<span data-ttu-id="59eba-132">若為對應至 [全未指派]\*\*\*\* 的應用程式端點，便接收尚未由其他應用程式接收的要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-132">Receives requests that are not already received by other applications, for application endpoints that are mapped to **All Unassigned**.</span></span>|  
  
 <span data-ttu-id="59eba-133">發生連接埠衝突的其中一個指標是，您將會看到下列錯誤訊息：「System.IO.FileLoadException: 由於已有另一個處理序正在使用該檔案，所以無法存取該檔案。</span><span class="sxs-lookup"><span data-stu-id="59eba-133">One indication of a port conflict is that you will see the following error message: 'System.IO.FileLoadException: The process cannot access the file because it is being used by another process.</span></span> <span data-ttu-id="59eba-134">(來自 HRESULT 的例外狀況: 0x80070020)。」</span><span class="sxs-lookup"><span data-stu-id="59eba-134">(Exception from HRESULT: 0x80070020).'</span></span>  
  
## <a name="url-reservations-for-iis-60-70-80-85-with-sssql14-reporting-services"></a><span data-ttu-id="59eba-135">IIS 6.0、7.0、8.0、8.5 與 [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] Reporting Services 的 URL 保留項目</span><span class="sxs-lookup"><span data-stu-id="59eba-135">URL Reservations for IIS 6.0, 7.0, 8.0, 8.5 with [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] Reporting Services</span></span>  
 <span data-ttu-id="59eba-136">根據上一節所描述的優先順序規則，您可以開始了解針對 Reporting Services 和 IIS 所定義的 URL 保留項目如何提升互通性。</span><span class="sxs-lookup"><span data-stu-id="59eba-136">Given the precedence rules outlined in the previous section, you can begin to understand how URL reservations defined for Reporting Services and IIS promote interoperability.</span></span> <span data-ttu-id="59eba-137">Reporting Services 會接收明確指定其應用程式之虛擬目錄名稱的要求。IIS 會接收所有其餘要求，然後您可以將這些要求導向至 IIS 處理模型內部執行的應用程式。</span><span class="sxs-lookup"><span data-stu-id="59eba-137">Reporting Services receives requests that explicitly specify the virtual directory names for its applications; IIS receives all remaining requests, which can then be directed to applications that run within the IIS process model.</span></span>  
  
|<span data-ttu-id="59eba-138">應用程式</span><span class="sxs-lookup"><span data-stu-id="59eba-138">Application</span></span>|<span data-ttu-id="59eba-139">URL 保留項目</span><span class="sxs-lookup"><span data-stu-id="59eba-139">URL reservation</span></span>|<span data-ttu-id="59eba-140">描述</span><span class="sxs-lookup"><span data-stu-id="59eba-140">Description</span></span>|<span data-ttu-id="59eba-141">要求接收</span><span class="sxs-lookup"><span data-stu-id="59eba-141">Request receipt</span></span>|  
|-----------------|---------------------|-----------------|---------------------|  
|<span data-ttu-id="59eba-142">報表伺服器</span><span class="sxs-lookup"><span data-stu-id="59eba-142">Report Server</span></span>|http://+:80/ReportServer|<span data-ttu-id="59eba-143">通訊埠 80 的強式萬用字元，以及報表伺服器虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="59eba-143">Strong wildcard on port 80, with report server virtual directory.</span></span>|<span data-ttu-id="59eba-144">在通訊埠 80 上接收指定報表伺服器虛擬目錄的所有要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-144">Receives all requests on port 80 that specify the report server virtual directory.</span></span> <span data-ttu-id="59eba-145">報表伺服器 Web 服務會接收 HTTP:///reportserver。的所有要求 \<computername></span><span class="sxs-lookup"><span data-stu-id="59eba-145">The Report Server Web service receives all requests to http://\<computername>/reportserver.</span></span>|  
|<span data-ttu-id="59eba-146">報表管理員</span><span class="sxs-lookup"><span data-stu-id="59eba-146">Report Manager</span></span>|http://+:80/Reports|<span data-ttu-id="59eba-147">通訊埠 80 的強式萬用字元，以及 Reports 虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="59eba-147">Strong wildcard on port 80, with Reports virtual directory.</span></span>|<span data-ttu-id="59eba-148">在通訊埠 80 上接收指定 Reports 虛擬目錄的所有要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-148">Receives all requests on port 80 that specify the reports virtual directory.</span></span> <span data-ttu-id="59eba-149">報表管理員接收 HTTP:///reports。的所有要求 \<computername></span><span class="sxs-lookup"><span data-stu-id="59eba-149">Report Manager receives all requests to http://\<computername>/reports.</span></span>|  
|<span data-ttu-id="59eba-150">IIS</span><span class="sxs-lookup"><span data-stu-id="59eba-150">IIS</span></span>|<span data-ttu-id="59eba-151">http://\*:80/</span><span class="sxs-lookup"><span data-stu-id="59eba-151">http://\*:80/</span></span>|<span data-ttu-id="59eba-152">通訊埠 80 的弱式萬用字元。</span><span class="sxs-lookup"><span data-stu-id="59eba-152">Weak wildcard on port 80.</span></span>|<span data-ttu-id="59eba-153">在通訊埠 80 上接收其他應用程式未接收的任何其餘要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-153">Receives any remaining requests on port 80 that are not received by another application.</span></span>|  
  
## <a name="side-by-side-deployments-of-sscurrent-and-sql-server-2005-reporting-services-on-iis-60-70-80-85"></a><span data-ttu-id="59eba-154">在 IIS 6.0、7.0、8.0、8.5 上並存部署 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 與 SQL Server 2005 Reporting Services</span><span class="sxs-lookup"><span data-stu-id="59eba-154">Side-by-Side Deployments of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] and SQL Server 2005 Reporting Services on IIS 6.0, 7.0, 8.0, 8.5</span></span>  
 <span data-ttu-id="59eba-155">當 IIS 網站的虛擬目錄名稱與 Reporting Services 所使用的虛擬目錄名稱完全相同時，IIS 與 Reporting Services 之間就會發生互通性問題。</span><span class="sxs-lookup"><span data-stu-id="59eba-155">Interoperability issues between IIS and Reporting Services occur when IIS Web sites have virtual directory names that are identical to those used by Reporting Services.</span></span> <span data-ttu-id="59eba-156">例如，假設您有下列組態：</span><span class="sxs-lookup"><span data-stu-id="59eba-156">For example, suppose you have the following configuration:</span></span>  
  
-   <span data-ttu-id="59eba-157">指派至通訊埠 80 以及名為 "Reports" 之虛擬目錄的 IIS 網站。</span><span class="sxs-lookup"><span data-stu-id="59eba-157">A Web site in IIS that is assigned to port 80 and a virtual directory named "Reports".</span></span>  
  
-   <span data-ttu-id="59eba-158">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]安裝在預設設定中的報表伺服器實例，其中 URL 保留專案也會指定埠80，而報表管理員應用程式也會針對虛擬目錄名稱使用「報告」。</span><span class="sxs-lookup"><span data-stu-id="59eba-158">A [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server instance installed in the default configuration, where the URL reservation also specifies port 80 and the Report Manager application also uses "Reports" for the virtual directory name.</span></span>  
  
 <span data-ttu-id="59eba-159">若已指定此設定，則會報表管理員接收傳送至 HTTP:// \<computername> ： 80/reports 的要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-159">Given this configuration, a request that is sent to http://\<computername>:80/reports will be received by Report Manager.</span></span> <span data-ttu-id="59eba-160">安裝了 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 報表伺服器執行個體之後，透過 IIS 中 Reports 虛擬目錄存取的應用程式將不會再接收要求。</span><span class="sxs-lookup"><span data-stu-id="59eba-160">The application that is accessed through the Reports virtual directory in IIS will no longer receive requests after [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] report server instance is installed.</span></span>  
  
 <span data-ttu-id="59eba-161">如果您要執行舊版與新版 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]的並存部署，可能會遇到上述路由傳送的問題。</span><span class="sxs-lookup"><span data-stu-id="59eba-161">If you are running side-by-side deployments of older and newer versions of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], you are likely to encounter the routing problem just described.</span></span> <span data-ttu-id="59eba-162">這是因為所有 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 版本都會使用 "ReportServer" 和 "Reports" 當做報表伺服器與報表管理員應用程式的虛擬目錄名稱，因而增加您在 IIS 中設有 "reports" 和 "reportserver" 虛擬目錄的可能性。</span><span class="sxs-lookup"><span data-stu-id="59eba-162">This is because all versions of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] use "ReportServer" and "Reports" as virtual directory names for the report server and Report Manager applications, increasing the likelihood that you will have a "reports" and "reportserver" virtual directories in IIS.</span></span>  
  
 <span data-ttu-id="59eba-163">為了確保所有應用程式都會接收要求，請遵循下列指導方針：</span><span class="sxs-lookup"><span data-stu-id="59eba-163">To ensure that all applications receive requests, follow these guidelines:</span></span>  
  
-   <span data-ttu-id="59eba-164">針對 Reporting Services 安裝，請使用 IIS 網站與 Reporting Services 在相同通訊埠上尚未使用的虛擬目錄名稱。</span><span class="sxs-lookup"><span data-stu-id="59eba-164">For Reporting Services installations, use virtual directory names that are not already used by an IIS Web site on the same port as Reporting Services.</span></span> <span data-ttu-id="59eba-165">如果發生衝突，請以「僅限檔案」模式安裝 Reporting Services (使用「安裝」，但不要在安裝精靈中設定伺服器選項)，以便您可以在安裝完成之後設定虛擬目錄。</span><span class="sxs-lookup"><span data-stu-id="59eba-165">If there is a conflict, install Reporting Services in "files-only" mode (using the Install but do not configure the server option in the Installation Wizard) so that you can configure the virtual directories after Setup is finished.</span></span> <span data-ttu-id="59eba-166">組態發生衝突的其中一個指標是，您將會看到下列錯誤訊息：System.IO.FileLoadException: 由於已有另一個處理序正在使用該檔案，所以無法存取該檔案。</span><span class="sxs-lookup"><span data-stu-id="59eba-166">One indication that your configuration has a conflict is you will see the error message: System.IO.FileLoadException: The process cannot access the file because it is being used by another process.</span></span> <span data-ttu-id="59eba-167">(來自 HRESULT 的例外狀況: 0x80070020)。</span><span class="sxs-lookup"><span data-stu-id="59eba-167">(Exception from HRESULT: 0x80070020).</span></span>  
  
-   <span data-ttu-id="59eba-168">針對手動設定的安裝，請在設定的 URL 中採用預設命名慣例。</span><span class="sxs-lookup"><span data-stu-id="59eba-168">For installations that you configure manually, adopt the default naming conventions in the URLs that configure.</span></span> <span data-ttu-id="59eba-169">如果您將 [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] 安裝成具名執行個體，請在建立虛擬目錄時加入執行個體名稱。</span><span class="sxs-lookup"><span data-stu-id="59eba-169">If you install [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)] as a named instance, include the instance name when creating a virtual directory.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="59eba-170">另請參閱</span><span class="sxs-lookup"><span data-stu-id="59eba-170">See Also</span></span>  
 <span data-ttu-id="59eba-171">[設定報表伺服器 URL &#40;SSRS 組態管理員&#41;](configure-report-server-urls-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="59eba-171">[Configure Report Server URLs  &#40;SSRS Configuration Manager&#41;](configure-report-server-urls-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="59eba-172">[設定 SSRS Configuration Manager &#40;的 URL&#41;](configure-a-url-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="59eba-172">[Configure a URL  &#40;SSRS Configuration Manager&#41;](configure-a-url-ssrs-configuration-manager.md) </span></span>  
 [<span data-ttu-id="59eba-173">安裝 Reporting Services 原生模式報表伺服器</span><span class="sxs-lookup"><span data-stu-id="59eba-173">Install Reporting Services Native Mode Report Server</span></span>](install-reporting-services-native-mode-report-server.md)  
  
  
