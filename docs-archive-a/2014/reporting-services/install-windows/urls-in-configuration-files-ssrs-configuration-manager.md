---
title: 設定檔中的 URL (SSRS 設定管理員) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- URL configuration [Reporting Services]
ms.assetid: 4f5e7fe0-b5b1-4665-93d4-80dce12d6b14
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 19b4c49d8a02d07797ea4b97a4eb4f9981343226
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/04/2020
ms.locfileid: "87585131"
---
# <a name="urls-in-configuration-files--ssrs-configuration-manager"></a><span data-ttu-id="c92e3-102">組態檔中的 URL (SSRS 組態管理員)</span><span class="sxs-lookup"><span data-stu-id="c92e3-102">URLs in Configuration Files  (SSRS Configuration Manager)</span></span>
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="c92e3-103">會將應用程式設定儲存在 RSReportServer.config 檔案中。</span><span class="sxs-lookup"><span data-stu-id="c92e3-103">stores application settings in a RSReportServer.config file.</span></span> <span data-ttu-id="c92e3-104">在這個檔案中，URL 和 URL 保留項目都有組態設定。</span><span class="sxs-lookup"><span data-stu-id="c92e3-104">Within this file, there are configuration settings for both URLs and URL reservations.</span></span> <span data-ttu-id="c92e3-105">這些組態設定的用途與修改規則大不相同。</span><span class="sxs-lookup"><span data-stu-id="c92e3-105">These configuration settings have very different purposes and rules for modification.</span></span> <span data-ttu-id="c92e3-106">如果您習慣修改組態檔來微調部署，本主題將可幫助您了解每一個 URL 設定的使用方式。</span><span class="sxs-lookup"><span data-stu-id="c92e3-106">If you are accustomed to modifying configuration files to tune a deployment, this topic can help you understand how each URL setting is used.</span></span>  
  
## <a name="url-settings-in-rsreportserverconfig-file"></a><span data-ttu-id="c92e3-107">RSReportServer.config 檔案中的 URL 設定</span><span class="sxs-lookup"><span data-stu-id="c92e3-107">URL Settings in RSReportServer.config File</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="c92e3-108">會儲存 URL 以供應用程式和報表存取，並可將 Web 前端元件連接到後端報表伺服器。</span><span class="sxs-lookup"><span data-stu-id="c92e3-108">stores URLs for application and report access, and to connect Web front-end components to a back-end report server.</span></span>  
  
#### <a name="urls-for-application-access"></a><span data-ttu-id="c92e3-109">供應用程式存取的 URL</span><span class="sxs-lookup"><span data-stu-id="c92e3-109">URLs for Application Access</span></span>  
 <span data-ttu-id="c92e3-110">URL 是用來存取報表伺服器 Web 服務和報表管理員。</span><span class="sxs-lookup"><span data-stu-id="c92e3-110">URLs are used to access the Report Server Web service and Report Manager.</span></span> <span data-ttu-id="c92e3-111">若要設定 URL，您必須使用 Reporting Services 組態工具。</span><span class="sxs-lookup"><span data-stu-id="c92e3-111">To configure the URLs, you must use the Reporting Services Configuration tool.</span></span> <span data-ttu-id="c92e3-112">此工具會在 HTTP.SYS 中建立每一個應用程式的 URL 保留項目，並將 URL 的項目加入 RSReportServer.config 的 `URLReservations` 區段。</span><span class="sxs-lookup"><span data-stu-id="c92e3-112">The tool creates the URL reservations for each application in HTTP.SYS and adds entries for the URLs in the `URLReservations` section of RSReportServer.config.</span></span>  
  
-   <span data-ttu-id="c92e3-113">若要查看區段中每個元素的描述 `URLReservations` ，請參閱《線上叢書》中的[Rsreportserver.config 設定檔](../report-server/rsreportserver-config-configuration-file.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="c92e3-113">To view descriptions of each element in the `URLReservations` section, see [RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
-   <span data-ttu-id="c92e3-114">如需僅限元素之語法的詳細資訊 `UrlString` ，請參閱[&#40;SSRS Configuration Manager&#41;的 URL 保留語法](url-reservation-syntax-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="c92e3-114">For more information about the syntax of just the `UrlString` element, see [URL Reservation Syntax  &#40;SSRS Configuration Manager&#41;](url-reservation-syntax-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="c92e3-115">如需有關如何設定 URL 以供應用程式存取的指示，請參閱 [設定 URL &#40;SSRS 組態管理員&#41;](configure-a-url-ssrs-configuration-manager.md)。</span><span class="sxs-lookup"><span data-stu-id="c92e3-115">For instructions on how to configure URLs for application access, see [Configure a URL  &#40;SSRS Configuration Manager&#41;](configure-a-url-ssrs-configuration-manager.md).</span></span>  
  
#### <a name="urls-for-report-access"></a><span data-ttu-id="c92e3-116">供報表存取的 URL</span><span class="sxs-lookup"><span data-stu-id="c92e3-116">URLs for Report Access</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="c92e3-117">包含一個報表伺服器電子郵件傳遞延伸模組，可用來傳送報表連結或附加檔案。</span><span class="sxs-lookup"><span data-stu-id="c92e3-117">includes a report server e-mail delivery extension that you can use to send report links or attachments.</span></span> <span data-ttu-id="c92e3-118">當傳遞報表時，就會建構報表連結。</span><span class="sxs-lookup"><span data-stu-id="c92e3-118">A report link is constructed when the report is delivered.</span></span> <span data-ttu-id="c92e3-119">此報表伺服器電子郵件傳遞延伸模組會使用組態檔中的 `UrlRoot` 設定來建立此連結。</span><span class="sxs-lookup"><span data-stu-id="c92e3-119">The report server e-mail delivery extension uses the `UrlRoot` setting in the configuration file to create the link.</span></span> <span data-ttu-id="c92e3-120">`UrlRoot` 也會用來解析透過自動報表處理產生之轉譯報表中的連結。</span><span class="sxs-lookup"><span data-stu-id="c92e3-120">`UrlRoot` is also used to resolve links in a rendered report that is generated through unattended report processing.</span></span>  
  
 <span data-ttu-id="c92e3-121">當您設定用於應用程式存取的 URL 時，`UrlRoot` 便會自動指定於 RSReportServer.config 檔案中。</span><span class="sxs-lookup"><span data-stu-id="c92e3-121">`UrlRoot` is specified automatically in the RSReportServer.config file when you configure URLs for application access.</span></span> <span data-ttu-id="c92e3-122">如果您在組態檔中修改這個值，您必須指定報表伺服器 Web 服務的有效 URL 位址，該服務會連接到包含您要傳遞之報表的報表伺服器資料庫。</span><span class="sxs-lookup"><span data-stu-id="c92e3-122">If you modify this value in the configuration file, you must specify a valid URL address to a Report Server Web service that is connected to a report server database that contains the reports you want to deliver.</span></span> <span data-ttu-id="c92e3-123">您只能為單一報表伺服器執行個體指定一個 `UrlRoot`；任何給定之報表伺服器執行個體的 RSReportServer.config 檔案中只能有一個 `UrlRoot` 項目存在。</span><span class="sxs-lookup"><span data-stu-id="c92e3-123">You can only specify one `UrlRoot` for a single report server instance; only one `UrlRoot` entry can exist in the RSReportServer.config file for any given report server instance.</span></span> <span data-ttu-id="c92e3-124">如果您為報表伺服器 Web 服務保留多個 URL，您必須為 `UrlRoot` 選擇其中一個可用的值。</span><span class="sxs-lookup"><span data-stu-id="c92e3-124">If you have multiple URLs reserved for the Report Server Web service, you must choose one of the available values for `UrlRoot`.</span></span>  
  
 <span data-ttu-id="c92e3-125">在大部分情況下，您不需要修改 `UrlRoot`。</span><span class="sxs-lookup"><span data-stu-id="c92e3-125">In most cases, you do not need to modify `UrlRoot`.</span></span> <span data-ttu-id="c92e3-126">不過，如果報表伺服器將透過完整的 URL 存取，而且您並未設定 URL 來使用完整網站名稱的主機標頭，您就必須手動編輯 RSReportServer.config，將設定 `UrlRoot` 為要用來轉譯報表的完整報表伺服器 URL (例如 `https://www.adventure-works.com/mywebapp/reportserver`) 。</span><span class="sxs-lookup"><span data-stu-id="c92e3-126">However, if the report server will be accessed through a fully qualified URL, and you did not configure a URL that uses a host header to the fully qualified site name, you must edit the RSReportServer.config manually to set the `UrlRoot` to the fully qualified report server URL that will be used to render the report (for example, `https://www.adventure-works.com/mywebapp/reportserver`).</span></span>  
  
#### <a name="urls-connecting-report-manager-and-web-parts-to-the-report-server-web-service"></a><span data-ttu-id="c92e3-127">將報表管理員和 Web 組件連接到報表伺服器 Web 服務的 URL</span><span class="sxs-lookup"><span data-stu-id="c92e3-127">URLs Connecting Report Manager and Web Parts to the Report Server Web Service</span></span>  
 <span data-ttu-id="c92e3-128">報表管理員和 Reporting Services 的 SharePoint 2.0 Web 組件是用來連接報表伺服器的 Web 前端元件。</span><span class="sxs-lookup"><span data-stu-id="c92e3-128">Report Manager and the SharePoint 2.0 Web Parts for Reporting Services are Web front-end components that connect to a report server.</span></span> <span data-ttu-id="c92e3-129">用來連接後端報表伺服器的 URL 包含以下項目：</span><span class="sxs-lookup"><span data-stu-id="c92e3-129">URLs used to connect to a backend report server include the following:</span></span>  
  
-   <span data-ttu-id="c92e3-130">`ReportServerUrl` (由報表管理員使用)</span><span class="sxs-lookup"><span data-stu-id="c92e3-130">`ReportServerUrl` (used by Report Manager)</span></span>  
  
-   <span data-ttu-id="c92e3-131">`ReportServerExternalUrl` (由 Web 組件使用)</span><span class="sxs-lookup"><span data-stu-id="c92e3-131">`ReportServerExternalUrl` (used by Web Parts)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c92e3-132">舊版 Reporting Services 包含 `ReportServerVirtualDirectory` 元素。</span><span class="sxs-lookup"><span data-stu-id="c92e3-132">Previous versions of Reporting Services included the `ReportServerVirtualDirectory` element.</span></span> <span data-ttu-id="c92e3-133">但是，在 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] 和更新版本中，此值已經過時。</span><span class="sxs-lookup"><span data-stu-id="c92e3-133">This value is obsolete in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="c92e3-134">如果您已升級現有的安裝，而且正在使用包含此設定的組態檔，則報表伺服器就不會再讀取這個值。</span><span class="sxs-lookup"><span data-stu-id="c92e3-134">If you upgraded an existing installation and are using a configuration file that contains this setting, the report server no longer reads this value.</span></span>  
  
 <span data-ttu-id="c92e3-135">下表提供可以在 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] 組態檔中指定之所有 URL 的摘要。</span><span class="sxs-lookup"><span data-stu-id="c92e3-135">The following table provides a summary of all the URLs that can be specified in a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] configuration file.</span></span>  
  
|<span data-ttu-id="c92e3-136">設定</span><span class="sxs-lookup"><span data-stu-id="c92e3-136">Setting</span></span>|<span data-ttu-id="c92e3-137">使用量</span><span class="sxs-lookup"><span data-stu-id="c92e3-137">Usage</span></span>|<span data-ttu-id="c92e3-138">描述</span><span class="sxs-lookup"><span data-stu-id="c92e3-138">Description</span></span>|  
|-------------|-----------|-----------------|  
|`ReportServerUrl`|<span data-ttu-id="c92e3-139">選擇性。</span><span class="sxs-lookup"><span data-stu-id="c92e3-139">Optional.</span></span> <span data-ttu-id="c92e3-140">除非您自行加入，否則這個元素不會包含在 RSReportServer.config 檔案中。</span><span class="sxs-lookup"><span data-stu-id="c92e3-140">This element is not included in the RSReportServer.config file unless you add it yourself.</span></span> <span data-ttu-id="c92e3-141">只有當您要設定以下其中一個狀況時，才能設定這個元素：</span><span class="sxs-lookup"><span data-stu-id="c92e3-141">Set this element only if you are configuring one of the following scenarios:</span></span><br /><br /> <span data-ttu-id="c92e3-142">報表管理員會提供報表伺服器 Web 服務的 Web 前端存取權，該服務可在不同電腦上執行或是在相同電腦的不同執行個體上執行。</span><span class="sxs-lookup"><span data-stu-id="c92e3-142">Report Manager provides Web front-end access to a Report Server Web service that runs on a different computer or a different instance on the same computer.</span></span><br /><br /> <span data-ttu-id="c92e3-143">當您擁有報表伺服器的多個 URL，而且希望報表管理員使用特定的 URL 時。</span><span class="sxs-lookup"><span data-stu-id="c92e3-143">When you have multiple URLs to a report server and you want Report Manager to use a specific URL.</span></span><br /><br /> <span data-ttu-id="c92e3-144">您擁有特定報表伺服器 URL，您希望所有報表管理員連接都使用此 URL。</span><span class="sxs-lookup"><span data-stu-id="c92e3-144">You have a specific report server URL through which you want all Report Manager connections to use.</span></span><br /><br /> <span data-ttu-id="c92e3-145">例如，您可能會啟用網路上所有電腦的報表管理員存取權，但是您需要報表管理員透過本機連接來連接報表伺服器。</span><span class="sxs-lookup"><span data-stu-id="c92e3-145">For example, you might enable Report Manager access for all computers on network, yet require that Report Manager connect to the report server through a local connection.</span></span> <span data-ttu-id="c92e3-146">在此情況下，您可能會將設定 `ReportServerUrl` 為 " http://localhost/reportserver "。</span><span class="sxs-lookup"><span data-stu-id="c92e3-146">In this case, you might configure `ReportServerUrl` to "http://localhost/reportserver".</span></span><br /><br /> <br /><br /> <span data-ttu-id="c92e3-147">如需如何執行這些案例的指示，請參閱《線上叢書》中的[設定 &#40;原生模式&#41;報表管理員](../report-server/configure-web-portal.md) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 。</span><span class="sxs-lookup"><span data-stu-id="c92e3-147">For instructions on how to implement these scenarios, see [Configure Report Manager &#40;Native Mode&#41;](../report-server/configure-web-portal.md) in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Books Online.</span></span>|<span data-ttu-id="c92e3-148">這個值會指定報表伺服器 Web 服務的 URL。</span><span class="sxs-lookup"><span data-stu-id="c92e3-148">This value specifies a URL to the Report Server Web service.</span></span> <span data-ttu-id="c92e3-149">報表管理員應用程式會在啟動時讀取這個值。</span><span class="sxs-lookup"><span data-stu-id="c92e3-149">This value is read by the Report Manager application at startup.</span></span> <span data-ttu-id="c92e3-150">如果設定了這個值，報表管理員將會連接到此 URL 中指定的報表伺服器。</span><span class="sxs-lookup"><span data-stu-id="c92e3-150">If this value is set, Report Manager will connect to the report server that is specified in the URL.</span></span><br /><br /> <span data-ttu-id="c92e3-151">根據預設，報表管理員會提供報表伺服器 Web 服務的 Web 前端存取權，該服務會在相同報表伺服器執行個體內當做報表管理員來執行。</span><span class="sxs-lookup"><span data-stu-id="c92e3-151">By default, Report Manager provides Web front-end access to the Report Server Web service that runs within the same report server instance as Report Manager.</span></span> <span data-ttu-id="c92e3-152">但是，如果您要將報表管理員搭配報表伺服器 Web 服務一起使用 (該服務屬於另一個執行個體的一部分，或是會在不同電腦的執行個體中執行)，您就可以設定此 URL 來引導報表管理員連接外部報表伺服器 Web 服務。</span><span class="sxs-lookup"><span data-stu-id="c92e3-152">However, if you want to use Report Manager with a Report Server Web service that is part of another instance or runs in an instance on a different computer, you can set this URL to direct Report Manager to connect to the external Report Server Web service.</span></span><br /><br /> <span data-ttu-id="c92e3-153">如果您在要連接的報表伺服器上安裝了安全通訊端層 (SSL) 憑證，`ReportServerUrl` 值必須是為該憑證註冊的伺服器名稱。</span><span class="sxs-lookup"><span data-stu-id="c92e3-153">If a Secure Sockets Layer (SSL) certificate is installed on the report server to which you are connecting, the `ReportServerUrl` value must be the name of the server that is registered for that certificate.</span></span> <span data-ttu-id="c92e3-154">如果您收到錯誤訊息「基礎連接已關閉: 無法為 SSL/TLS 安全通道建立信任關係」，請將 `ReportServerUrl` 設定為發出 SSL 憑證之伺服器的完整網域名稱。</span><span class="sxs-lookup"><span data-stu-id="c92e3-154">If you get the error, "The underlying connection was closed: Could not establish trust relationship for the SSL/TLS security channel", set `ReportServerUrl` to the fully qualified domain name of the server for which the SSL certificate was issued.</span></span> <span data-ttu-id="c92e3-155">例如，如果已將此憑證註冊到 **https:\//adventure-works.com.onlinesales**，報表伺服器 URL 即為 **https:\//adventure-works.com.onlinesales/reportserver**。</span><span class="sxs-lookup"><span data-stu-id="c92e3-155">For example, if the certificate is registered to **https:\//adventure-works.com.onlinesales**, the report server URL would be **https:\//adventure-works.com.onlinesales/reportserver**.</span></span>|  
|`ReportServerExternalUrl`|<span data-ttu-id="c92e3-156">選擇性。</span><span class="sxs-lookup"><span data-stu-id="c92e3-156">Optional.</span></span> <span data-ttu-id="c92e3-157">除非您自行加入，否則這個元素不會包含在 RSReportServer.config 檔案中。</span><span class="sxs-lookup"><span data-stu-id="c92e3-157">This element is not included in the RSReportServer.config file unless you add it yourself.</span></span><br /><br /> <span data-ttu-id="c92e3-158">只有當您要使用 SharePoint 2.0 Web 組件，而且希望使用者能夠擷取報表，並在新的瀏覽器視窗中開啟此報表時，才設定這個元素。</span><span class="sxs-lookup"><span data-stu-id="c92e3-158">Set this element only if you are using the SharePoint 2.0 Web Parts and you want users to be able to retrieve a report and open it in a new browser window.</span></span><br /><br /> <span data-ttu-id="c92e3-159">將 <`ReportServerExternalUrl`> 加入 <的 `ReportServerUrl`> 專案底下，然後將它設定為在另一個瀏覽器視窗中存取時，解析為報表伺服器實例的完整報表伺服器名稱。</span><span class="sxs-lookup"><span data-stu-id="c92e3-159">Add <`ReportServerExternalUrl`> underneath the <`ReportServerUrl`> element, and then set it to a fully qualified report server name that resolves to a report server instance when accessed in a separate browser window.</span></span> <span data-ttu-id="c92e3-160">請勿刪除 <`ReportServerUrl`>。</span><span class="sxs-lookup"><span data-stu-id="c92e3-160">Do not delete <`ReportServerUrl`>.</span></span><br /><br /> <span data-ttu-id="c92e3-161">下列範例說明語法：</span><span class="sxs-lookup"><span data-stu-id="c92e3-161">The following example illustrates the syntax:</span></span><br /><br /> `<ReportServerExternalUrl>http://myserver/reportserver</ReportServerExternalUrl>`|<span data-ttu-id="c92e3-162">這個值是由 SharePoint 2.0 Web 組件使用。</span><span class="sxs-lookup"><span data-stu-id="c92e3-162">This value is used by the SharePoint 2.0 Web Parts.</span></span><br /><br /> <span data-ttu-id="c92e3-163">舊版中曾經建議您設定這個值，以便將「報表產生器」部署在供網際網路存取的報表伺服器上，</span><span class="sxs-lookup"><span data-stu-id="c92e3-163">In previous releases, it was recommended that you set this value to deploy Report Builder on an Internet-facing report server.</span></span> <span data-ttu-id="c92e3-164">這是未經測試的部署狀況。</span><span class="sxs-lookup"><span data-stu-id="c92e3-164">This is an untested deployment scenario.</span></span> <span data-ttu-id="c92e3-165">如果您過去使用這項設定來支援「報表產生器」的網際網路存取，現在應該考慮改用替代的策略。</span><span class="sxs-lookup"><span data-stu-id="c92e3-165">If you used this setting in the past to support Internet access to Report Builder, you should consider an alternative strategy.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="c92e3-166">另請參閱</span><span class="sxs-lookup"><span data-stu-id="c92e3-166">See Also</span></span>  
 <span data-ttu-id="c92e3-167">[設定報表伺服器 URL &#40;SSRS 組態管理員&#41;](configure-report-server-urls-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="c92e3-167">[Configure Report Server URLs  &#40;SSRS Configuration Manager&#41;](configure-report-server-urls-ssrs-configuration-manager.md) </span></span>  
 [<span data-ttu-id="c92e3-168">設定 URL &#40;SSRS 組態管理員&#41;</span><span class="sxs-lookup"><span data-stu-id="c92e3-168">Configure a URL  &#40;SSRS Configuration Manager&#41;</span></span>](configure-a-url-ssrs-configuration-manager.md)  
  
  
